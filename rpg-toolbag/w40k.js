!function(){"use strict";function e(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}const t=4294967296,s=[4294967295,-4294967296],n=[0,-0x8000000000000000],o=[0,0],r=[1,0];function i(e,t){return l(e[0]+t[0],e[1]+t[1])}function a(e){var t=[];return t[e-1]=void 0,t}function c(e,s){return n=~~Math.max(Math.min(e[1]/t,2147483647),-2147483648)&~~Math.max(Math.min(s[1]/t,2147483647),-2147483648),o=m(e)&m(s),r=o,o<0&&(r+=t),[r,n*t];var n,o,r}function d(e,t){var s,n;return e[0]==t[0]&&e[1]==t[1]?0:(s=e[1]<0,n=t[1]<0,s&&!n?-1:!s&&n?1:g(e,t)[1]<0?-1:1)}function l(e,s){var n,o;for(e%=0x10000000000000000,s=(s%=0x10000000000000000)-(n=s%t)+(o=Math.floor(e/t)*t),e=e-o+n;e<0;)e+=t,s-=t;for(;e>4294967295;)e-=t,s+=t;for(s%=0x10000000000000000;s>0x7fffffff00000000;)s-=0x10000000000000000;for(;s<-0x8000000000000000;)s+=0x10000000000000000;return[e,s]}function u(e,t){return e[0]==t[0]&&e[1]==t[1]}function _(e){return e>=0?[e,0]:[e+t,-4294967296]}function m(e){return e[0]>=2147483648?~~Math.max(Math.min(e[0]-t,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function p(e){return e<=30?1<<e:p(30)*p(e-30)}function f(e,s){var r,i,a,c;if(s&=63,u(e,n))return s?o:e;if(e[1]<0)throw new Error("Neg");return c=p(s),i=e[1]*c%0x10000000000000000,(i+=r=(a=e[0]*c)-a%t)>=0x8000000000000000&&(i-=0x10000000000000000),[a-=r,i]}function h(e,t){var s;return s=p(t&=63),l(Math.floor(e[0]/s),e[1]/s)}function g(e,t){return l(e[0]-t[0],e[1]-t[1])}function v(e,t){return e.buf=t,e.pos=0,e.count=t.length,e}function P(e){return e.pos>=e.count?-1:255&e.buf[e.pos++]}function B(e,t,s,n){return e.pos>=e.count?-1:(n=Math.min(n,e.count-e.pos),y(e.buf,e.pos,t,s,n),e.pos+=n,n)}function S(e){return e.buf=a(32),e.count=0,e}function k(e){var t=e.buf;return t.length=e.count,t}function b(e,t){e.buf[e.count++]=t<<24>>24}function E(e,t,s,n){y(t,s,e.buf,e.count,n),e.count+=n}function y(e,t,s,n,o){for(var r=0;r<o;++r)s[n+r]=e[t+r]}function w(e,t){return e._bufferBase[e._bufferOffset+e._pos+t]}function D(e,t,s,n){var o,r;for(e._streamEndWasReached&&e._pos+t+n>e._streamPos&&(n=e._streamPos-(e._pos+t)),++s,r=e._bufferOffset+e._pos+t,o=0;o<n&&e._bufferBase[r+o]==e._bufferBase[r+o-s];++o);return o}function M(e){return e._streamPos-e._pos}function C(e){var t,s;if(!e._streamEndWasReached)for(;;){if(!(s=-e._bufferOffset+e._blockSize-e._streamPos))return;if(-1==(t=B(e._stream,e._bufferBase,e._bufferOffset+e._streamPos,s)))return e._posLimit=e._streamPos,e._bufferOffset+e._posLimit>e._pointerToLastSafePosition&&(e._posLimit=e._pointerToLastSafePosition-e._bufferOffset),void(e._streamEndWasReached=1);e._streamPos+=t,e._streamPos>=e._pos+e._keepSizeAfter&&(e._posLimit=e._streamPos-e._keepSizeAfter)}}function L(e,t){e._bufferOffset+=t,e._posLimit-=t,e._pos-=t,e._streamPos-=t}var R=function(){var e,t,s,n=[];for(e=0;e<256;++e){for(s=e,t=0;t<8;++t)0!=(1&s)?s=s>>>1^-306674912:s>>>=1;n[e]=s}return n}();function x(e){var t;++e._cyclicBufferPos>=e._cyclicBufferSize&&(e._cyclicBufferPos=0),function(e){++e._pos,e._pos>e._posLimit&&(e._bufferOffset+e._pos>e._pointerToLastSafePosition&&function(e){var t,s,n;for((n=e._bufferOffset+e._pos-e._keepSizeBefore)>0&&--n,s=e._bufferOffset+e._streamPos-n,t=0;t<s;++t)e._bufferBase[t]=e._bufferBase[n+t];e._bufferOffset-=n}(e),C(e))}(e),1073741823==e._pos&&(t=e._pos-e._cyclicBufferSize,I(e._son,2*e._cyclicBufferSize,t),I(e._hash,e._hashSizeSum,t),L(e,t))}function I(e,t,s){var n,o;for(n=0;n<t;++n)(o=e[n]||0)<=s?o=0:o-=s,e[n]=o}function A(e){var t=e._pos-e._streamPos;t&&(E(e._stream,e._buffer,e._streamPos,t),e._pos>=e._windowSize&&(e._pos=0),e._streamPos=e._pos)}function T(e,t){var s=e._pos-t-1;return s<0&&(s+=e._windowSize),e._buffer[s]}function F(e){A(e),e._stream=null}function z(e){return(e-=2)<4?e:3}function H(e){return e<4?0:e<10?e-3:e-6}function O(e){if(!e.alive)throw new Error("bad state");return e.encoder?function(e){(function(e,t,s,n){var a,c,l,p,f,h,v,P,B,S,k,b,E,y,D;if(t[0]=o,s[0]=o,n[0]=1,e._inStream&&(e._matchFinder._stream=e._inStream,function(e){e._bufferOffset=0,e._pos=0,e._streamPos=0,e._streamEndWasReached=0,C(e),e._cyclicBufferPos=0,L(e,-1)}(e._matchFinder),e._needReleaseMFStream=1,e._inStream=null),!e._finished){if(e._finished=1,y=e.nowPos64,u(e.nowPos64,o)){if(!M(e._matchFinder))return void K(e,m(e.nowPos64));te(e),E=m(e.nowPos64)&e._posStateMask,Me(e._rangeEncoder,e._isMatch,(e._state<<4)+E,0),e._state=H(e._state),l=w(e._matchFinder,-e._additionalOffset),ue(le(e._literalEncoder,m(e.nowPos64),e._previousByte),e._rangeEncoder,l),e._previousByte=l,--e._additionalOffset,e.nowPos64=i(e.nowPos64,r)}if(M(e._matchFinder))for(;;){if(v=Z(e,m(e.nowPos64)),S=e.backRes,E=m(e.nowPos64)&e._posStateMask,c=(e._state<<4)+E,1==v&&-1==S)Me(e._rangeEncoder,e._isMatch,c,0),l=w(e._matchFinder,-e._additionalOffset),D=le(e._literalEncoder,m(e.nowPos64),e._previousByte),e._state<7?ue(D,e._rangeEncoder,l):(B=w(e._matchFinder,-e._repDistances[0]-1-e._additionalOffset),_e(D,e._rangeEncoder,B,l)),e._previousByte=l,e._state=H(e._state);else{if(Me(e._rangeEncoder,e._isMatch,c,1),S<4){if(Me(e._rangeEncoder,e._isRep,e._state,1),S?(Me(e._rangeEncoder,e._isRepG0,e._state,1),1==S?Me(e._rangeEncoder,e._isRepG1,e._state,0):(Me(e._rangeEncoder,e._isRepG1,e._state,1),Me(e._rangeEncoder,e._isRepG2,e._state,S-2))):(Me(e._rangeEncoder,e._isRepG0,e._state,0),Me(e._rangeEncoder,e._isRep0Long,c,1==v?0:1)),1==v?e._state=e._state<7?9:11:(ie(e._repMatchLenEncoder,e._rangeEncoder,v-2,E),e._state=e._state<7?8:11),p=e._repDistances[S],0!=S){for(h=S;h>=1;--h)e._repDistances[h]=e._repDistances[h-1];e._repDistances[0]=p}}else{for(Me(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,ie(e._lenEncoder,e._rangeEncoder,v-2,E),b=ne(S-=4),P=z(v),Pe(e._posSlotEncoder[P],e._rangeEncoder,b),b>=4&&(k=S-(a=(2|1&b)<<(f=(b>>1)-1)),b<14?be(e._posEncoders,a-b-1,e._rangeEncoder,f,k):(Ce(e._rangeEncoder,k>>4,f-4),Se(e._posAlignEncoder,e._rangeEncoder,15&k),++e._alignPriceCount)),p=S,h=3;h>=1;--h)e._repDistances[h]=e._repDistances[h-1];e._repDistances[0]=p,++e._matchPriceCount}e._previousByte=w(e._matchFinder,v-1-e._additionalOffset)}if(e._additionalOffset-=v,e.nowPos64=i(e.nowPos64,_(v)),!e._additionalOffset){if(e._matchPriceCount>=128&&q(e),e._alignPriceCount>=16&&V(e),t[0]=e.nowPos64,s[0]=Le(e._rangeEncoder),!M(e._matchFinder))return void K(e,m(e.nowPos64));if(d(g(e.nowPos64,y),[4096,0])>=0)return e._finished=0,void(n[0]=0)}}else K(e,m(e.nowPos64))}})(e.encoder,e.encoder.processedInSize,e.encoder.processedOutSize,e.encoder.finished),e.inBytesProcessed=e.encoder.processedInSize[0],e.encoder.finished[0]&&(function(e){se(e),e._rangeEncoder.Stream=null}(e.encoder),e.alive=0)}(e):function(e){var t=function(e){var t,s,n,o,a,c;if(c=m(e.nowPos64)&e.m_PosStateMask,ye(e.m_RangeDecoder,e.m_IsMatchDecoders,(e.state<<4)+c)){if(ye(e.m_RangeDecoder,e.m_IsRepDecoders,e.state))n=0,ye(e.m_RangeDecoder,e.m_IsRepG0Decoders,e.state)?(ye(e.m_RangeDecoder,e.m_IsRepG1Decoders,e.state)?(ye(e.m_RangeDecoder,e.m_IsRepG2Decoders,e.state)?(s=e.rep3,e.rep3=e.rep2):s=e.rep2,e.rep2=e.rep1):s=e.rep1,e.rep1=e.rep0,e.rep0=s):ye(e.m_RangeDecoder,e.m_IsRep0LongDecoders,(e.state<<4)+c)||(e.state=e.state<7?9:11,n=1),n||(n=W(e.m_RepLenDecoder,e.m_RangeDecoder,c)+2,e.state=e.state<7?8:11);else if(e.rep3=e.rep2,e.rep2=e.rep1,e.rep1=e.rep0,n=2+W(e.m_LenDecoder,e.m_RangeDecoder,c),e.state=e.state<7?7:10,(a=ge(e.m_PosSlotDecoder[z(n)],e.m_RangeDecoder))>=4){if(o=(a>>1)-1,e.rep0=(2|1&a)<<o,a<14)e.rep0+=function(e,t,s,n){var o,r,i=1,a=0;for(r=0;r<n;++r)o=ye(s,e,t+i),i<<=1,i+=o,a|=o<<r;return a}(e.m_PosDecoders,e.rep0-a-1,e.m_RangeDecoder,o);else if(e.rep0+=function(e,t){var s,n,o=0;for(s=t;0!=s;--s)e.Range>>>=1,n=e.Code-e.Range>>>31,e.Code-=e.Range&n-1,o=o<<1|1-n,-16777216&e.Range||(e.Code=e.Code<<8|P(e.Stream),e.Range<<=8);return o}(e.m_RangeDecoder,o-4)<<4,e.rep0+=function(e,t){var s,n,o=1,r=0;for(n=0;n<e.NumBitLevels;++n)s=ye(t,e.Models,o),o<<=1,o+=s,r|=s<<n;return r}(e.m_PosAlignDecoder,e.m_RangeDecoder),e.rep0<0)return-1==e.rep0?1:-1}else e.rep0=a;if(d(_(e.rep0),e.nowPos64)>=0||e.rep0>=e.m_DictionarySizeCheck)return-1;!function(e,t,s){var n=e._pos-t-1;for(n<0&&(n+=e._windowSize);0!=s;--s)n>=e._windowSize&&(n=0),e._buffer[e._pos++]=e._buffer[n++],e._pos>=e._windowSize&&A(e)}(e.m_OutWindow,e.rep0,n),e.nowPos64=i(e.nowPos64,_(n)),e.prevByte=T(e.m_OutWindow,0)}else t=function(e,t,s){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&s)>>>8-e.m_NumPrevBits)]}(e.m_LiteralDecoder,m(e.nowPos64),e.prevByte),e.state<7?e.prevByte=function(e,t){var s=1;do{s=s<<1|ye(t,e.m_Decoders,s)}while(s<256);return s<<24>>24}(t,e.m_RangeDecoder):e.prevByte=function(e,t,s){var n,o,r=1;do{if(o=s>>7&1,s<<=1,r=r<<1|(n=ye(t,e.m_Decoders,(1+o<<8)+r)),o!=n){for(;r<256;)r=r<<1|ye(t,e.m_Decoders,r);break}}while(r<256);return r<<24>>24}(t,e.m_RangeDecoder,T(e.m_OutWindow,e.rep0)),function(e,t){e._buffer[e._pos++]=t,e._pos>=e._windowSize&&A(e)}(e.m_OutWindow,e.prevByte),e.state=H(e.state),e.nowPos64=i(e.nowPos64,r);return 0}(e.decoder);if(-1==t)throw new Error("corrupted input");e.inBytesProcessed=s,e.outBytesProcessed=e.decoder.nowPos64,(t||d(e.decoder.outSize,o)>=0&&d(e.decoder.nowPos64,e.decoder.outSize)>=0)&&(A(e.decoder.m_OutWindow),F(e.decoder.m_OutWindow),e.decoder.m_RangeDecoder.Stream=null,e.alive=0)}(e),e.alive}function N(e,t){for(;e.m_NumPosStates<t;++e.m_NumPosStates)e.m_LowCoder[e.m_NumPosStates]=he({},3),e.m_MidCoder[e.m_NumPosStates]=he({},3)}function W(e,t,s){if(!ye(t,e.m_Choice,0))return ge(e.m_LowCoder[s],t);var n=8;return ye(t,e.m_Choice,1)?n+=8+ge(e.m_HighCoder,t):n+=ge(e.m_MidCoder[s],t),n}function G(e){return e.m_Choice=a(2),e.m_LowCoder=a(16),e.m_MidCoder=a(16),e.m_HighCoder=he({},8),e.m_NumPosStates=0,e}function U(e){we(e.m_Choice);for(var t=0;t<e.m_NumPosStates;++t)we(e.m_LowCoder[t].Models),we(e.m_MidCoder[t].Models);we(e.m_HighCoder.Models)}function Y(e){return e.m_Decoders=a(768),e}var j=function(){var e,t,s,n=2,o=[0,1];for(s=2;s<22;++s)for(t=1<<(s>>1)-1,e=0;e<t;++e,++n)o[n]=s<<24>>24;return o}();function J(e,t){var s,n,o,r;e._optimumEndIndex=t,o=e._optimum[t].PosPrev,n=e._optimum[t].BackPrev;do{e._optimum[t].Prev1IsChar&&(fe(e._optimum[o]),e._optimum[o].PosPrev=o-1,e._optimum[t].Prev2&&(e._optimum[o-1].Prev1IsChar=0,e._optimum[o-1].PosPrev=e._optimum[t].PosPrev2,e._optimum[o-1].BackPrev=e._optimum[t].BackPrev2)),r=o,s=n,n=e._optimum[r].BackPrev,o=e._optimum[r].PosPrev,e._optimum[r].BackPrev=s,e._optimum[r].PosPrev=t,t=r}while(t>0);return e.backRes=e._optimum[0].BackPrev,e._optimumCurrentIndex=e._optimum[0].PosPrev,e._optimumCurrentIndex}function V(e){for(var t=0;t<16;++t)e._alignPrices[t]=ke(e._posAlignEncoder,t);e._alignPriceCount=0}function q(e){var t,s,n,o,r,i,a,c;for(o=4;o<128;++o)t=(2|1&(i=ne(o)))<<(n=(i>>1)-1),e.tempPrices[o]=Ee(e._posEncoders,t-i-1,n,o-t);for(r=0;r<4;++r){for(s=e._posSlotEncoder[r],a=r<<6,i=0;i<e._distTableSize;++i)e._posSlotPrices[a+i]=Be(s,i);for(i=14;i<e._distTableSize;++i)e._posSlotPrices[a+i]+=(i>>1)-1-4<<6;for(c=128*r,o=0;o<4;++o)e._distancesPrices[c+o]=e._posSlotPrices[a+o];for(;o<128;++o)e._distancesPrices[c+o]=e._posSlotPrices[a+ne(o)]+e.tempPrices[o]}e._matchPriceCount=0}function K(e,t){se(e),function(e,t){if(e._writeEndMark){Me(e._rangeEncoder,e._isMatch,(e._state<<4)+t,1),Me(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,ie(e._lenEncoder,e._rangeEncoder,0,t);var s=z(2);Pe(e._posSlotEncoder[s],e._rangeEncoder,63),Ce(e._rangeEncoder,67108863,26),Se(e._posAlignEncoder,e._rangeEncoder,15)}}(e,t&e._posStateMask);for(var s=0;s<5;++s)Re(e._rangeEncoder)}function Z(e,t){var s,n,o,r,i,a,c,d,l,u,_,m,p,f,h,g,v,P,B,S,k,b,E,y,C,L,R,x,I,A,T,F,z,O,N,W,G,U,Y,j,$,V,q,K;if(e._optimumEndIndex!=e._optimumCurrentIndex)return p=e._optimum[e._optimumCurrentIndex].PosPrev-e._optimumCurrentIndex,e.backRes=e._optimum[e._optimumCurrentIndex].BackPrev,e._optimumCurrentIndex=e._optimum[e._optimumCurrentIndex].PosPrev,p;if(e._optimumCurrentIndex=e._optimumEndIndex=0,e._longestMatchWasFound?(m=e._longestMatchLength,e._longestMatchWasFound=0):m=te(e),L=e._numDistancePairs,(y=M(e._matchFinder)+1)<2)return e.backRes=-1,1;for(y>273&&(y=273),Y=0,l=0;l<4;++l)e.reps[l]=e._repDistances[l],e.repLens[l]=D(e._matchFinder,-1,e.reps[l],273),e.repLens[l]>e.repLens[Y]&&(Y=l);if(e.repLens[Y]>=e._numFastBytes)return e.backRes=Y,ee(e,(p=e.repLens[Y])-1),p;if(m>=e._numFastBytes)return e.backRes=e._matchDistances[L-1]+4,ee(e,m-1),m;if(c=w(e._matchFinder,-1),v=w(e._matchFinder,-e._repDistances[0]-1-1),m<2&&c!=v&&e.repLens[Y]<2)return e.backRes=-1,1;if(e._optimum[0].State=e._state,z=t&e._posStateMask,e._optimum[1].Price=De[e._isMatch[(e._state<<4)+z]>>>2]+pe(le(e._literalEncoder,t,e._previousByte),e._state>=7,v,c),fe(e._optimum[1]),U=(P=De[2048-e._isMatch[(e._state<<4)+z]>>>2])+De[2048-e._isRep[e._state]>>>2],v==c&&(j=U+function(e,t,s){return De[e._isRepG0[t]>>>2]+De[e._isRep0Long[(t<<4)+s]>>>2]}(e,e._state,z),j<e._optimum[1].Price&&(e._optimum[1].Price=j,function(e){e.BackPrev=0,e.Prev1IsChar=0}(e._optimum[1]))),(_=m>=e.repLens[Y]?m:e.repLens[Y])<2)return e.backRes=e._optimum[1].BackPrev,1;e._optimum[1].PosPrev=0,e._optimum[0].Backs0=e.reps[0],e._optimum[0].Backs1=e.reps[1],e._optimum[0].Backs2=e.reps[2],e._optimum[0].Backs3=e.reps[3],u=_;do{e._optimum[u--].Price=268435455}while(u>=2);for(l=0;l<4;++l)if(!((G=e.repLens[l])<2)){N=U+X(e,l,e._state,z);do{(r=N+ce(e._repMatchLenEncoder,G-2,z))<(A=e._optimum[G]).Price&&(A.Price=r,A.PosPrev=0,A.BackPrev=l,A.Prev1IsChar=0)}while(--G>=2)}if(E=P+De[e._isRep[e._state]>>>2],(u=e.repLens[0]>=2?e.repLens[0]+1:2)<=m){for(R=0;u>e._matchDistances[R];)R+=2;for(;(r=E+Q(e,d=e._matchDistances[R+1],u,z))<(A=e._optimum[u]).Price&&(A.Price=r,A.PosPrev=0,A.BackPrev=d+4,A.Prev1IsChar=0),u!=e._matchDistances[R]||(R+=2)!=L;++u);}for(s=0;;){if(++s==_)return J(e,s);if(B=te(e),L=e._numDistancePairs,B>=e._numFastBytes)return e._longestMatchLength=B,e._longestMatchWasFound=1,J(e,s);if(++t,F=e._optimum[s].PosPrev,e._optimum[s].Prev1IsChar?(--F,e._optimum[s].Prev2?(V=e._optimum[e._optimum[s].PosPrev2].State,V=e._optimum[s].BackPrev2<4?V<7?8:11:V<7?7:10):V=e._optimum[F].State,V=H(V)):V=e._optimum[F].State,F==s-1?V=e._optimum[s].BackPrev?H(V):V<7?9:11:(e._optimum[s].Prev1IsChar&&e._optimum[s].Prev2?(F=e._optimum[s].PosPrev2,T=e._optimum[s].BackPrev2,V=V<7?8:11):V=(T=e._optimum[s].BackPrev)<4?V<7?8:11:V<7?7:10,I=e._optimum[F],T<4?T?1==T?(e.reps[0]=I.Backs1,e.reps[1]=I.Backs0,e.reps[2]=I.Backs2,e.reps[3]=I.Backs3):2==T?(e.reps[0]=I.Backs2,e.reps[1]=I.Backs0,e.reps[2]=I.Backs1,e.reps[3]=I.Backs3):(e.reps[0]=I.Backs3,e.reps[1]=I.Backs0,e.reps[2]=I.Backs1,e.reps[3]=I.Backs2):(e.reps[0]=I.Backs0,e.reps[1]=I.Backs1,e.reps[2]=I.Backs2,e.reps[3]=I.Backs3):(e.reps[0]=T-4,e.reps[1]=I.Backs0,e.reps[2]=I.Backs1,e.reps[3]=I.Backs2)),e._optimum[s].State=V,e._optimum[s].Backs0=e.reps[0],e._optimum[s].Backs1=e.reps[1],e._optimum[s].Backs2=e.reps[2],e._optimum[s].Backs3=e.reps[3],a=e._optimum[s].Price,c=w(e._matchFinder,-1),v=w(e._matchFinder,-e.reps[0]-1-1),z=t&e._posStateMask,S=0,(n=a+De[e._isMatch[(V<<4)+z]>>>2]+pe(le(e._literalEncoder,t,w(e._matchFinder,-2)),V>=7,v,c))<(k=e._optimum[s+1]).Price&&(k.Price=n,k.PosPrev=s,k.BackPrev=-1,k.Prev1IsChar=0,S=1),U=(P=a+De[2048-e._isMatch[(V<<4)+z]>>>2])+De[2048-e._isRep[V]>>>2],v!=c||k.PosPrev<s&&!k.BackPrev||(j=U+(De[e._isRepG0[V]>>>2]+De[e._isRep0Long[(V<<4)+z]>>>2]))<=k.Price&&(k.Price=j,k.PosPrev=s,k.BackPrev=0,k.Prev1IsChar=0,S=1),!((y=C=4095-s<(C=M(e._matchFinder)+1)?4095-s:C)<2)){if(y>e._numFastBytes&&(y=e._numFastBytes),!S&&v!=c&&(K=Math.min(C-1,e._numFastBytes),(h=D(e._matchFinder,0,e.reps[0],K))>=2)){for(q=H(V),O=t+1&e._posStateMask,b=n+De[2048-e._isMatch[(q<<4)+O]>>>2]+De[2048-e._isRep[q]>>>2],x=s+1+h;_<x;)e._optimum[++_].Price=268435455;(r=b+(ce(e._repMatchLenEncoder,h-2,O)+X(e,0,q,O)))<(A=e._optimum[x]).Price&&(A.Price=r,A.PosPrev=s+1,A.BackPrev=0,A.Prev1IsChar=1,A.Prev2=0)}for($=2,W=0;W<4;++W)if(!((f=D(e._matchFinder,-1,e.reps[W],y))<2)){g=f;do{for(;_<s+f;)e._optimum[++_].Price=268435455;(r=U+(ce(e._repMatchLenEncoder,f-2,z)+X(e,W,V,z)))<(A=e._optimum[s+f]).Price&&(A.Price=r,A.PosPrev=s,A.BackPrev=W,A.Prev1IsChar=0)}while(--f>=2);if(f=g,W||($=f+1),f<C&&(K=Math.min(C-1-f,e._numFastBytes),(h=D(e._matchFinder,f,e.reps[W],K))>=2)){for(q=V<7?8:11,O=t+f&e._posStateMask,o=U+(ce(e._repMatchLenEncoder,f-2,z)+X(e,W,V,z))+De[e._isMatch[(q<<4)+O]>>>2]+pe(le(e._literalEncoder,t+f,w(e._matchFinder,f-1-1)),1,w(e._matchFinder,f-1-(e.reps[W]+1)),w(e._matchFinder,f-1)),q=H(q),O=t+f+1&e._posStateMask,b=o+De[2048-e._isMatch[(q<<4)+O]>>>2]+De[2048-e._isRep[q]>>>2],x=f+1+h;_<s+x;)e._optimum[++_].Price=268435455;(r=b+(ce(e._repMatchLenEncoder,h-2,O)+X(e,0,q,O)))<(A=e._optimum[s+x]).Price&&(A.Price=r,A.PosPrev=s+f+1,A.BackPrev=0,A.Prev1IsChar=1,A.Prev2=1,A.PosPrev2=s,A.BackPrev2=W)}}if(B>y){for(B=y,L=0;B>e._matchDistances[L];L+=2);e._matchDistances[L]=B,L+=2}if(B>=$){for(E=P+De[e._isRep[V]>>>2];_<s+B;)e._optimum[++_].Price=268435455;for(R=0;$>e._matchDistances[R];)R+=2;for(f=$;;++f)if((r=E+Q(e,i=e._matchDistances[R+1],f,z))<(A=e._optimum[s+f]).Price&&(A.Price=r,A.PosPrev=s,A.BackPrev=i+4,A.Prev1IsChar=0),f==e._matchDistances[R]){if(f<C&&(K=Math.min(C-1-f,e._numFastBytes),(h=D(e._matchFinder,f,i,K))>=2)){for(q=V<7?7:10,O=t+f&e._posStateMask,o=r+De[e._isMatch[(q<<4)+O]>>>2]+pe(le(e._literalEncoder,t+f,w(e._matchFinder,f-1-1)),1,w(e._matchFinder,f-(i+1)-1),w(e._matchFinder,f-1)),q=H(q),O=t+f+1&e._posStateMask,b=o+De[2048-e._isMatch[(q<<4)+O]>>>2]+De[2048-e._isRep[q]>>>2],x=f+1+h;_<s+x;)e._optimum[++_].Price=268435455;(r=b+(ce(e._repMatchLenEncoder,h-2,O)+X(e,0,q,O)))<(A=e._optimum[s+x]).Price&&(A.Price=r,A.PosPrev=s+f+1,A.BackPrev=0,A.Prev1IsChar=1,A.Prev2=1,A.PosPrev2=s,A.BackPrev2=i+4)}if((R+=2)==L)break}}}}}function Q(e,t,s,n){var o=z(s);return(t<128?e._distancesPrices[128*o+t]:e._posSlotPrices[(o<<6)+function(e){return e<131072?j[e>>6]+12:e<134217728?j[e>>16]+32:j[e>>26]+52}(t)]+e._alignPrices[15&t])+ce(e._lenEncoder,s-2,n)}function X(e,t,s,n){var o;return t?(o=De[2048-e._isRepG0[s]>>>2],1==t?o+=De[e._isRepG1[s]>>>2]:(o+=De[2048-e._isRepG1[s]>>>2],o+=xe(e._isRepG2[s],t-2))):(o=De[e._isRepG0[s]>>>2],o+=De[2048-e._isRep0Long[(s<<4)+n]>>>2]),o}function ee(e,t){t>0&&(function(e,t){var s,n,o,r,i,a,c,d,l,u,_,m,p,f,h,g,v;do{if(e._pos+e._matchMaxLen<=e._streamPos)m=e._matchMaxLen;else if((m=e._streamPos-e._pos)<e.kMinMatchCheck){x(e);continue}for(p=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,n=e._bufferOffset+e._pos,e.HASH_ARRAY?(a=1023&(v=R[255&e._bufferBase[n]]^255&e._bufferBase[n+1]),e._hash[a]=e._pos,c=65535&(v^=(255&e._bufferBase[n+2])<<8),e._hash[1024+c]=e._pos,d=(v^R[255&e._bufferBase[n+3]]<<5)&e._hashMask):d=255&e._bufferBase[n]^(255&e._bufferBase[n+1])<<8,o=e._hash[e.kFixHashSize+d],e._hash[e.kFixHashSize+d]=e._pos,h=1+(e._cyclicBufferPos<<1),g=e._cyclicBufferPos<<1,u=_=e.kNumHashDirectBytes,s=e._cutValue;;){if(o<=p||0==s--){e._son[h]=e._son[g]=0;break}if(r=((i=e._pos-o)<=e._cyclicBufferPos?e._cyclicBufferPos-i:e._cyclicBufferPos-i+e._cyclicBufferSize)<<1,f=e._bufferOffset+o,l=u<_?u:_,e._bufferBase[f+l]==e._bufferBase[n+l]){for(;++l!=m&&e._bufferBase[f+l]==e._bufferBase[n+l];);if(l==m){e._son[g]=e._son[r],e._son[h]=e._son[r+1];break}}(255&e._bufferBase[f+l])<(255&e._bufferBase[n+l])?(e._son[g]=o,g=r+1,o=e._son[g],_=l):(e._son[h]=o,h=r,o=e._son[h],u=l)}x(e)}while(0!=--t)}(e._matchFinder,t),e._additionalOffset+=t)}function te(e){var t=0;return e._numDistancePairs=function(e,t){var s,n,o,r,i,a,c,d,l,u,_,m,p,f,h,g,v,P,B,S,k;if(e._pos+e._matchMaxLen<=e._streamPos)f=e._matchMaxLen;else if((f=e._streamPos-e._pos)<e.kMinMatchCheck)return x(e),0;for(v=0,h=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,n=e._bufferOffset+e._pos,g=1,d=0,l=0,e.HASH_ARRAY?(d=1023&(k=R[255&e._bufferBase[n]]^255&e._bufferBase[n+1]),l=65535&(k^=(255&e._bufferBase[n+2])<<8),u=(k^R[255&e._bufferBase[n+3]]<<5)&e._hashMask):u=255&e._bufferBase[n]^(255&e._bufferBase[n+1])<<8,o=e._hash[e.kFixHashSize+u]||0,e.HASH_ARRAY&&(r=e._hash[d]||0,i=e._hash[1024+l]||0,e._hash[d]=e._pos,e._hash[1024+l]=e._pos,r>h&&e._bufferBase[e._bufferOffset+r]==e._bufferBase[n]&&(t[v++]=g=2,t[v++]=e._pos-r-1),i>h&&e._bufferBase[e._bufferOffset+i]==e._bufferBase[n]&&(i==r&&(v-=2),t[v++]=g=3,t[v++]=e._pos-i-1,r=i),0!=v&&r==o&&(v-=2,g=1)),e._hash[e.kFixHashSize+u]=e._pos,B=1+(e._cyclicBufferPos<<1),S=e._cyclicBufferPos<<1,m=p=e.kNumHashDirectBytes,0!=e.kNumHashDirectBytes&&o>h&&e._bufferBase[e._bufferOffset+o+e.kNumHashDirectBytes]!=e._bufferBase[n+e.kNumHashDirectBytes]&&(t[v++]=g=e.kNumHashDirectBytes,t[v++]=e._pos-o-1),s=e._cutValue;;){if(o<=h||0==s--){e._son[B]=e._son[S]=0;break}if(a=((c=e._pos-o)<=e._cyclicBufferPos?e._cyclicBufferPos-c:e._cyclicBufferPos-c+e._cyclicBufferSize)<<1,P=e._bufferOffset+o,_=m<p?m:p,e._bufferBase[P+_]==e._bufferBase[n+_]){for(;++_!=f&&e._bufferBase[P+_]==e._bufferBase[n+_];);if(g<_&&(t[v++]=g=_,t[v++]=c-1,_==f)){e._son[S]=e._son[a],e._son[B]=e._son[a+1];break}}(255&e._bufferBase[P+_])<(255&e._bufferBase[n+_])?(e._son[S]=o,S=a+1,o=e._son[S],p=_):(e._son[B]=o,B=a,o=e._son[B],m=_)}return x(e),v}(e._matchFinder,e._matchDistances),e._numDistancePairs>0&&(t=e._matchDistances[e._numDistancePairs-2])==e._numFastBytes&&(t+=D(e._matchFinder,t-1,e._matchDistances[e._numDistancePairs-1],273-t)),++e._additionalOffset,t}function se(e){e._matchFinder&&e._needReleaseMFStream&&(e._matchFinder._stream=null,e._needReleaseMFStream=0)}function ne(e){return e<2048?j[e]:e<2097152?j[e>>10]+20:j[e>>20]+40}function oe(e,t){we(e._choice);for(var s=0;s<t;++s)we(e._lowCoder[s].Models),we(e._midCoder[s].Models);we(e._highCoder.Models)}function re(e,t,s,n,o){var r,i,a,c,d;for(r=De[e._choice[0]>>>2],a=(i=De[2048-e._choice[0]>>>2])+De[e._choice[1]>>>2],c=i+De[2048-e._choice[1]>>>2],d=0,d=0;d<8;++d){if(d>=s)return;n[o+d]=r+Be(e._lowCoder[t],d)}for(;d<16;++d){if(d>=s)return;n[o+d]=a+Be(e._midCoder[t],d-8)}for(;d<s;++d)n[o+d]=c+Be(e._highCoder,d-8-8)}function ie(e,t,s,n){!function(e,t,s,n){s<8?(Me(t,e._choice,0,0),Pe(e._lowCoder[n],t,s)):(s-=8,Me(t,e._choice,0,1),s<8?(Me(t,e._choice,1,0),Pe(e._midCoder[n],t,s)):(Me(t,e._choice,1,1),Pe(e._highCoder,t,s-8)))}(e,t,s,n),0==--e._counters[n]&&(re(e,n,e._tableSize,e._prices,272*n),e._counters[n]=e._tableSize)}function ae(e){return function(e){e._choice=a(2),e._lowCoder=a(16),e._midCoder=a(16),e._highCoder=ve({},8);for(var t=0;t<16;++t)e._lowCoder[t]=ve({},3),e._midCoder[t]=ve({},3)}(e),e._prices=[],e._counters=[],e}function ce(e,t,s){return e._prices[272*s+t]}function de(e,t){for(var s=0;s<t;++s)re(e,s,e._tableSize,e._prices,272*s),e._counters[s]=e._tableSize}function le(e,t,s){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&s)>>>8-e.m_NumPrevBits)]}function ue(e,t,s){var n,o,r=1;for(o=7;o>=0;--o)n=s>>o&1,Me(t,e.m_Encoders,r,n),r=r<<1|n}function _e(e,t,s,n){var o,r,i,a,c=1,d=1;for(r=7;r>=0;--r)o=n>>r&1,a=d,c&&(a+=1+(i=s>>r&1)<<8,c=i==o),Me(t,e.m_Encoders,a,o),d=d<<1|o}function me(e){return e.m_Encoders=a(768),e}function pe(e,t,s,n){var o,r,i=1,a=7,c=0;if(t)for(;a>=0;--a)if(r=s>>a&1,o=n>>a&1,c+=xe(e.m_Encoders[(1+r<<8)+i],o),i=i<<1|o,r!=o){--a;break}for(;a>=0;--a)o=n>>a&1,c+=xe(e.m_Encoders[i],o),i=i<<1|o;return c}function fe(e){e.BackPrev=-1,e.Prev1IsChar=0}function he(e,t){return e.NumBitLevels=t,e.Models=a(1<<t),e}function ge(e,t){var s,n=1;for(s=e.NumBitLevels;0!=s;--s)n=(n<<1)+ye(t,e.Models,n);return n-(1<<e.NumBitLevels)}function ve(e,t){return e.NumBitLevels=t,e.Models=a(1<<t),e}function Pe(e,t,s){var n,o,r=1;for(o=e.NumBitLevels;0!=o;)n=s>>>--o&1,Me(t,e.Models,r,n),r=r<<1|n}function Be(e,t){var s,n,o=1,r=0;for(n=e.NumBitLevels;0!=n;)s=t>>>--n&1,r+=xe(e.Models[o],s),o=(o<<1)+s;return r}function Se(e,t,s){var n,o,r=1;for(o=0;o<e.NumBitLevels;++o)n=1&s,Me(t,e.Models,r,n),r=r<<1|n,s>>=1}function ke(e,t){var s,n,o=1,r=0;for(n=e.NumBitLevels;0!=n;--n)s=1&t,t>>>=1,r+=xe(e.Models[o],s),o=o<<1|s;return r}function be(e,t,s,n,o){var r,i,a=1;for(i=0;i<n;++i)Me(s,e,t+a,r=1&o),a=a<<1|r,o>>=1}function Ee(e,t,s,n){var o,r,i=1,a=0;for(r=s;0!=r;--r)o=1&n,n>>>=1,a+=De[(2047&(e[t+i]-o^-o))>>>2],i=i<<1|o;return a}function ye(e,t,s){var n,o=t[s];return n=(e.Range>>>11)*o,(-2147483648^e.Code)<(-2147483648^n)?(e.Range=n,t[s]=o+(2048-o>>>5)<<16>>16,-16777216&e.Range||(e.Code=e.Code<<8|P(e.Stream),e.Range<<=8),0):(e.Range-=n,e.Code-=n,t[s]=o-(o>>>5)<<16>>16,-16777216&e.Range||(e.Code=e.Code<<8|P(e.Stream),e.Range<<=8),1)}function we(e){for(var t=e.length-1;t>=0;--t)e[t]=1024}var De=function(){var e,t,s,n=[];for(t=8;t>=0;--t)for(e=1<<9-t,s=1<<9-t-1;s<e;++s)n[s]=(t<<6)+(e-s<<6>>>9-t-1);return n}();function Me(e,t,s,n){var o,r=t[s];o=(e.Range>>>11)*r,n?(e.Low=i(e.Low,c(_(o),[4294967295,0])),e.Range-=o,t[s]=r-(r>>>5)<<16>>16):(e.Range=o,t[s]=r+(2048-r>>>5)<<16>>16),-16777216&e.Range||(e.Range<<=8,Re(e))}function Ce(e,t,s){for(var n=s-1;n>=0;--n)e.Range>>>=1,1==(t>>>n&1)&&(e.Low=i(e.Low,_(e.Range))),-16777216&e.Range||(e.Range<<=8,Re(e))}function Le(e){return i(i(_(e._cacheSize),e._position),[4,0])}function Re(e){var t,s,n,o,r=m((n=32,o=h(s=e.Low,n&=63),s[1]<0&&(o=i(o,f([2,0],31))),o));if(0!=r||d(e.Low,[4278190080,0])<0){e._position=i(e._position,_(e._cacheSize)),t=e._cache;do{b(e.Stream,t+r),t=255}while(0!=--e._cacheSize);e._cache=m(e.Low)>>>24}++e._cacheSize,e.Low=f(c(e.Low,[16777215,0]),8)}function xe(e,t){return De[(2047&(e-t^-t))>>>2]}const Ie=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}];function Ae(e,{mode:t=7,enableEndMark:n=!0}={}){var r={};for(r.c=function(e,t,n,r){return e.output=S({}),function(e,t,n,r,i,c){var l,u;if(d(r,s)<0)throw new Error("invalid length "+r);for(e.length_0=r,l=function(e){var t;for(e._repDistances=a(4),e._optimum=[],e._rangeEncoder={},e._isMatch=a(192),e._isRep=a(12),e._isRepG0=a(12),e._isRepG1=a(12),e._isRepG2=a(12),e._isRep0Long=a(192),e._posSlotEncoder=[],e._posEncoders=a(114),e._posAlignEncoder=ve({},4),e._lenEncoder=ae({}),e._repMatchLenEncoder=ae({}),e._literalEncoder={},e._matchDistances=[],e._posSlotPrices=[],e._distancesPrices=[],e._alignPrices=a(16),e.reps=a(4),e.repLens=a(4),e.processedInSize=[o],e.processedOutSize=[o],e.finished=[0],e.properties=a(5),e.tempPrices=a(128),e._longestMatchLength=0,e._matchFinderType=1,e._numDistancePairs=0,e._numFastBytesPrev=-1,e.backRes=0,t=0;t<4096;++t)e._optimum[t]={};for(t=0;t<4;++t)e._posSlotEncoder[t]=ve({},6);return e}({}),function(e,t){!function(e,t){e._dictionarySize=t;for(var s=0;t>1<<s;++s);e._distTableSize=2*s}(t,1<<e.s),t._numFastBytes=e.f,function(e,t){var s=e._matchFinderType;e._matchFinderType=t,e._matchFinder&&s!=e._matchFinderType&&(e._dictionarySizePrev=-1,e._matchFinder=null)}(t,e.m),t._numLiteralPosStateBits=0,t._numLiteralContextBits=3,t._posStateBits=2,t._posStateMask=3}(i,l),l._writeEndMark=c,function(e,t){e.properties[0]=9*(5*e._posStateBits+e._numLiteralPosStateBits)+e._numLiteralContextBits<<24>>24;for(var s=0;s<4;++s)e.properties[1+s]=e._dictionarySize>>8*s<<24>>24;E(t,e.properties,0,5)}(l,n),u=0;u<64;u+=8)b(n,255&m(h(r,u)));e.chunker=(l._needReleaseMFStream=0,l._inStream=t,l._finished=0,function(e){var t,s;e._matchFinder||(t={},s=4,e._matchFinderType||(s=2),function(e,t){e.HASH_ARRAY=t>2,e.HASH_ARRAY?(e.kNumHashDirectBytes=0,e.kMinMatchCheck=4,e.kFixHashSize=66560):(e.kNumHashDirectBytes=2,e.kMinMatchCheck=3,e.kFixHashSize=0)}(t,s),e._matchFinder=t),function(e,t,s){var n,o;if(null==e.m_Coders||e.m_NumPrevBits!=s||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=s,o=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=a(o),n=0;n<o;++n)e.m_Coders[n]=me({})}(e._literalEncoder,e._numLiteralPosStateBits,e._numLiteralContextBits),(e._dictionarySize!=e._dictionarySizePrev||e._numFastBytesPrev!=e._numFastBytes)&&(function(e,t,s,n,o){var r,i;t<1073741567&&(e._cutValue=16+(n>>1),function(e,t,s,n){var o;e._keepSizeBefore=t,e._keepSizeAfter=s,o=t+s+n,(null==e._bufferBase||e._blockSize!=o)&&(e._bufferBase=null,e._blockSize=o,e._bufferBase=a(e._blockSize)),e._pointerToLastSafePosition=e._blockSize-s}(e,t+4096,n+274,256+~~((t+4096+n+274)/2)),e._matchMaxLen=n,r=t+1,e._cyclicBufferSize!=r&&(e._son=a(2*(e._cyclicBufferSize=r))),i=65536,e.HASH_ARRAY&&(i=t-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,(i|=65535)>16777216&&(i>>=1),e._hashMask=i,++i,i+=e.kFixHashSize),i!=e._hashSizeSum&&(e._hash=a(e._hashSizeSum=i)))}(e._matchFinder,e._dictionarySize,0,e._numFastBytes),e._dictionarySizePrev=e._dictionarySize,e._numFastBytesPrev=e._numFastBytes)}(l),l._rangeEncoder.Stream=n,function(e){(function(e){e._state=0,e._previousByte=0;for(var t=0;t<4;++t)e._repDistances[t]=0})(e),function(e){e._position=o,e.Low=o,e.Range=-1,e._cacheSize=1,e._cache=0}(e._rangeEncoder),we(e._isMatch),we(e._isRep0Long),we(e._isRep),we(e._isRepG0),we(e._isRepG1),we(e._isRepG2),we(e._posEncoders),function(e){var t,s=1<<e.m_NumPrevBits+e.m_NumPosBits;for(t=0;t<s;++t)we(e.m_Coders[t].m_Encoders)}(e._literalEncoder);for(var t=0;t<4;++t)we(e._posSlotEncoder[t].Models);oe(e._lenEncoder,1<<e._posStateBits),oe(e._repMatchLenEncoder,1<<e._posStateBits),we(e._posAlignEncoder.Models),e._longestMatchWasFound=0,e._optimumEndIndex=0,e._optimumCurrentIndex=0,e._additionalOffset=0}(l),q(l),V(l),l._lenEncoder._tableSize=l._numFastBytes+1-2,de(l._lenEncoder,1<<l._posStateBits),l._repMatchLenEncoder._tableSize=l._numFastBytes+1-2,de(l._repMatchLenEncoder,1<<l._posStateBits),l.nowPos64=o,function(e,t){return e.encoder=t,e.decoder=null,e.alive=1,e}({},l))}(e,v({},t),e.output,_(t.length),n,r),e}({},function(e){var t,s,n,o=[],r=0,i=e.length;if("object"==typeof e)return e;for(function(e,t,s,n,o){var r;for(r=0;r<s;++r)n[o++]=e.charCodeAt(r)}(e,0,i,o,0),n=0;n<i;++n)(t=o[n])>=1&&t<=127?++r:r+=!t||t>=128&&t<=2047?2:3;for(s=[],r=0,n=0;n<i;++n)(t=o[n])>=1&&t<=127?s[r++]=t<<24>>24:!t||t>=128&&t<=2047?(s[r++]=(192|t>>6&31)<<24>>24,s[r++]=(128|63&t)<<24>>24):(s[r++]=(224|t>>12&15)<<24>>24,s[r++]=(128|t>>6&63)<<24>>24,s[r++]=(128|63&t)<<24>>24);return s}(e),function(e){return Ie[e-1]||Ie[6]}(t),n);O(r.c.chunker););return k(r.c.output)}function Te(e){var t={};for(t.d=function(e,t){return e.output=S({}),function(e,t,n){var r,i,c,d,l="",u=[];for(i=0;i<5;++i){if(-1==(c=P(t)))throw new Error("truncated input");u[i]=c<<24>>24}if(r=function(e){e.m_OutWindow={},e.m_RangeDecoder={},e.m_IsMatchDecoders=a(192),e.m_IsRepDecoders=a(12),e.m_IsRepG0Decoders=a(12),e.m_IsRepG1Decoders=a(12),e.m_IsRepG2Decoders=a(12),e.m_IsRep0LongDecoders=a(192),e.m_PosSlotDecoder=a(4),e.m_PosDecoders=a(114),e.m_PosAlignDecoder=he({},4),e.m_LenDecoder=G({}),e.m_RepLenDecoder=G({}),e.m_LiteralDecoder={};for(var t=0;t<4;++t)e.m_PosSlotDecoder[t]=he({},6);return e}({}),!function(e,t){var s,n,o,r,i,c,d;if(t.length<5)return 0;for(o=(d=255&t[0])%9,r=(c=~~(d/9))%5,i=~~(c/5),s=0,n=0;n<4;++n)s+=(255&t[1+n])<<8*n;return s>99999999||!function(e,t,s,n){if(t>8||s>4||n>4)return 0;!function(e,t,s){var n,o;if(null==e.m_Coders||e.m_NumPrevBits!=s||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=s,o=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=a(o),n=0;n<o;++n)e.m_Coders[n]=Y({})}(e.m_LiteralDecoder,s,t);var o=1<<n;return N(e.m_LenDecoder,o),N(e.m_RepLenDecoder,o),e.m_PosStateMask=o-1,1}(e,o,r,i)?0:function(e,t){return t<0?0:(e.m_DictionarySize!=t&&(e.m_DictionarySize=t,e.m_DictionarySizeCheck=Math.max(e.m_DictionarySize,1),function(e,t){null!=e._buffer&&e._windowSize==t||(e._buffer=a(t)),e._windowSize=t,e._pos=0,e._streamPos=0}(e.m_OutWindow,Math.max(e.m_DictionarySizeCheck,4096))),1)}(e,s)}(r,u))throw new Error("corrupted input");for(i=0;i<64;i+=8){if(-1==(c=P(t)))throw new Error("truncated input");1==(c=c.toString(16)).length&&(c="0"+c),l=c+""+l}/^0+$|^f+$/i.test(l)?e.length_0=s:(d=parseInt(l,16),e.length_0=d>4294967295?s:_(d)),e.chunker=function(e,t,s,n){return e.m_RangeDecoder.Stream=t,F(e.m_OutWindow),e.m_OutWindow._stream=s,function(e){e.m_OutWindow._streamPos=0,e.m_OutWindow._pos=0,we(e.m_IsMatchDecoders),we(e.m_IsRep0LongDecoders),we(e.m_IsRepDecoders),we(e.m_IsRepG0Decoders),we(e.m_IsRepG1Decoders),we(e.m_IsRepG2Decoders),we(e.m_PosDecoders),function(e){var t,s;for(s=1<<e.m_NumPrevBits+e.m_NumPosBits,t=0;t<s;++t)we(e.m_Coders[t].m_Decoders)}(e.m_LiteralDecoder);for(var t=0;t<4;++t)we(e.m_PosSlotDecoder[t].Models);U(e.m_LenDecoder),U(e.m_RepLenDecoder),we(e.m_PosAlignDecoder.Models),function(e){e.Code=0,e.Range=-1;for(var t=0;t<5;++t)e.Code=e.Code<<8|P(e.Stream)}(e.m_RangeDecoder)}(e),e.state=0,e.rep0=0,e.rep1=0,e.rep2=0,e.rep3=0,e.outSize=n,e.nowPos64=o,e.prevByte=0,function(e,t){return e.decoder=t,e.encoder=null,e.alive=1,e}({},e)}(r,t,n,e.length_0)}(e,v({},t),e.output),e}({},e);O(t.d.chunker););return function(e){for(var t,s,n,o=0,r=0,i=e.length,a=[],c=[];o<i;++o,++r){if(128&(t=255&e[o]))if(192==(224&t)){if(o+1>=i)return e;if(128!=(192&(s=255&e[++o])))return e;c[r]=(31&t)<<6|63&s}else{if(224!=(240&t))return e;if(o+2>=i)return e;if(128!=(192&(s=255&e[++o])))return e;if(128!=(192&(n=255&e[++o])))return e;c[r]=(15&t)<<12|(63&s)<<6|63&n}else{if(!t)return e;c[r]=t}16383==r&&(a.push(String.fromCharCode.apply(String,c)),r=-1)}return r>0&&(c.length=r,a.push(String.fromCharCode.apply(String,c))),a.join("")}(k(t.d.output))}var Fe;!function(e){e.General="General",e.Weapon_Skill="Weapon Skill",e.Ballistic_Skill="Ballistic Skill",e.Strength="Strength",e.Toughness="Toughness",e.Agility="Agility",e.Intelligence="Intelligence",e.Perception="Perception",e.Willpower="Willpower",e.Fellowship="Fellowship",e.Offence="Offence",e.Finesse="Finesse",e.Defence="Defence",e.Psyker="Psyker",e.Tech="Tech",e.Knowledge="Knowledge",e.Leadership="Leadership",e.Fieldcraft="Fieldcraft",e.Social="Social"}(Fe||(Fe={}));class ze{class=null;matches=0;constructor(e,t){this.class=e,this.matches=t}}class He{role=null;matches=0;constructor(e,t){this.role=e,this.matches=t}}class Oe{world=null;matches=0;constructor(e,t){this.world=e,this.matches=t}}class Ne{background=null;matches=0;constructor(e,t){this.background=e,this.matches=t}}class We{wishlist;skill_wishlist;skip0CbChecked;worldSelected;classSelected;backgroundSelected;roleSelected;extraAptitudesSelected;aptitudesWishlist;constructor(){this.wishlist="",this.skill_wishlist="",this.skip0CbChecked=!1,this.worldSelected="",this.classSelected="",this.backgroundSelected="",this.roleSelected="",this.extraAptitudesSelected=[],this.aptitudesWishlist=[]}}(new class{init(){const e=window.location.search,t=new URLSearchParams(e),s=t.get("source"),n=t.get("cfg"),o=s||"ow";fetch("assets/w40k-"+o+".json").then((e=>e.json())).then((e=>this.app(e,o,n)))}data;configData=new We;selectedAptitudes=[];source="ow";app(e,t,s){this.data=e,this.source=t;const n=localStorage.getItem("w40k-data-config-"+t);if(s)if(s.startsWith("%7B")||s.startsWith("{"))console.log("load-json","w40k-data-config-"+this.source,s),this.configData=JSON.parse(s);else{const e=Te(new Int8Array(function(e,t){for(var s,n,o,r=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=r.length,a=3*i+1>>>2,c=new Uint8Array(a),d=0,l=0,u=0;u<i;u++)if(n=3&u,d|=((o=r.charCodeAt(u))>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0)<<18-6*n,3===n||i-u==1){for(s=0;s<3&&l<a;s++,l++)c[l]=d>>>(16>>>s&24)&255;d=0}return c}(decodeURIComponent(s).replace(/-/g,"+").replace(/_/g,"/"))));console.log("load-compressed","w40k-data-config-"+this.source,e),this.configData=JSON.parse(e)}else n&&(console.log("load-browser","w40k-data-config-"+this.source,n),this.configData=JSON.parse(n));const o=document.getElementById("classSelectContainer");if(this.data.classes&&this.data.classes.length>0){const e=document.getElementById("classSelect");{const t=document.createElement("option");t.text="None",e.add(t)}for(let t=0;t<this.data.classes.length;t++){const s=document.createElement("option"),n=this.data.classes[t].aptitudes,{apt:o,aptalt:r}=this.commonFunc2(n);s.text=this.data.classes[t].class+" ("+o.trim()+")",s.setAttribute("data-content",this.data.classes[t].class+" "+r),s.value=this.data.classes[t].class,this.configData.classSelected&&this.configData.classSelected==this.data.classes[t].class&&(s.selected=!0),e.add(s)}e.addEventListener("change",(e=>{this.triggerRecalc(e)}))}else o.style.display="none";const r=document.getElementById("worldSelectContainer");if(this.data.worlds&&this.data.worlds.length>0){const e=document.getElementById("worldSelect");{const t=document.createElement("option");t.text="None",e.add(t)}for(let t=0;t<this.data.worlds.length;t++){const s=document.createElement("option");s.text=this.data.worlds[t].world+" ("+this.data.worlds[t].aptitude+")",s.setAttribute("data-content",this.data.worlds[t].world+" <span class='badge badge-pill badge-secondary "+this.data.worlds[t].aptitude.replace(" ","_")+"'>"+this.data.worlds[t].aptitude+"</span>"),s.value=this.data.worlds[t].world,this.configData.worldSelected&&this.configData.worldSelected==this.data.worlds[t].world&&(s.selected=!0),e.add(s)}e.addEventListener("change",(e=>{this.triggerRecalc(e)}))}else r.style.display="none";const i=document.getElementById("backgroundSelectContainer");if(this.data.backgrounds&&this.data.backgrounds.length>0){const e=document.getElementById("backgroundSelect");{const t=document.createElement("option");t.text="None",e.add(t)}for(let t=0;t<this.data.backgrounds.length;t++){const s=document.createElement("option");s.text=this.data.backgrounds[t].background+" ("+this.data.backgrounds[t].aptitude+")",s.setAttribute("data-content",this.data.backgrounds[t].background+" <span class='badge badge-pill badge-secondary "+this.data.backgrounds[t].aptitude.replace(" ","_")+"'>"+this.data.backgrounds[t].aptitude+"</span>"),s.value=this.data.backgrounds[t].background,this.configData.backgroundSelected&&this.configData.backgroundSelected==this.data.backgrounds[t].background&&(s.selected=!0),e.add(s)}e.addEventListener("change",(e=>{this.triggerRecalc(e)}))}else i.style.display="none";const a=document.getElementById("roleSelectContainer");if(this.data.roles&&this.data.roles.length>0){const e=document.getElementById("roleSelect");{const t=document.createElement("option");t.text="None",e.add(t)}for(let t=0;t<this.data.roles.length;t++){const s=document.createElement("option"),n=this.data.roles[t].aptitudes,{apt:o,aptalt:r}=this.commonFunc2(n);s.text=this.data.roles[t].role+" ("+o.trim()+")",s.setAttribute("data-content",this.data.roles[t].role+" "+r),s.value=this.data.roles[t].role,this.configData.roleSelected&&this.configData.roleSelected==this.data.roles[t].role&&(s.selected=!0),e.add(s)}e.addEventListener("change",(e=>{this.triggerRecalc(e)}))}else a.style.display="none";const c=document.getElementById("aptitudeSelect");for(let e=0;e<this.data.optional.length;e++){const t=document.createElement("option");t.text=this.data.optional[e],t.value=this.data.optional[e],this.configData.extraAptitudesSelected&&this.configData.extraAptitudesSelected.includes(this.data.optional[e])&&(t.selected=!0),c.add(t)}c.addEventListener("change",(e=>{this.triggerRecalc(e)}));const d=document.getElementById("aptitudeWishlistSelect");for(let e=0;e<this.data.optional.length;e++){const t=document.createElement("option");t.text=this.data.optional[e],t.value=this.data.optional[e],this.configData.aptitudesWishlist&&this.configData.aptitudesWishlist.includes(this.data.optional[e])&&(t.selected=!0),d.add(t)}d.addEventListener("change",(t=>{this.logMatchingClasses(t,e),this.logMatchingWorlds(t,e),this.logMatchingBackgrounds(t,e),this.logMatchingRoles(t,e),this.styleAptitudeMatches(t,e)}));const l=document.getElementById("skip0Cb");l.checked=this.configData.skip0CbChecked,l.addEventListener("change",(e=>{this.triggerRecalc(e)}));const u=document.getElementById("wishlist");u.value=this.configData.wishlist,u.addEventListener("change",(e=>{this.triggerRecalc(e)}));const _=document.getElementById("skill_wishlist");_.value=this.configData.skill_wishlist,_.addEventListener("change",(e=>{this.triggerRecalc(e)})),document.getElementById("export_characteristic").addEventListener("click",(e=>{this.copyToClipboard("characteristic")})),document.getElementById("export_skill").addEventListener("click",(e=>{this.copyToClipboard("skill")})),document.getElementById("export_talent").addEventListener("click",(e=>{this.copyToClipboard("talent")})),document.getElementById("export_talent_wishlist").addEventListener("click",(e=>{this.copyToClipboardWishlist()})),document.getElementById("export_all").addEventListener("click",(e=>{this.exportAllTableToExcelDef("characteristic","skill","talent")})),document.getElementById("wishlist_clear").addEventListener("click",(e=>{u.value="",this.triggerRecalc(e)})),document.getElementById("skill_wishlist_clear").addEventListener("click",(e=>{_.value="",this.triggerRecalc(e)})),$("._selectpicker").selectpicker(),this.triggerRecalc(null),this.styleAptitudeMatches(null,e)}commonFunc2(e){let t="",s="";for(let n=0;n<e.length;n++)t+=e[n],s+="<span class='badge badge-pill badge-secondary "+e[n].replace(" ","_")+"'>"+e[n]+"</span>",n<e.length-1&&(t+=", ");return{apt:t,aptalt:s}}triggerRecalc(e){console.log("triggerRecalc");const t=document.getElementById("wishlist");this.configData.wishlist=t.value;const s=t.value.split("\n");for(let e=0;e<s.length;e++)""===s[e]&&(s.splice(e,1),e--);for(let e=0;e<s.length;e++)s[e]=s[e].toLowerCase().trim();const n=document.getElementById("skill_wishlist");this.configData.skill_wishlist=n.value;const o=n.value.split("\n");for(let e=0;e<o.length;e++)""===o[e]&&(o.splice(e,1),e--);for(let e=0;e<o.length;e++)o[e]=o[e].toLowerCase().trim();this.selectedAptitudes=[];const r=document.getElementById("skip0Cb");this.configData.skip0CbChecked=r.checked;const i=r.checked;this.selectedAptitudes.push(this.data.free);const a=[],c=document.getElementById("classSelect");if(c.selectedIndex>0){const e=this.data.classes[c.selectedIndex-1],t=e.aptitudes;this.configData.classSelected=e.class;for(let e=0;e<t.length;e++)console.log("classSelect",t[e]),this.selectedAptitudes.includes(t[e])?a.push(t[e]):this.selectedAptitudes.push(t[e])}else this.configData.classSelected="";const d=document.getElementById("worldSelect");if(d.selectedIndex>0){const e=this.data.worlds[d.selectedIndex-1],t=e.aptitude;this.configData.worldSelected=e.world,console.log("worldSelect",t),this.selectedAptitudes.includes(t)?a.push(t):this.selectedAptitudes.push(t)}else this.configData.worldSelected="";const l=document.getElementById("roleSelect");if(l.selectedIndex>0){const e=this.data.roles[l.selectedIndex-1],t=e.aptitudes;this.configData.roleSelected=e.role;for(let e=0;e<t.length;e++)console.log("roleSelect",t[e]),this.selectedAptitudes.includes(t[e])?a.push(t[e]):this.selectedAptitudes.push(t[e])}else this.configData.roleSelected="";const u=document.getElementById("backgroundSelect");if(u.selectedIndex>0){const e=this.data.backgrounds[u.selectedIndex-1],t=e.aptitude;this.configData.backgroundSelected=e.background,console.log("backgroundSelect",t),this.selectedAptitudes.includes(t)?a.push(t):this.selectedAptitudes.push(t)}else this.configData.backgroundSelected="";const _=document.getElementById("aptitudeSelect");if(this.configData.extraAptitudesSelected=[],_.selectedIndex>=0){const e=_.selectedOptions;for(let t=0;t<e.length;t++){const s=this.data.optional[e[t].index];this.configData.extraAptitudesSelected.push(s),console.log("aptitudeSelect",s),this.selectedAptitudes.includes(s)?a.push(s):this.selectedAptitudes.push(s)}}const m=document.getElementById("selectedAptitudes");m.innerHTML="";for(let e=0;e<this.selectedAptitudes.length;e++)m.innerHTML+="<span class='badge badge-pill badge-secondary "+this.selectedAptitudes[e].replace(" ","_")+"'>"+this.selectedAptitudes[e]+"</span>&nbsp;";for(let e=0;e<a.length;e++)m.innerHTML+="<span class='badge badge-pill badge-danger'>"+a[e]+" (duplicate)</span>";const p=document.getElementById("characteristic");p.innerHTML="";const f=this.data.characteristic.sort(((e,t)=>{let s=0;this.selectedAptitudes.includes(e.name)&&s++,this.selectedAptitudes.includes(e.aptitude)&&s++;let n=0;return this.selectedAptitudes.includes(t.name)&&n++,this.selectedAptitudes.includes(t.aptitude)&&n++,-s+n}));for(let e=0;e<f.length;e++){const t=document.createElement("div"),s=document.createElement("div");let n=!1;for(let o=0;o<this.data.costs.length;o++)if("characteristic"===this.data.costs[o].type){let r=0;this.selectedAptitudes.includes(f[e].name)&&r++,this.selectedAptitudes.includes(f[e].aptitude)&&r++,n=this.commonFunc1(t,o,r,s,i,n)}if(n)continue;const o=document.createElement("div");p.appendChild(o),o.appendChild(t),o.appendChild(s);const r=document.createElement("div");r.innerHTML=f[e].name,this.selectedAptitudes.includes(f[e].name)&&r.classList.add("m2"),o.appendChild(r);const a=document.createElement("div");a.innerHTML=f[e].aptitude,this.selectedAptitudes.includes(f[e].aptitude)&&a.classList.add("m2"),o.appendChild(a)}const h=document.getElementById("talent");h.innerHTML="";const g=this.data.talents.sort(((e,t)=>{let s=0;this.selectedAptitudes.includes(e.apt1)&&s++,this.selectedAptitudes.includes(e.apt2)&&s++;let n=0;return this.selectedAptitudes.includes(t.apt1)&&n++,this.selectedAptitudes.includes(t.apt2)&&n++,s===n?e.tier-t.tier:-s+n}));for(let e=0;e<g.length;e++){if(0!=s.length&&!s.includes(g[e].talent.toLowerCase().trim()))continue;const t=document.createElement("div"),n=document.createElement("div");let o=!1;for(let s=0;s<this.data.costs.length;s++)if("talent"===this.data.costs[s].type){let r=0;this.selectedAptitudes.includes(g[e].apt1)&&r++,this.selectedAptitudes.includes(g[e].apt2)&&r++,t.innerHTML=""+this.data.costs[s].cost[2-r][g[e].tier-1],t.classList.add("m"+r),n.innerHTML=""+r,n.classList.add("m"+r),0===r&&i&&(o=!0)}if(o)continue;const r=document.createElement("div");h.appendChild(r),r.appendChild(t),r.appendChild(n);const a=document.createElement("div");a.innerHTML="T"+g[e].tier,r.appendChild(a);const c=document.createElement("div");c.innerHTML=g[e].talent,r.appendChild(c),c.title=g[e].benefit,g[e].ref&&(c.title+=" ( "+g[e].ref.replace("PG","").trim()+" )");const d=document.createElement("div");d.innerHTML=g[e].apt1,r.appendChild(d),this.selectedAptitudes.includes(g[e].apt1)&&d.classList.add("m2");const l=document.createElement("div");l.innerHTML=g[e].apt2,r.appendChild(l),this.selectedAptitudes.includes(g[e].apt2)&&l.classList.add("m2");const u=document.createElement("div");u.innerHTML=g[e].prerequisites,r.appendChild(u);const _=document.createElement("div");_.innerHTML=g[e].benefit,_.style.display="none",r.appendChild(_)}const v=document.getElementById("skill");v.innerHTML="";const P=this.data.skills.sort(((e,t)=>{let s=0;this.selectedAptitudes.includes(e.aptitudes[0])&&s++,this.selectedAptitudes.includes(e.aptitudes[1])&&s++;let n=0;return this.selectedAptitudes.includes(t.aptitudes[0])&&n++,this.selectedAptitudes.includes(t.aptitudes[1])&&n++,-s+n}));for(let e=0;e<P.length;e++){if(0!=o.length&&!o.includes(P[e].name.toLowerCase().trim()))continue;const t=document.createElement("div"),s=document.createElement("div");let n=!1;for(let o=0;o<this.data.costs.length;o++)if("skill"===this.data.costs[o].type){let r=0;this.selectedAptitudes.includes(P[e].aptitudes[0])&&r++,this.selectedAptitudes.includes(P[e].aptitudes[1])&&r++,n=this.commonFunc1(t,o,r,s,i,n)}if(n)continue;const r=document.createElement("div");v.appendChild(r),r.appendChild(t),r.appendChild(s);const a=document.createElement("div");a.innerHTML=P[e].name,r.appendChild(a);for(let t=0;t<P[e].aptitudes.length;t++){const s=document.createElement("div");s.innerHTML=P[e].aptitudes[t],this.selectedAptitudes.includes(P[e].aptitudes[t])&&s.classList.add("m2"),r.appendChild(s)}}$("[title]:not(.dropdown-toggle)").tooltip(),this.save()}save(){const t=JSON.stringify(this.configData);console.log("save","w40k-data-config-"+this.source,t),localStorage.setItem("w40k-data-config-"+this.source,t);const s=function(t,{mode:s=7,enableEndMark:n=!0}={}){const o=Ae(t,{mode:s,enableEndMark:n});return r=new Uint8Array(o),encodeURIComponent(function(t){for(var s,n=(3-t.length%3)%3,o="",r=t.length,i=0,a=0;a<r;a++)s=a%3,i|=t[a]<<(16>>>s&24),2!==s&&t.length-a!=1||(o+=String.fromCharCode(e(i>>>18&63),e(i>>>12&63),e(i>>>6&63),e(63&i)),i=0);return 0===n?o:o.substring(0,o.length-n)+(1===n?"=":"==")}(r).replace(/\+/g,"-").replace(/\//g,"_"));var r}(t),n=encodeURIComponent(t);console.log(t.length,n.length,s.length),document.getElementById("saveLink").href="?source="+this.source+"&cfg="+n,document.getElementById("saveLinkAlt").href="?source="+this.source+"&cfg="+s}commonFunc1(e,t,s,n,o,r){return e.innerHTML=""+this.data.costs[t].cost[2-s][0],e.classList.add("m"+s),n.innerHTML=""+s,n.classList.add("m"+s),0===s&&o&&(r=!0),r}exportAllTableToExcelDef(e,t,s){document.getElementById("exportTableToExcelDef")?.remove();const n=this.exportDivToTable(e),o=this.exportDivToTable(t),r=this.exportDivToTable(s);if(!n)return;if(!o)return;if(!r)return;const i=document.createElement("div");i.innerHTML="<table><tr><td>Characteristics</td></tr>\t<tr>\n\t\t<td>cost</td>\n\t\t<td>m</td>\n\t\t<td>skill</td>\n\t\t<td>aptitude</td>\n\t</tr>"+n.replace("<table>","").replace("</table>","")+"<tr><td> </td></tr><tr><td> </td></tr><tr><td>Skills</td></tr>\t<tr>\n\t\t<td>cost</td>\n\t\t<td>m</td>\n\t\t<td>characteristic</td>\n\t\t<td>aptitude</td>\n\t\t<td>aptitude</td>\n\t</tr>"+o.replace("<table>","").replace("</table>","")+"<tr><td> </td></tr><tr><td> </td></tr><tr><td>Talents</td></tr>\t<tr>\n\t\t<td>cost</td>\n\t\t<td>m</td>\n\t\t<td>tier</td>\n\t\t<td>talent</td>\n\t\t<td>aptitude</td>\n\t\t<td>aptitude</td>\n\t\t<td>requirement</td>\n\t\t<td>description</td>\n\t</tr>"+r.replace("<table>","").replace("</table>","")+"</table>",i.style.display="none",i.id="exportTableToExcelDef",document.body.appendChild(i),this.exportTableToExcel("exportTableToExcelDef","all")}exportTableToExcelDef(e){document.getElementById("exportTableToExcelDef")?.remove();const t=this.exportDivToTable(e);if(!t)return;const s=document.createElement("div");s.innerHTML=t,s.style.display="none",s.id="exportTableToExcelDef",document.body.appendChild(s),this.exportTableToExcel("exportTableToExcelDef",e)}exportDivToTable(e,t=!1){const s=document.getElementById(e);if(!s)return;let n="";t||(n+="<table>");for(let e=0;e<s.children.length;e++){t||(n+="<tr>");const o=s.children[e];for(let e=0;e<o.children.length;e++)t||(n+="<td>"),n+=o.children[e].innerHTML,n+=t?"\t":"</td>";n+=t?"\n":"</tr>"}return t||(n+="</table>"),n}exportTableToExcel(e,t=""){const s="application/vnd.ms-excel",n=document.getElementById(e);if(!n)return;const o=n.outerHTML.replace(/ /g,"%20");t=t?t+".xls":"excel_data.xls",document.getElementById("a789")?.remove();const r=document.createElement("a");if(r.id="a789",document.body.appendChild(r),navigator.msSaveOrOpenBlob){const e=new Blob(["\ufeff",o],{type:s});navigator.msSaveOrOpenBlob(e,t)}else r.href="data:"+s+", "+o,r.download=t,r.click()}copyToClipboard(e){const t=this.exportDivToTable(e,!0);if(!t)return;document.getElementById("textarea123")?.remove();const s=document.createElement("textarea");s.innerHTML=t,s.style.display="none",s.id="textarea123",document.body.appendChild(s),s.select(),s.setSelectionRange(0,99999),navigator.clipboard.writeText(s.value)}copyToClipboardWishlist(){const e=document.getElementById("talent");if(!e)return;let t="";for(let s=0;s<e.children.length;s++){const n=e.children[s];("0"==n.children[1].innerHTML||"1"==n.children[1].innerHTML)&&(t+=n.children[3].innerHTML+"\n")}document.getElementById("textarea456aa")?.remove();const s=document.createElement("textarea");s.innerHTML=t,s.style.display="none",s.id="textarea456aa",document.body.appendChild(s),s.select(),s.setSelectionRange(0,99999),console.log(s.value),navigator.clipboard.writeText(s.value)}logMatchingWorlds(e,t){if(!t.worlds||0==t.worlds.length)return;const s=document.getElementById("aptitudeWishlistSelect");if(s.selectedIndex>=0){console.log("logMatchingWorlds");const e=s.selectedOptions,n=[],o=[];for(let t=0;t<e.length;t++){const s=this.data.optional[e[t].index];n.push(s)}console.log(n);for(let e=0;e<t.worlds.length;e++){const s=t.worlds[e];let r=0;const i=s.aptitude;for(let e=0;e<n.length;e++)i==n[e]&&r++;const a=new Oe(s,r);o.push(a)}o.sort(((e,t)=>t.matches-e.matches));for(let e=0;e<o.length;e++)console.log(o[e].world?.world,o[e].matches,o[e].world?.aptitude)}}logMatchingBackgrounds(e,t){if(!t.backgrounds||0==t.backgrounds.length)return;const s=document.getElementById("aptitudeWishlistSelect");if(s.selectedIndex>=0){console.log("logMatchingBackgrounds");const e=s.selectedOptions,n=[],o=[];for(let t=0;t<e.length;t++){const s=this.data.optional[e[t].index];n.push(s)}console.log(n);for(let e=0;e<t.backgrounds.length;e++){const s=t.backgrounds[e];let r=0;const i=s.aptitude;for(let e=0;e<n.length;e++)i==n[e]&&r++;const a=new Ne(s,r);o.push(a)}o.sort(((e,t)=>t.matches-e.matches));for(let e=0;e<o.length;e++)console.log(o[e].background?.background,o[e].matches,o[e].background?.aptitude)}}logMatchingRoles(e,t){if(!t.roles||0==t.roles.length)return;const s=document.getElementById("aptitudeWishlistSelect");if(s.selectedIndex>=0){console.log("logMatchingRoles");const e=s.selectedOptions,n=[],o=[];for(let t=0;t<e.length;t++){const s=this.data.optional[e[t].index];n.push(s)}console.log(n);for(let e=0;e<t.roles.length;e++){const s=t.roles[e];let r=0;for(let e=0;e<s.aptitudes.length;e++){const t=s.aptitudes[e];for(let e=0;e<n.length;e++)t==n[e]&&r++}const i=new He(s,r);o.push(i)}o.sort(((e,t)=>t.matches-e.matches));for(let e=0;e<o.length;e++)console.log(o[e].role?.role,o[e].matches,o[e].role?.aptitudes)}}logMatchingClasses(e,t){if(!t.classes||0==t.classes.length)return;const s=document.getElementById("aptitudeWishlistSelect");if(s.selectedIndex>=0){console.log("logMatchingClasses");const e=s.selectedOptions,n=[],o=[];for(let t=0;t<e.length;t++){const s=this.data.optional[e[t].index];n.push(s)}console.log(n);for(let e=0;e<t.classes.length;e++){const s=t.classes[e];let r=0;for(let e=0;e<s.aptitudes.length;e++){const t=s.aptitudes[e];for(let e=0;e<n.length;e++)t==n[e]&&r++}const i=new ze(s,r);o.push(i)}o.sort(((e,t)=>t.matches-e.matches));for(let e=0;e<o.length;e++)console.log(o[e].class?.class,o[e].matches,o[e].class?.aptitudes)}}styleAptitudeMatches(e,t){for(let e=0;e<t.optional.length;e++){const s=t.optional[e];let n=document.getElementById("style-"+s.replace(" ","_"));n?n.disabled=!0:(n=document.createElement("style"),n.id="style-"+s.replace(" ","_"),n.innerHTML=".badge.badge-pill.badge-secondary."+s.replace(" ","_")+"{background-color:#1cc88a !important}",document.body.appendChild(n),n.disabled=!0,console.log(n))}const s=document.getElementById("aptitudeWishlistSelect");if(this.configData.aptitudesWishlist=[],s.selectedIndex>=0){const e=s.selectedOptions;for(let t=0;t<e.length;t++){const s=this.data.optional[e[t].index];this.configData.aptitudesWishlist.push(s);const n=document.getElementById("style-"+s.replace(" ","_"));n.disabled=!1,console.log(n)}}this.save()}}).init()}();
//# sourceMappingURL=w40k.js.map