{"version":3,"file":"7d2d-helpers-bundle.js","mappings":"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","sources":["webpack://webpack-seed/webpack/bootstrap","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack://webpack-seed/webpack/runtime/global","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/math.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/userAgent.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/enums.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/createPopper.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/debounce.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/within.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/popper.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack://webpack-seed/./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack://webpack-seed/./node_modules/tippy.js/dist/tippy.esm.js","webpack://webpack-seed/./node_modules/tabulator-tables/dist/js/tabulator_esm.js","webpack://webpack-seed/./src/components/app.ts","webpack://webpack-seed/./src/7d2d-helpers.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  //  Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  //  Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests \n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  //  Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  //  Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n//# sourceMappingURL=tippy.esm.js.map\n","/* Tabulator v5.5.2 (c) Oliver Folkerd 2023 */\nclass CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(force){\n\t\treturn this.table.modules.layout.layout(force);\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\t//////////////////////////////////////////\n\t/////////// Deprecation Checks ///////////\n\t//////////////////////////////////////////\n\n\tdeprecationCheck(oldOption, newOption){\n\t\treturn this.table.deprecationAdvisor.check(oldOption, newOption);\n\t}\n\n\tdeprecationCheckMsg(oldOption, msg){\n\t\treturn this.table.deprecationAdvisor.checkMsg(oldOption, msg);\n\t}\n\n\tdeprecationMsg(msg){\n\t\treturn this.table.deprecationAdvisor.msg(msg);\n\t}\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}\n\nclass Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else {\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}\n\nclass Popup extends CoreFeature{\n\tconstructor(table, element, parent){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = element;\n\t\tthis.container = this._lookupContainer();\n\t\t\n\t\tthis.parent = parent;\n\t\t\n\t\tthis.reversedX = false;\n\t\tthis.childPopup = null;\n\t\tthis.blurable = false;\n\t\tthis.blurCallback = null;\n\t\tthis.blurEventsBound = false;\n\t\tthis.renderedCallback = null;\n\t\t\n\t\tthis.visible = false;\n\t\tthis.hideable = true;\n\t\t\n\t\tthis.element.classList.add(\"tabulator-popup-container\");\n\t\t\n\t\tthis.blurEvent = this.hide.bind(this, false);\n\t\tthis.escEvent = this._escapeCheck.bind(this);\n\t\t\n\t\tthis.destroyBinding = this.tableDestroyed.bind(this);\n\t\tthis.destroyed = false;\n\t}\n\t\n\ttableDestroyed(){\n\t\tthis.destroyed = true;\n\t\tthis.hide(true);\n\t}\n\t\n\t_lookupContainer(){\n\t\tvar container = this.table.options.popupContainer;\n\t\t\n\t\tif(typeof container === \"string\"){\n\t\t\tcontainer = document.querySelector(container);\n\t\t\t\n\t\t\tif(!container){\n\t\t\t\tconsole.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t\t}\n\t\t}else if (container === true){\n\t\t\tcontainer = this.table.element;\n\t\t}\n\t\t\n\t\tif(container && !this._checkContainerIsParent(container)){\n\t\t\tcontainer = false;\n\t\t\tconsole.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t}\n\t\t\n\t\tif(!container){\n\t\t\tcontainer = document.body;\n\t\t}\n\t\t\n\t\treturn container;\n\t}\n\t\n\t_checkContainerIsParent(container, element = this.table.element){\n\t\tif(container === element){\n\t\t\treturn true;\n\t\t}else {\n\t\t\treturn element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n\t\t}\n\t}\n\t\n\trenderCallback(callback){\n\t\tthis.renderedCallback = callback;\n\t}\n\t\n\tcontainerEventCoords(e){\n\t\tvar touch = !(e instanceof MouseEvent);\n\t\t\n\t\tvar x = touch ? e.touches[0].pageX : e.pageX;\n\t\tvar y = touch ? e.touches[0].pageY : e.pageY;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tlet parentOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\tx -= parentOffset.left;\n\t\t\ty -= parentOffset.top;\n\t\t}\n\t\t\n\t\treturn {x, y};\n\t}\n\t\n\telementPositionCoords(element, position = \"right\"){\n\t\tvar offset = Helpers.elOffset(element),\n\t\tcontainerOffset, x, y;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tcontainerOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\toffset.left -= containerOffset.left;\n\t\t\toffset.top -= containerOffset.top;\n\t\t}\n\t\t\n\t\tswitch(position){\n\t\t\tcase \"right\":\n\t\t\t\tx = offset.left + element.offsetWidth;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"bottom\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top + element.offsetHeight;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"left\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"top\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"center\":\n\t\t\t\tx = offset.left + (element.offsetWidth / 2);\n\t\t\t\ty = offset.top + (element.offsetHeight / 2);\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn {x, y, offset};\n\t}\n\t\n\tshow(origin, position){\n\t\tvar x, y, parentEl, parentOffset, coords;\n\t\t\n\t\tif(this.destroyed || this.table.destroyed){\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tif(origin instanceof HTMLElement){\n\t\t\tparentEl = origin;\n\t\t\tcoords = this.elementPositionCoords(origin, position);\n\t\t\t\n\t\t\tparentOffset = coords.offset;\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t}else if(typeof origin === \"number\"){\n\t\t\tparentOffset = {top:0, left:0};\n\t\t\tx = origin;\n\t\t\ty = position;\n\t\t}else {\n\t\t\tcoords = this.containerEventCoords(origin);\n\t\t\t\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t\tthis.reversedX = false;\n\t\t}\n\t\t\n\t\tthis.element.style.top = y + \"px\";\n\t\tthis.element.style.left = x + \"px\";\n\t\t\n\t\tthis.container.appendChild(this.element);\n\t\t\n\t\tif(typeof this.renderedCallback === \"function\"){\n\t\t\tthis.renderedCallback();\n\t\t}\n\t\t\n\t\tthis._fitToScreen(x, y, parentEl, parentOffset, position);\n\t\t\n\t\tthis.visible = true;\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.destroyBinding);\n\t\t\n\t\tthis.element.addEventListener(\"mousedown\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_fitToScreen(x, y, parentEl, parentOffset, position){\n\t\tvar scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\t\t\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\n\t\tif((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n\t\t\tthis.element.style.left = \"\";\n\t\t\t\n\t\t\tif(parentEl){\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - x) + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.reversedX = true;\n\t\t}\n\t\t\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\t\tif((y + this.element.offsetHeight) > Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0)) {\n\t\t\tif(parentEl){\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight) + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisVisible(){\n\t\treturn this.visible;\n\t}\n\t\n\thideOnBlur(callback){\n\t\tthis.blurable = true;\n\t\t\n\t\tif(this.visible){\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n\t\t\t\t\tthis.subscribe(\"cell-editing\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"click\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\t\twindow.addEventListener(\"resize\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"keydown\", this.escEvent);\n\n\t\t\t\t\tthis.blurEventsBound = true;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t\t\n\t\t\tthis.blurCallback = callback;\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_escapeCheck(e){\n\t\tif(e.keyCode == 27){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\tblockHide(){\n\t\tthis.hideable = false;\n\t}\n\t\n\trestoreHide(){\n\t\tthis.hideable = true;\n\t}\n\t\n\thide(silent = false){\n\t\tif(this.visible && this.hideable){\n\t\t\tif(this.blurable && this.blurEventsBound){\n\t\t\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t\t\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\twindow.removeEventListener(\"resize\", this.blurEvent);\n\t\t\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t\t\t\tthis.unsubscribe(\"cell-editing\", this.blurEvent);\n\n\t\t\t\tthis.blurEventsBound = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.childPopup){\n\t\t\t\tthis.childPopup.hide();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.childPopup = null;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tif(this.blurCallback && !silent){\n\t\t\t\tthis.blurCallback();\n\t\t\t}\n\t\t\t\n\t\t\tthis.unsubscribe(\"table-destroy\", this.destroyBinding);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tchild(element){\n\t\tif(this.childPopup){\n\t\t\tthis.childPopup.hide();\n\t\t}\n\t\t\n\t\tthis.childPopup = new Popup(this.table, element, this);\n\t\t\n\t\treturn this.childPopup;\n\t}\n}\n\nclass Module extends CoreFeature{\n\t\n\tconstructor(table, name){\n\t\tsuper(table);\n\t\t\n\t\tthis._handler = null;\n\t}\n\t\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overridden in module\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\t\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\t\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\t\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\t\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\t\t\t\t\n\t\t\t\treturn func(...args);\n\t\t\t};\n\t\t}else {\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name);\n\t\t}\n\t}\n\t\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\t\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tdisplayRows(adjust){\n\t\tvar index = this.table.rowManager.displayRows.length - 1, \n\t\tlookupIndex;\n\t\t\n\t\tif(this._handler){\n\t\t\tlookupIndex = this.table.rowManager.displayPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === this._handler;\n\t\t\t});\n\n\t\t\tif(lookupIndex > -1){\n\t\t\t\tindex = lookupIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(adjust){\n\t\t\tindex = index + adjust;\n\t\t}\n\n\t\tif(this._handler){\n\t\t\tif(index > -1){\n\t\t\t\treturn this.table.rowManager.getDisplayRows(index);\n\t\t\t}else {\n\t\t\t\treturn this.activeRows();\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\tactiveRows(){\n\t\treturn this.table.rowManager.activeRows;\n\t}\n\t\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\t\t\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\t\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element);\n\t}\n\t\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element);\n\t}\n\t\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element);\n\t} \n\t\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup(this.table, menuEl, menuContainer);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\t\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\t\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}\n\nvar defaultAccessors = {};\n\nclass Accessor extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Accessor.accessors[value]){\n\t\t\t\t\taccessor = Accessor.accessors[value];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\taccessor = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colComponent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolComponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colComponent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colComponent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}\n\n//load defaults\nAccessor.moduleName = \"accessor\";\nAccessor.accessors = defaultAccessors;\n\nvar defaultConfig = {\n\tmethod: \"GET\",\n};\n\nfunction generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else {\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nfunction urlBuilder(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n}\n\nfunction defaultLoaderPromise(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\tresponse.json()\n\t\t\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n}\n\nfunction generateParamsList$1(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList$1(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList$1(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else {\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nvar defaultContentTypeFormatters = {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList$1(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};\n\nclass Ajax extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\t\t\n\t\tthis.loaderPromise = false;\n\t\t\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\t\t\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\t\t\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\t\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\t\t\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\t\t\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\t\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\t\t\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\t\t\t\n\t\t\tparams = Object.assign(params, ajaxParams);\n\t\t}\t\t\n\t\t\n\t\treturn params;\n\t}\n\t\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\t\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\t\t\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\t\t\t\n\t\t\tajaxConfig = this.generateConfig(config);\n\t\t\t\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else {\n\t\t\treturn previousData;\n\t\t}\n\t}\n\t\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else {\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\t\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config);\n\t\t\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else {\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\t\t\n\t\treturn ajaxConfig;\n\t}\n\t\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\t\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\t\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t\t.then((data)=>{\n\t\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}\n\nAjax.moduleName = \"ajax\";\n\n//load defaults\nAjax.defaultConfig = defaultConfig;\nAjax.defaultURLGenerator = urlBuilder;\nAjax.defaultLoaderPromise = defaultLoaderPromise;\nAjax.contentTypeFormatters = defaultContentTypeFormatters;\n\nvar defaultPasteActions = {\n\treplace:function(rows){\n\t\treturn this.table.setData(rows);\n\t},\n\tupdate:function(rows){\n\t\treturn this.table.updateOrAddData(rows);\n\t},\n\tinsert:function(rows){\n\t\treturn this.table.addData(rows);\n\t},\n};\n\nvar defaultPasteParsers = {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else {\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else {\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trows.push(row);\n\t\t\t});\n\n\t\t\treturn rows;\n\t\t}else {\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\nclass Clipboard extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRECATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\n\t\t\t\t\t\tlist = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.generateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else {\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\t\tif(!this.pasteAction){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteAction = action;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\t\tif(!this.pasteParser){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteParser = parser;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPaseOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else {\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else {\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPaseOrigin(e){\n\t\tvar valid = true;\n\n\t\tif(e.target.tagName != \"DIV\" || this.table.modules.edit.currentCell){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nClipboard.moduleName = \"clipboard\";\n\n//load defaults\nClipboard.pasteActions = defaultPasteActions;\nClipboard.pasteParsers = defaultPasteParsers;\n\nclass CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}\n\n//public cell object\nclass CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(transform){\n\t\treturn this._cell.row.getData(transform);\n\t}\n\tgetType(){\n\t\treturn \"cell\";\n\t}\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}\n\nclass Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\t\tif(val instanceof Node){\n\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\t\tthis.element.appendChild(val);\n\t\t\t\t}else {\n\t\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\t\tif(val != null){\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.element.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\n//public column object\nclass ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else {\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else {\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else {\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column, position, ifVisible);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else {\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}\n\nvar defaultColumnOptions = {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"headerWordWrap\": false,\n\t\"editableTitle\": undefined,\n};\n\nclass Column extends CoreFeature{\n\n\tconstructor(def, parent){\n\t\tsuper(parent.table);\n\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.isGroup = false;\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\n\t\tthis.mapDefinitions();\n\n\t\tthis.setField(this.definition.field);\n\n\t\tthis.modules = {}; //hold module variables;\n\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width pre-styled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum pre-styled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum pre-styled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\n\t\tthis.visible = true; //default visible state\n\n\t\tthis.component = null;\n\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\n\t\t\tthis.isGroup = true;\n\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\n\t\t\tthis.checkColumnVisibility();\n\t\t}else {\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\n\t\tthis._initialize();\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\tswitch(this.table.options.columnHeaderVertAlign){\n\t\t\tcase \"middle\":\n\t\t\t\tel.style.justifyContent = \"center\";\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tel.style.justifyContent = \"flex-end\";\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn el;\n\t}\n\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\n\t\treturn el;\n\t}\n\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition);\n\t}\n\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else {\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\n\t\tthis.element.appendChild(this.contentElement);\n\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else {\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition;\n\n\t\tthis.dispatch(\"column-layout\", this);\n\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else {\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\n\t\t//assign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classNames = def.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\n\t\tthis.reinitializeWidth();\n\n\t\t//set horizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\n\t_buildColumnHeaderContent(){\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\n\t\treturn contentElement;\n\t}\n\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition;\n\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\t\t\n\t\tif(def.headerWordWrap){\n\t\t\ttitleHolderElement.classList.add(\"tabulator-col-title-wrap\");\n\t\t}\n\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\n\t\t}else {\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\n\t\treturn titleHolderElement;\n\t}\n\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\t\tif(contents instanceof Node){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else {\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classNames = this.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdataObj = dataObj[structure[i]];\n\n\t\t\toutput = dataObj;\n\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else {\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\n\t\t\tcolumn.columnRendered();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\n\t\tthis.element.style.height = parentHeight + \"px\";\n\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\n\t\t//vertically align cell contents\n\t\t// if(!this.isGroup && alignment !== \"top\"){\n\t\t// \tif(alignment === \"bottom\"){\n\t\t// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t// \t}else{\n\t\t// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t// \t}\n\t\t// }\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\n\t//clear vertical alignment\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\n\t//// Retrieve Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return column group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else {\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else {\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return all columns in a group\n\tgetColumns(traverse){\n\t\tvar columns = [];\n\n\t\tif(traverse){\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumns.push(column);\n\t\t\t\t\t\n\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t});\n\t\t}else {\n\t\t\tcolumns = this.columns;\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\n\t//retrieve the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else {\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\n\t\treturn this.definition;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\n\t\t\tthis.element.style.display = \"\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\n\t\t\tthis.element.style.display = \"none\";\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\n\t\twidth = Math.max(this.minWidth, width);\n\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\n\t\tthis.element.style.width = this.widthStyled;\n\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tthis.dispatch(\"column-width\", this);\n\t}\n\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else {\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\n\tgetWidth(){\n\t\tvar width = 0;\n\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\twidth = this.width;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\tgetLeftOffset(){\n\t\tvar offset = this.element.offsetLeft;\n\n\t\tif(this.parent.isGroup){\n\t\t\toffset += this.parent.getLeftOffset();\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\n\tsetMinWidth(minWidth){\n\t\tif(this.maxWidth && minWidth > this.maxWidth){\n\t\t\tminWidth = this.maxWidth;\n\n\t\t\tconsole.warn(\"the minWidth (\"+ minWidth + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\"+ this.maxWidthStyled + \")\");\n\t\t}\n\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\n\tsetMaxWidth(maxWidth){\n\t\tif(this.minWidth && maxWidth < this.minWidth){\n\t\t\tmaxWidth = this.minWidth;\n\n\t\t\tconsole.warn(\"the maxWidth (\"+ maxWidth + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\"+ this.minWidthStyled + \")\");\n\t\t}\n\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.dispatch(\"column-delete\", this);\n\n\t\t\tvar cellCount = this.cells.length;\n\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\n\t\tthis.cells.push(cell);\n\n\t\treturn cell;\n\t}\n\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\n\t\tthis.fitToData(force);\n\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\n\t\tvar maxWidth = this.element.offsetWidth;\n\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateDefinition(updates){\n\t\tvar definition;\n\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t\t.then((column) => {\n\n\t\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\t\tthis.field = false; //clear field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.delete()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\nColumn.defaultOptionList = defaultColumnOptions;\n\n//public row object\nclass RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(){\n\t\treturn this._row.getPosition();\n\t}\n\n\twatchPosition(callback){\n\t\treturn this._row.watchPosition(callback);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row, position, ifVisible);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}\n\nclass Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height pre-styled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\t\tthis.position = 0; //store position of element in row list\n\t\tthis.positionWatchers = [];\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.created = false;\n\t\t\n\t\tthis.setData(data);\n\t}\n\t\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\tthis.element = el;\n\t}\n\t\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\t\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\t\n\t//functions to setup on first render\n\tinitialize(force, inFragment){\n\t\tthis.create();\n\t\t\n\t\tif(!this.initialized || force){\n\t\t\t\n\t\t\tthis.deleteCells();\n\t\t\t\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\t\t\t\n\t\t\tthis.generateCells();\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this, inFragment);\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout\", this);\n\t\t\t\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else {\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this, inFragment);\n\t\t}\n\t}\n\n\trendered(){\n\t\tthis.cells.forEach((cell) => {\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\t\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\t\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\t\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0,\n\t\tminHeight;\n\t\t\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else {\n\t\t\tminHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tvar height = cell.getHeight();\n\t\t\t\tif(height > maxHeight){\n\t\t\t\t\tmaxHeight = height;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else {\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\t\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\t\t\n\t\tthis.heightInitialized = true;\n\t}\n\t\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\t\t\n\t\tthis.calcHeight(force);\n\t\t\n\t\tthis.setCellHeight();\n\t}\n\t\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\t\t\t\n\t\t\tthis.manualHeight = true;\n\t\t\t\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\t\t\t\n\t\t\tthis.setCellHeight();\n\t\t\t\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\t\t\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\t\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\t\t\t\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\t\t\t\n\t\t\t//set data\n\t\t\tfor (let attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\t\t\t\n\t\t\t//update affected cells only\n\t\t\tfor (let attrname in updatedData) {\n\t\t\t\t\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\t\t\t\t\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\t\t\t\t\t\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() !== value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\t\t\t\n\t\t\t//this.reinitialize();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\tgetCell(column){\n\t\tvar match = false;\n\t\t\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\t\t\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\t\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\t\n\tgetCells(){\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\treturn this.cells;\n\t}\n\t\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\t\t\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\t\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\t\t\n\t\tthis.deleteActual();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\tdeleteActual(blockRedraw){\n\t\tthis.detachModules();\n\t\t\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\t\t\n\t\tthis.deleteCells();\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\t\t\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\t\n\tdetachModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\t\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\t\t\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\t\n\twipe(){\n\t\tthis.detachModules();\n\t\tthis.deleteCells();\n\t\t\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tisDisplayed(){\n\t\treturn this.table.rowManager.getDisplayRows().includes(this);\n\t}\n\n\tgetPosition(){\n\t\treturn this.isDisplayed() ? this.position : false;\n\t}\n\n\tsetPosition(position){\n\t\tif(position != this.position){\n\t\t\tthis.position = position;\n\n\t\t\tthis.positionWatchers.forEach((callback) => {\n\t\t\t\tcallback(this.position);\n\t\t\t});\n\t\t}\n\t}\n\n\twatchPosition(callback){\n\t\tthis.positionWatchers.push(callback);\n\n\t\tcallback(this.position);\n\t}\n\t\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nvar defaultCalculations = {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"unique\":function(values, data, calcParams){\n\t\tvar unique = values.filter((value, index) => {\n\t\t\treturn (values || value === 0) && values.indexOf(value) === index;\n\t\t});\n\n\t\treturn unique.length;\n\t},\n};\n\nclass ColumnCalcs extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\t\t\n\t\tthis.blocked = false;\n\t\tthis.recalcAfterBlock = false;\n\t\t\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\t\t\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\t\t\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t\t\n\t\tthis.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this));\n\t\tthis.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this));\n\n\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\t\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.blocked = true;\n\t\tthis.recalcAfterBlock = false;\n\t}\n\t\n\t\n\trestoreRedraw(){\n\t\tthis.blocked = false;\n\t\t\n\t\tif(this.recalcAfterBlock){\n\t\t\tthis.recalcAfterBlock = false;\n\t\t\tthis.recalcActiveRowsRefresh();\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tblockCheck(){\n\t\tif(this.blocked){\n\t\t\tthis.recalcAfterBlock = true;\n\t\t}\n\t\t\n\t\treturn this.blocked;\n\t}\n\t\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\t\t\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(row);\n\t\t}else {\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else {\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\t\t\n\t\tif(def.topCalc){\n\t\t\t\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){}\n\t\n\tremoveCalcs(){\n\t\tvar changed = false;\n\t\t\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\treinitializeCalcs(){\n\t\tif(this.topCalcs.length){\n\t\t\tthis.initializeTopRow();\n\t\t}\n\n\t\tif(this.botCalcs.length){\n\t\t\tthis.initializeBottomRow();\n\t\t}\n\t}\n\t\n\tinitializeTopRow(){\n\t\tif(!this.topInitialized){\n\t\t\tthis.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\t\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botElement.scrollLeft = left;\n\t\t}\n\t}\n\t\n\trecalc(rows){\n\t\tvar data, row;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(this.topInitialized || this.botInitialized){\n\t\t\t\tdata = this.rowsToData(rows);\n\t\t\t\t\n\t\t\t\tif(this.topInitialized){\n\t\t\t\t\tif(this.topRow){\n\t\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"top\", data);\n\t\t\t\t\tthis.topRow = row;\n\t\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.botInitialized){\n\t\t\t\t\tif(this.botRow){\n\t\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"bottom\", data);\n\t\t\t\t\tthis.botRow = row;\n\t\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t\t\t\n\t\t\t\t//set resizable handles\n\t\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\t\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\t\t\t\t\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\t\t\t\t\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(group){\n\t\t\t\tif(group.calcs){\n\t\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(group.calcs.top){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\t\n\trowsToData(rows){\n\t\tvar data = [];\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\t\t\t\n\t\t\tif(this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs){\n\t\t\t\tif(row.modules.dataTree && row.modules.dataTree.open){\n\t\t\t\t\tvar children = this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(row));\n\t\t\t\t\tdata = data.concat(children);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\t\t\n\t\trow = new Row(rowData, this, \"calc\");\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\t\t\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\t\t\n\t\trow.component = false;\n\t\t\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\t\t\t\n\t\t\treturn row.component;\n\t\t};\n\t\t\n\t\trow.generateCells = () => {\n\t\t\t\n\t\t\tvar cells = [];\n\t\t\t\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\t\n\t\t\t\t//set field name of mock column\n\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\t\t\t\t\n\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(\"plaintext\"),\n\t\t\t\t\t\tparams:{}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//ensure css class definition is replicated to calculation cell\n\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\t\t\t\t\n\t\t\t\t//generate cell and assign to correct column\n\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\tcell.getElement();\n\t\t\t\tcell.column = column;\n\t\t\t\tcell.setWidth();\n\t\t\t\t\n\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\tcells.push(cell);\n\t\t\t\t\n\t\t\t\tif(!column.visible){\n\t\t\t\t\tcell.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\trow.cells = cells;\n\t\t};\n\t\t\n\t\treturn row;\n\t}\n\t\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\t\t\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\t\t\t\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\t\t\t\t\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowData;\n\t}\n\t\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\t\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\t\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\t\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\t\t\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\t\t\t\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else {\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t};\n\t\t}\n\t\t\n\t\treturn results;\n\t}\n\t\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\t\t\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\t\t\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t};\n\t\t\n\t\treturn results;\n\t}\n\t\n\tadjustForScrollbar(width){\n\t\tif(this.botRow){\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.botElement.style.paddingLeft = width + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.botElement.style.paddingRight = width + \"px\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nColumnCalcs.moduleName = \"columnCalcs\";\n\n//load defaults\nColumnCalcs.calculations = defaultCalculations;\n\nclass DataTree extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//selecting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(this.options(\"movableRows\")){\n\t\t\t\tconsole.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else {\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch-empty\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else {\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else {\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else {\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else {\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else {\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\toldControl = config.controlEl;\n\n\t\tel = el || row.getCells()[0].getElement();\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else {\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else {\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else {\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree && row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else {\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else {\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(subject === null){\n\t\t\t\tmatch = false;\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\tmatch = false;\n\t\t}else {\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config && config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\toutput = output.concat(this.getTreeChildren(childRow, component, recurse));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}\n\nDataTree.moduleName = \"dataTree\";\n\nfunction csv(list, options = {}, setFileContents){\n\tvar delimiter = options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\t\tif(col){\n\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n}\n\nfunction json(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif(col){\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n}\n\nfunction pdf(list, options = {}, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options.title ? options.title : \"\";\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\theader.push(parseRow(row));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tbody.push(parseRow(row));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tvar doc = new jspdf.jsPDF(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else {\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n}\n\nfunction xlsx(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tworkbook = XLSX.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\tcompression =  'compress' in options ? options.compress : true,\n\twriteOptions = options.writeOptions || {bookType:'xlsx', bookSST:true, compression},\n\toutput;\n\n\twriteOptions.type = 'binary';\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else {\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else {\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\treturn buf;\n\t}\n\n\toutput = XLSX.write(workbook, writeOptions);\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n}\n\nfunction html(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.generateHTMLTable(list), \"text/html\");\n\t}\n}\n\nfunction jsonLines (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n}\n\nvar defaultDownloaders = {\n\tcsv:csv,\n\tjson:json,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx,\n\thtml:html,\n};\n\nclass Download extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadEncoder\", function(data, mimeType){\n\t\t\treturn new Blob([data],{type:mimeType});\n\t\t}); //function to manipulate download data\n\t\tthis.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n\t}\t\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else {\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else {\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = this.table.options.downloadEncoder(data, mime);\n\n\t\tif(blob){\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else {\n\t\t\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\t\t\t\t\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else {\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nDownload.moduleName = \"download\";\n\n//load defaults\nDownload.downloaders = defaultDownloaders;\n\nfunction maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\";\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46 && !e.ctrlKey && !e.metaKey){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}else {\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}\n\n//input element\nfunction input(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//resizable text area element\nfunction textarea(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"hybrid\",\n\tvalue = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n\tinput = document.createElement(\"textarea\"),\n\tscrollHeight = 0;\n\n\t//create and style input\n\tinput.style.display = \"block\";\n\tinput.style.padding = \"2px\";\n\tinput.style.height = \"100%\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\tinput.style.whiteSpace = \"pre-wrap\";\n\tinput.style.resize = \"none\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t},300);\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\tinput.addEventListener(\"keyup\", function(){\n\n\t\tinput.style.height = \"\";\n\n\t\tvar heightNow = input.scrollHeight;\n\n\t\tinput.style.height = heightNow + \"px\";\n\n\t\tif(heightNow != scrollHeight){\n\t\t\tscrollHeight = heightNow;\n\t\t\tcell.getRow().normalizeHeight();\n\t\t}\n\t});\n\n\tinput.addEventListener(\"keydown\", function(e){\n\n\t\tswitch(e.keyCode){\n\n\t\t\tcase 13:\n\t\t\t\tif(e.shiftKey && editorParams.shiftEnterSubmit){\n\t\t\t\t\tonChange();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//input element with type of number\nfunction number(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//input element with type of number\nfunction range(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.setAttribute(\"type\", \"range\");\n\t\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\t\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\t\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\t\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value;\n\t\t\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\t\t\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction date(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tfunction convertDate(value){\n\t\tvar newDatetime;\n\t\t\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\t\t\n\t\treturn newDatetime.toFormat(\"yyyy-MM-dd\");\n\t}\n\t\n\tinput.type = \"date\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.max){\n\t\tinput.setAttribute(\"max\", inputFormat ? convertDate(editorParams.max) : editorParams.max);\n\t}\n\n\tif(editorParams.min){\n\t\tinput.setAttribute(\"min\", inputFormat ? convertDate(editorParams.min) : editorParams.min);\n\t}\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\t\t\n\t\t\tcellValue = convertDate(cellValue);\t\t\t\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDate;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDate = DT.fromFormat(String(value), \"yyyy-MM-dd\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDate;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDate.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDate.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction time(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"time\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else {\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"hh:mm\");\n\t\t\t\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() == \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxTime = DT.fromFormat(String(value), \"hh:mm\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction datetime(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"datetime-local\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else {\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"yyyy-MM-dd\")  + \"T\" + newDatetime.toFormat(\"hh:mm\");\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDateTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDateTime = DT.fromISO(String(value));\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDateTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDateTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDateTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\nclass Edit{\n\tconstructor(editor, cell, onRendered, success, cancel, editorParams){\n\t\tthis.edit = editor;\n\t\tthis.table = editor.table;\n\t\tthis.cell = cell;\n\t\tthis.params = this._initializeParams(editorParams);\n\t\t\n\t\tthis.data = [];\n\t\tthis.displayItems = [];\n\t\tthis.currentItems = [];\n\t\tthis.focusedItem = null;\n\t\t\n\t\tthis.input = this._createInputElement();\n\t\tthis.listEl = this._createListElement();\n\t\t\n\t\tthis.initialValues = null; \n\t\t\n\t\tthis.isFilter = cell.getType() === \"header\";\n\t\t\n\t\tthis.filterTimeout = null;\n\t\tthis.filtered = false;\n\t\tthis.typing = false;\n\t\t\n\t\tthis.values = []; \n\t\tthis.popup = null;  \n\t\t\n\t\tthis.listIteration = 0;\n\t\t\n\t\tthis.lastAction=\"\";\n\t\tthis.filterTerm=\"\";\n\t\t\n\t\tthis.blurable = true;\n\t\t\n\t\tthis.actions = {\n\t\t\tsuccess:success,\n\t\t\tcancel:cancel\n\t\t};\n\t\t\n\t\tthis._deprecatedOptionsCheck();\n\t\tthis._initializeValue();\n\t\t\n\t\tonRendered(this._onRendered.bind(this));\n\t}\n\t\n\t_deprecatedOptionsCheck(){\n\t\tif(this.params.listItemFormatter){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.sortValuesList){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchFunc){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchingPlaceholder){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t}\n\t\n\t_initializeValue(){\n\t\tvar initialValue = this.cell.getValue();\n\t\t\n\t\tif(typeof initialValue === \"undefined\" && typeof this.params.defaultValue !== \"undefined\"){\n\t\t\tinitialValue = this.params.defaultValue;\n\t\t}\n\t\t\n\t\tthis.initialValues = this.params.multiselect ? initialValue : [initialValue];\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\";\n\t\t\tthis.headerFilterInitialListGen();            \n\t\t}\n\t}\n\t\n\t_onRendered(){\n\t\tvar cellEl = this.cell.getElement();\n\t\t\n\t\tfunction clickStop(e){\n\t\t\te.stopPropagation();\n\t\t}\t\n\t\t\n\t\tif(!this.isFilter){\n\t\t\tthis.input.style.height = \"100%\";\n\t\t\tthis.input.focus({preventScroll: true});\n\t\t}\n\t\t\n\t\t\n\t\tcellEl.addEventListener(\"click\", clickStop);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tcellEl.removeEventListener(\"click\", clickStop);\n\t\t}, 1000);\n\t\t\n\t\tthis.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n\t}\n\t\n\t_createListElement(){\n\t\tvar listEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-list\");\n\t\t\n\t\tlistEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\tlistEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\t\n\t\treturn listEl;\n\t}\n\t\n\t_setListWidth(){\n\t\tvar element = this.isFilter ? this.input : this.cell.getElement();\n\t\t\n\t\tthis.listEl.style.minWidth = element.offsetWidth + \"px\";\n\t\t\n\t\tif(this.params.maxWidth){\n\t\t\tif(this.params.maxWidth === true){\n\t\t\t\tthis.listEl.style.maxWidth = element.offsetWidth + \"px\";\n\t\t\t}else if(typeof this.params.maxWidth === \"number\"){\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t_createInputElement(){\n\t\tvar attribs = this.params.elementAttributes;\n\t\tvar input = document.createElement(\"input\");\n\t\t\n\t\tinput.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\t\t\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\t\n\t\tif(!this.params.autocomplete){\n\t\t\tinput.style.cursor = \"default\";\n\t\t\tinput.style.caretColor = \"transparent\";\n\t\t\t// input.readOnly = (this.edit.currentCell != false);\n\t\t}\n\t\t\n\t\tif(attribs && typeof attribs == \"object\"){\n\t\t\tfor (let key in attribs){\n\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n\t\t\t\t}else {\n\t\t\t\t\tinput.setAttribute(key, attribs[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this.params.mask){\n\t\t\tmaskInput(input, this.params);\n\t\t}\n\t\t\n\t\tthis._bindInputEvents(input);\n\t\t\n\t\treturn input;\n\t}\n\t\n\t_initializeParams(params){\n\t\tvar valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n\t\tvalueCheck;\n\t\t\n\t\tparams = Object.assign({}, params);\n\t\t\n\t\tparams.verticalNavigation = params.verticalNavigation || \"editor\";\n\t\tparams.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n\t\tparams.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n\t\tparams.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\t\t\n\t\tparams.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\t\t\n\t\tvalueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\t\t\n\t\tif(!valueCheck){\n\t\t\tconsole.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");\n\t\t}else if(valueCheck > 1){\n\t\t\tconsole.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");\n\t\t}\n\t\t\n\t\tif(params.autocomplete){\n\t\t\tif(params.multiselect){\n\t\t\t\tparams.multiselect = false;\n\t\t\t\tconsole.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");\n\t\t\t}\n\t\t}else {\n\t\t\tif(params.freetext){\n\t\t\t\tparams.freetext = false;\n\t\t\t\tconsole.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterFunc){\n\t\t\t\tparams.filterFunc = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterRemote){\n\t\t\t\tparams.filterRemote = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.mask){\n\t\t\t\tparams.mask = false;\n\t\t\t\tconsole.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.allowEmpty){\n\t\t\t\tparams.allowEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.listOnEmpty){\n\t\t\t\tparams.listOnEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(params.filterRemote && !(typeof params.valuesLookup === \"function\" || params.valuesURL)){\n\t\t\tparams.filterRemote = false;\n\t\t\tconsole.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n\t\t}\n\t\treturn params;\n\t}\n\t//////////////////////////////////////\n\t////////// Event Handling ////////////\n\t//////////////////////////////////////\n\t\n\t_bindInputEvents(input){\n\t\tinput.addEventListener(\"focus\", this._inputFocus.bind(this));\n\t\tinput.addEventListener(\"click\", this._inputClick.bind(this));\n\t\tinput.addEventListener(\"blur\", this._inputBlur.bind(this));\n\t\tinput.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\tinput.addEventListener(\"search\", this._inputSearch.bind(this));\n\t\t\n\t\tif(this.params.autocomplete){\n\t\t\tinput.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\t\t}\n\t}\n\t\n\t\n\t_inputFocus(e){\n\t\tthis.rebuildOptionsList();\n\t}\n\t\n\t_filter(){\n\t\tif(this.params.filterRemote){\n\t\t\tclearTimeout(this.filterTimeout);\n\t\t\t\n\t\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\t\tthis.rebuildOptionsList();\n\t\t\t}, this.params.filterDelay);\n\t\t}else {\n\t\t\tthis._filterList();\n\t\t}\n\t}\n\t\n\t_inputClick(e){\n\t\te.stopPropagation();\n\t}\n\t\n\t_inputBlur(e){\n\t\tif(this.blurable){\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.hide();\n\t\t\t}else {\n\t\t\t\tthis._resolveValue(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_inputSearch(){\n\t\tthis._clearChoices();\n\t}\n\t\n\t_inputKeyDown(e){\n\t\tswitch(e.keyCode){\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\t\tthis._keyUp(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 40: //down arrow\n\t\t\t\tthis._keyDown(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //right arrow\n\t\t\t\tthis._keySide(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 13: //enter\n\t\t\t\tthis._keyEnter();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27: //escape\n\t\t\t\tthis._keyEsc();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 36: //home\n\t\t\tcase 35: //end\n\t\t\t\tthis._keyHomeEnd(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 9: //tab\n\t\t\t\tthis._keyTab(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keySelectLetter(e);\n\t\t}\n\t}\n\t\n\t_inputKeyUp(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 38: //up arrow\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //up arrow\n\t\t\tcase 40: //right arrow\n\t\t\tcase 13: //enter\n\t\t\tcase 27: //escape\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keyAutoCompLetter(e);\n\t\t}\n\t}\n\t\n\t_preventPopupBlur(){\n\t\tif(this.popup){\n\t\t\tthis.popup.blockHide();\n\t\t}\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.restoreHide();\n\t\t\t}\n\t\t}, 10);\n\t}\n\t\n\t_preventBlur(){\n\t\tthis.blurable = false;\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tthis.blurable = true;\n\t\t}, 10);\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Keyboard Navigation /////////\n\t//////////////////////////////////////\n\t\n\t_keyTab(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else {\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyUp(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index > 0){\n\t\t\t\tthis._focusItem(this.displayItems[index - 1]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyDown(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index < this.displayItems.length - 1){\n\t\t\t\tif(index == -1){\n\t\t\t\t\tthis._focusItem(this.displayItems[0]);\n\t\t\t\t}else {\n\t\t\t\t\tthis._focusItem(this.displayItems[index + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keySide(e){\n\t\tif(!this.params.autocomplete){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\t_keyEnter(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else {\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyEsc(e){\n\t\tthis._cancel();\n\t}\n\t\n\t_keyHomeEnd(e){\n\t\tif(this.params.autocomplete){\n\t\t\t//prevent table navigation while using input element\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t}\n\t\n\t_keySelectLetter(e){\n\t\tif(!this.params.autocomplete){\n\t\t\t// if(this.edit.currentCell === false){\n\t\t\te.preventDefault();\n\t\t\t// }\n\t\t\t\n\t\t\tif(e.keyCode >= 38 && e.keyCode <= 90){\n\t\t\t\tthis._scrollToValue(e.keyCode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyAutoCompLetter(e){\n\t\tthis._filter();\n\t\tthis.lastAction = \"typing\";\n\t\tthis.typing = true;\n\t}\n\t\n\t\n\t_scrollToValue(char){\n\t\tclearTimeout(this.filterTimeout);\n\t\t\n\t\tvar character = String.fromCharCode(char).toLowerCase();\n\t\tthis.filterTerm += character.toLowerCase();\n\t\t\n\t\tvar match = this.displayItems.find((item) => {\n\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n\t\t});\n\t\t\n\t\tif(match){\n\t\t\tthis._focusItem(match);\n\t\t}\n\t\t\n\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\tthis.filterTerm = \"\";\n\t\t}, 800);\n\t}\n\t\n\t_focusItem(item){\n\t\tthis.lastAction = \"focus\";\n\t\t\n\t\tif(this.focusedItem && this.focusedItem.element){\n\t\t\tthis.focusedItem.element.classList.remove(\"focused\");\n\t\t}\n\t\t\n\t\tthis.focusedItem = item;\n\t\t\n\t\tif(item && item.element){\n\t\t\titem.element.classList.add(\"focused\");\n\t\t\titem.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n\t\t}\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t/////// Data List Generation /////////\n\t//////////////////////////////////////\n\theaderFilterInitialListGen(){\n\t\tthis._generateOptions(true);\n\t}\n\t\n\trebuildOptionsList(){\n\t\tthis._generateOptions()\n\t\t\t.then(this._sortOptions.bind(this))\n\t\t\t.then(this._buildList.bind(this))\n\t\t\t.then(this._showList.bind(this))\n\t\t\t.catch((e) => {\n\t\t\t\tif(!Number.isInteger(e)){\n\t\t\t\t\tconsole.error(\"List generation error\", e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\t_filterList(){\n\t\tthis._buildList(this._filterOptions());\n\t\tthis._showList();\n\t}\n\t\n\t_generateOptions(silent){\n\t\tvar values = [];\n\t\tvar iteration = ++ this.listIteration;\n\t\t\n\t\tthis.filtered = false;\n\t\t\n\t\tif(this.params.values){\n\t\t\tvalues = this.params.values;\n\t\t}else if (this.params.valuesURL){\n\t\t\tvalues = this._ajaxRequest(this.params.valuesURL, this.input.value);\n\t\t}else {\n\t\t\tif(typeof this.params.valuesLookup === \"function\"){\n\t\t\t\tvalues = this.params.valuesLookup(this.cell, this.input.value);\n\t\t\t}else if(this.params.valuesLookup){\n\t\t\t\tvalues = this._uniqueColumnValues(this.params.valuesLookupField);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(values instanceof Promise){\n\t\t\tif(!silent){\n\t\t\t\tthis._addPlaceholder(this.params.placeholderLoading);\n\t\t\t}\n\t\t\t\n\t\t\treturn values.then()\n\t\t\t\t.then((responseValues) => {\n\t\t\t\t\tif(this.listIteration === iteration){\n\t\t\t\t\t\treturn this._parseList(responseValues);\n\t\t\t\t\t}else {\n\t\t\t\t\t\treturn Promise.reject(iteration);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn Promise.resolve(this._parseList(values));\n\t\t}\n\t}\n\t\n\t_addPlaceholder(contents){\n\t\tvar placeholder = document.createElement(\"div\");\n\t\t\n\t\tif(typeof contents === \"function\"){\n\t\t\tcontents = contents(this.cell.getComponent(), this.listEl);\n\t\t}\n\t\t\n\t\tif(contents){\n\t\t\tthis._clearList();\n\t\t\t\n\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\tplaceholder = contents;\n\t\t\t}else {\n\t\t\t\tplaceholder.classList.add(\"tabulator-edit-list-placeholder\");\n\t\t\t\tplaceholder.innerHTML = contents;\n\t\t\t}\n\t\t\t\n\t\t\tthis.listEl.appendChild(placeholder);\n\t\t\t\n\t\t\tthis._showList();\n\t\t}\n\t}\n\t\n\t_ajaxRequest(url, term){\n\t\tvar params = this.params.filterRemote ? {term:term} : {};\n\t\turl = urlBuilder(url, {}, params);\n\t\t\n\t\treturn fetch(url)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\tconsole.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \", error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t});\n\t}\n\t\n\t_uniqueColumnValues(field){\n\t\tvar output = {},\n\t\tdata = this.table.getData(this.params.valuesLookup),\n\t\tcolumn;\n\t\t\n\t\tif(field){\n\t\t\tcolumn = this.table.columnManager.getColumnByField(field);\n\t\t}else {\n\t\t\tcolumn = this.cell.getColumn()._getSelf();\n\t\t}\n\t\t\n\t\tif(column){\n\t\t\tdata.forEach((row) => {\n\t\t\t\tvar val = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tif(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n\t\t\t\t\toutput[val] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\toutput = [];\n\t\t}\n\t\t\n\t\treturn Object.keys(output);\n\t}\n\t\n\t\n\t_parseList(inputValues){\n\t\tvar data = [];\n\t\t\n\t\tif(!Array.isArray(inputValues)){\n\t\t\tinputValues = Object.entries(inputValues).map(([key, value]) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:key,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\t\n\t\tinputValues.forEach((value) => {\n\t\t\tif(typeof value !== \"object\"){\n\t\t\t\tvalue = {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:value,\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tthis._parseListItem(value, data, 0);\n\t\t});\n\t\t\n\t\tif(!this.currentItems.length && this.params.freetext){\n\t\t\tthis.input.value = this.initialValues;\n\t\t\tthis.typing = true;\n\t\t\tthis.lastAction = \"typing\";\n\t\t}\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\treturn data;    \n\t}\n\t\n\t_parseListItem(option, data, level){\n\t\tvar item = {};\n\t\t\n\t\tif(option.options){\n\t\t\titem = this._parseListGroup(option, level + 1);\n\t\t}else {\n\t\t\titem = {\n\t\t\t\tlabel:option.label,\n\t\t\t\tvalue:option.value,\n\t\t\t\titemParams:option.itemParams,\n\t\t\t\telementAttributes: option.elementAttributes,\n\t\t\t\telement:false,\n\t\t\t\tselected:false,\n\t\t\t\tvisible:true,\n\t\t\t\tlevel:level,\n\t\t\t\toriginal:option,\n\t\t\t};\n\t\t\t\n\t\t\tif(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n\t\t\t\tthis._chooseItem(item, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata.push(item);\n\t}\n\t\n\t_parseListGroup(option, level){\n\t\tvar item = {\n\t\t\tlabel:option.label,\n\t\t\tgroup:true,\n\t\t\titemParams:option.itemParams,\n\t\t\telementAttributes:option.elementAttributes,\n\t\t\telement:false,\n\t\t\tvisible:true,\n\t\t\tlevel:level,\n\t\t\toptions:[],\n\t\t\toriginal:option,\n\t\t};\n\t\t\n\t\toption.options.forEach((child) => {\n\t\t\tthis._parseListItem(child, item.options, level);\n\t\t});\n\t\t\n\t\treturn item;\n\t}\n\t\n\t_sortOptions(options){\n\t\tvar sorter;\n\t\t\n\t\tif(this.params.sort){\n\t\t\tsorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\t\t\t\n\t\t\tthis._sortGroup(sorter, options);\n\t\t}\n\t\t\n\t\treturn options;\n\t}\n\t\n\t_sortGroup(sorter, options){\n\t\toptions.sort((a,b) => {\n\t\t\treturn sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n\t\t});\n\t\t\n\t\toptions.forEach((option) => {\n\t\t\tif(option.group){\n\t\t\t\tthis._sortGroup(sorter, option.options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_defaultSortFunction(as, bs){\n\t\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\t\tvar emptyAlign = 0;\n\t\t\n\t\tif(this.params.sort === \"desc\"){\n\t\t\t[as, bs] = [bs, as];\n\t\t}\n\t\t\n\t\t//handle empty values\n\t\tif(!as && as!== 0){\n\t\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t\t}else if(!bs && bs!== 0){\n\t\t\temptyAlign =  1;\n\t\t}else {\n\t\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif(a === b) return 0;\n\t\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile(i < L){\n\t\t\t\ta1= a[i];\n\t\t\t\tb1= b[i++];\n\t\t\t\tif(a1 !== b1){\n\t\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t}\n\t\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn a.length > b.length;\n\t\t}\n\t\t\n\t\treturn emptyAlign;\n\t}\n\t\n\t_filterOptions(){\n\t\tvar filterFunc = this.params.filterFunc || this._defaultFilterFunc,\n\t\tterm = this.input.value;\n\t\t\n\t\tif(term){\n\t\t\tthis.filtered = true;\n\t\t\t\n\t\t\tthis.data.forEach((item) => {\n\t\t\t\tthis._filterItem(filterFunc, term, item);\n\t\t\t});\n\t\t}else {\n\t\t\tthis.filtered = false;\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\t_filterItem(func, term, item){\n\t\tvar matches = false;\n\t\t\n\t\tif(!item.group){\n\t\t\titem.visible = func(term, item.label, item.value, item.original);\n\t\t}else {\n\t\t\titem.options.forEach((option) => {\n\t\t\t\tif(this._filterItem(func, term, option)){\n\t\t\t\t\tmatches = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\titem.visible = matches;\n\t\t}\n\t\t\n\t\treturn item.visible;\n\t}\n\t\n\t_defaultFilterFunc(term, label, value, item){\n\t\tterm = String(term).toLowerCase();\n\t\t\n\t\tif(label !== null && typeof label !== \"undefined\"){\n\t\t\tif(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase().indexOf(term) > -1){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t//////////////////////////////////////\n\t/////////// Display List /////////////\n\t//////////////////////////////////////\n\t\n\t_clearList(){\n\t\twhile(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\t\t\n\t\tthis.displayItems = [];\n\t}\n\t\n\t_buildList(data){\n\t\tthis._clearList();\n\t\t\n\t\tdata.forEach((option) => {\n\t\t\tthis._buildItem(option);\n\t\t});\n\t\t\n\t\tif(!this.displayItems.length){\n\t\t\tthis._addPlaceholder(this.params.placeholderEmpty);\n\t\t}  \n\t}\n\t\n\t_buildItem(item){\n\t\tvar el = item.element,\n\t\tcontents;\n\t\t\n\t\tif(!this.filtered || item.visible){\n\t\t\t\n\t\t\tif(!el){\n\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\n\t\t\t\tcontents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\t\t\t\t\n\t\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else {\n\t\t\t\t\tel.innerHTML = contents;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-group\");\n\t\t\t\t}else {\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-item\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\t\t\t\t\n\t\t\t\tif(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n\t\t\t\t\tfor (let key in item.elementAttributes){\n\t\t\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\tel.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.addEventListener(\"click\", this._groupClick.bind(this, item));\n\t\t\t\t}else {\n\t\t\t\t\tel.addEventListener(\"click\", this._itemClick.bind(this, item));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\t\t\t\n\t\t\t\titem.element = el;\n\t\t\t}\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tthis.listEl.appendChild(el);\n\t\t\t\n\t\t\tif(item.group){\n\t\t\t\titem.options.forEach((option) => {\n\t\t\t\t\tthis._buildItem(option);\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis.displayItems.push(item);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_showList(){\n\t\tvar startVis = this.popup && this.popup.isVisible();\n\t\t\n\t\tif(this.input.parentNode){\n\t\t\tif(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n\t\t\t\tif(this.popup){\n\t\t\t\t\tthis.popup.hide(true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis._setListWidth();\n\t\t\t\n\t\t\tif(!this.popup){\n\t\t\t\tthis.popup = this.edit.popup(this.listEl);\n\t\t\t}\n\t\t\t\n\t\t\tthis.popup.show(this.cell.getElement(), \"bottom\");\n\t\t\t\n\t\t\tif(!startVis){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.popup.hideOnBlur(this._resolveValue.bind(this, true));\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_styleItem(item){\n\t\tif(item && item.element){\n\t\t\tif(item.selected){\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}else {\n\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// User Interaction ///////////\n\t//////////////////////////////////////\n\t\n\t_itemClick(item, e){\n\t\te.stopPropagation();\n\t\t\n\t\tthis._chooseItem(item);\n\t}\n\t\n\t_groupClick(item, e){\n\t\te.stopPropagation();\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t////// Current Item Management ///////\n\t//////////////////////////////////////\n\t\n\t_cancel(){\n\t\tthis.popup.hide(true);\n\t\tthis.actions.cancel();\n\t}\n\t\n\t_clearChoices(){\n\t\tthis.typing = true;\n\t\t\n\t\tthis.currentItems.forEach((item) => {\n\t\t\titem.selected = false;\n\t\t\tthis._styleItem(item);\n\t\t});\n\t\t\n\t\tthis.currentItems = [];\n\t\t\n\t\tthis.focusedItem = null;\n\t}\n\t\n\t_chooseItem(item, silent){\n\t\tvar index;\n\t\t\n\t\tthis.typing = false;\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\tindex = this.currentItems.indexOf(item);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.currentItems.splice(index, 1);\n\t\t\t\titem.selected = false;\n\t\t\t}else {\n\t\t\t\tthis.currentItems.push(item);\n\t\t\t\titem.selected = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.input.value = this.currentItems.map(item => item.label).join(\",\");\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t}else {\n\t\t\tthis.currentItems = [item];\n\t\t\titem.selected = true;\n\t\t\t\n\t\t\tthis.input.value = item.label;\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis._resolveValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._focusItem(item);\n\t}\n\t\n\t_resolveValue(blur){\n\t\tvar output, initialValue;\n\t\t\n\t\tif(this.popup){\n\t\t\tthis.popup.hide(true);\n\t\t}\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\toutput = this.currentItems.map(item => item.value);\n\t\t}else {\n\t\t\tif(blur && this.params.autocomplete && this.typing){\n\t\t\t\tif(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n\t\t\t\t\toutput = this.input.value;\n\t\t\t\t}else {\n\t\t\t\t\tthis.actions.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.currentItems[0]){\n\t\t\t\t\toutput = this.currentItems[0].value;\n\t\t\t\t}else {\n\t\t\t\t\tinitialValue = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues;\n\t\t\t\t\t\n\t\t\t\t\tif(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n\t\t\t\t\t\toutput = initialValue;\n\t\t\t\t\t}else {\n\t\t\t\t\t\toutput = this.params.emptyValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(output === \"\"){\n\t\t\toutput = this.params.emptyValue;\n\t\t}\n\t\t\n\t\tthis.actions.success(output);\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.initialValues = output && !Array.isArray(output) ? [output] : output;\n\t\t\tthis.currentItems = [];\n\t\t}\n\t}\n\t\n}\n\nfunction select(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The select editor has been deprecated, please use the new list editor\");\n\n\tvar list = new Edit(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\nfunction list(cell, onRendered, success, cancel, editorParams){\n\tvar list = new Edit(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\nfunction autocomplete(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam\");\n\n\teditorParams.autocomplete = true;\n\n\tvar list = new Edit(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\n//star rating\nfunction star(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else {\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else {\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else {\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\tchangeValue(value + 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\tchangeValue(value - 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\t\tsuccess(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n}\n\n//draggable progress bar\nfunction progress(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\t\tupdateValue();\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n}\n\n//checkbox\nfunction tickCross(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\t\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = value;\n\t\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\t\n\tif(this.table.browser != \"firefox\" && this.table.browser != \"safari\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tif(cell.getType() === \"cell\"){\n\t\t\t\tinput.focus({preventScroll: true});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\t\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\t\t\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}\n\t\t\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else {\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else {\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\nvar defaultEditors = {\n\tinput:input,\n\ttextarea:textarea,\n\tnumber:number,\n\trange:range,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tselect:select,\n\tlist:list,\n\tautocomplete:autocomplete,\n\tstar:star,\n\tprogress:progress,\n\ttickCross:tickCross,\n};\n\nclass Edit$1 extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overridden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\t\t\n\t\tthis.editors = Edit$1.editors;\n\t\t\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\t\t\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\t\t\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-layout\", this.rowEditableCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\t\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\t\t\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\t\t\t\t\t\n\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\t\n\tcellIsEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\t\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else {\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tupdateCellClass(cell){\n\t\tif(this.allowEdit(cell)) {\n\t\t\tcell.getElement().classList.add(\"tabulator-editable\");\n\t\t}\n\t\telse {\n\t\t\tcell.getElement().classList.remove(\"tabulator-editable\");\n\t\t}\n\t}\n\t\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\t\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateLeft();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findPrevEditableCell(prevRow, prevRow.cells.length);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateRight();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\t\t\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\t\t\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn prevCell;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\n\trowEditableCheck(row){\n\t\trow.getCells().forEach((cell) => {\n\t\t\tif(cell.column.modules.edit && typeof cell.column.modules.edit.check === \"function\"){\n\t\t\t\tthis.updateCellClass(cell);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar config = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {}\n\t\t};\n\t\t\n\t\t//set column editor\n\t\tswitch(typeof column.definition.editor){\n\t\t\tcase \"string\":\n\t\t\t\tif(this.editors[column.definition.editor]){\n\t\t\t\t\tconfig.editor = this.editors[column.definition.editor];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.editor = column.definition.editor;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tif(column.definition.editor === true){\n\t\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\t\tconfig.editor = this.editors[column.definition.formatter];\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tconfig.editor = this.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\t\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\t\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\t\t\n\t\tthis.invalidEdit = false;\n\t\t\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\t\t\t\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\t\t\t\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\t\t\t\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\tcell.table.element.classList.remove(\"tabulator-editing\");\n\t\t}\n\t}\n\t\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\t\t\t\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\t\t\t\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\t\t\t\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\t\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\t\t\t\n\t\t\tthis.updateCellClass(cell);\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\t\t\t\n\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else {\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\t\t\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\t\t\n\t\tthis.recursionBlock = false;\n\t}\n\t\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\t\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement();\n\t\t\t\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else {\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin || 0);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin || 0);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\t\t\t\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else {\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tallowEdit(cell) {\n\t\tvar check = cell.column.modules.edit ? true : false;\n\n\t\tif(cell.column.modules.edit){\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif(cell.row.initialized){\n\t\t\t\t\t\tcheck = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"string\":\n\t\t\t\t\tcheck = !!cell.row.data[cell.column.modules.edit.check];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tcheck = cell.column.modules.edit.check;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn check;\n\t}\n\t\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\tcellEditor, component, params;\n\t\t\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit && this.currentCell !== cell){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\t\t\t\t\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\t\t\t\t\tself.clearEditor();\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.modules.edit.edited = true;\n\t\t\t\t\t\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.setValue(value, true);\n\t\t\t\t\t\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else {\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tself.cancelEdit();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\t\t\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\t\n\t\t\tallowEdit = this.allowEdit(cell);\n\t\t\t\n\t\t\tif(allowEdit || forceEdit){\n\t\t\t\t\n\t\t\t\tself.cancelEdit();\n\t\t\t\t\n\t\t\t\tself.currentCell = cell;\n\t\t\t\t\n\t\t\t\tthis.focusScrollAdjust(cell);\n\t\t\t\t\n\t\t\t\tcomponent = cell.getComponent();\n\t\t\t\t\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\t\t\t\t\t\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\t\t\t\t\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\t\t\t\t\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\t\t\t\t\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(this.currentCell && cellEditor !== false){\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.table.element.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\telement.blur();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\telement.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\telement.blur();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tthis.mouseClick = false;\n\t\t\telement.blur();\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetEditedCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearEdited(cell){\n\t\tvar editIndex;\n\t\t\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\t\t\t\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\t\t\n\t\teditIndex = this.editedCells.indexOf(cell);\n\t\t\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}\n\nEdit$1.moduleName = \"edit\";\n\n//load defaults\nEdit$1.editors = defaultEditors;\n\nclass ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}\n\nclass ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}\n\nclass Export extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\t\t\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html output config\n\t\t\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\t\t\n\t\tvar headers = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\n\t\tvar body = this.bodyToExportRows(this.rowLookup(range));\n\t\t\n\t\treturn headers.concat(body);\n\t}\n\t\n\tgenerateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\t\t\n\t\treturn this.generateTableElement(list);\n\t}\n\t\n\trowLookup(range){\n\t\tvar rows = [];\n\t\t\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tswitch(range){\n\t\t\t\tcase true:\n\t\t\t\tcase \"visible\":\n\t\t\t\t\trows = this.table.rowManager.getVisibleRows(false, true);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"all\":\n\t\t\t\t\trows = this.table.rowManager.rows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"selected\":\n\t\t\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"active\":\n\t\t\t\tdefault:\n\t\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\n\t\t\t\t\t}else {\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Object.assign([], rows);\n\t}\n\t\n\tgenerateColumnGroupHeaders(){\n\t\tvar output = [];\n\t\t\n\t\tvar columns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\t\t\t\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\n\t\t\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\t\t\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\t\t\t\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\t\t\t\t\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\t\t\t\t\t\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tgroupData.depth += maxDepth;\n\t\t\t\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn groupData;\n\t}\n\t\n\tcolumnVisCheck(column){\n\t\tvar visProp = column.definition[this.colVisProp];\n\t\t\n\t\tif(typeof visProp === \"function\"){\n\t\t\tvisProp = visProp.call(this.table, column.getComponent());\n\t\t}\n\t\t\n\t\treturn visProp !== false && (column.visible || (!column.visible && visProp));\n\t}\n\t\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\t\t\n\t\tfunction parseColumnGroup(column, level){\n\t\t\t\n\t\t\tvar depth = headerDepth - level;\n\t\t\t\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\t\t\t\n\t\t\theaders[level].push(column);\n\t\t\t\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\t\t\t\t\t\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t//calculate maximum header depth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\t\t\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\t\t\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\t\t\t\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else {\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tbodyToExportRows(rows){\n\t\t\n\t\tvar columns = [];\n\t\tvar exportRows = [];\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\t\t\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\tindent = row.level;\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tgenerateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n\t\tsetup = {};\n\t\t\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\t\t\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\t\t\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\n\t\t\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\t\t\n\t\ttable.classList.add(\"tabulator-print-table\");\n\t\t\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\n\t\t\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\t\t\n\t\tlist.forEach((row, i) => {\n\t\t\tlet rowEl;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\t\theaderEl.appendChild(this.generateHeaderElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbodyEl.appendChild(this.generateGroupElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbodyEl.appendChild(this.generateCalcElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\trowEl = this.generateRowElement(row, setup, styles);\n\t\t\t\t\n\t\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\t\t\n\t\ttable.appendChild(bodyEl);\n\t\t\n\t\t\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\t\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\t\t\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\t\t\t\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn styles;\n\t}\n\t\n\tgenerateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\t\t\t\t\n\t\t\t\tcellEl.innerHTML = column.value;\n\t\t\t\t\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\t\t\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else {\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.parent){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateGroupElement(row, setup, styles){\n\t\t\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else {\n\t\t\tif(setup.groupHeader !== false){\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\t\t\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\trowEl.appendChild(cellEl);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.generateRowElement(row, setup, styles);\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\trow.columns.forEach((col, i) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\tindex = this.table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value,\n\t\t\t\tcellStyle;\n\t\t\t\t\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else {\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = value !== null ? JSON.stringify(value) : \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else {\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcellStyle = styles.styleCells && styles.styleCells[index] ? styles.styleCells[index] : styles.firstCell;\n\t\t\t\t\n\t\t\t\tif(cellStyle){\n\t\t\t\t\tthis.mapElementStyles(cellStyle, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"]);\n\t\t\t\t\t\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t\t\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(setup.rowFormatter && row.type === \"row\" && this.config.formatCells !== false){\n\t\t\tlet formatComponent = Object.assign(row.component);\n\n\t\t\tformatComponent.getElement = function(){return rowEl;};\n\n\t\t\tsetup.rowFormatter(row.component);\n\t\t}\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\t\t\n\t\tholder.appendChild(this.generateTableElement(list));\n\t\t\n\t\treturn holder.innerHTML;\n\t}\n\t\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\t\t\n\t\treturn this.generateHTMLTable(list);\n\t}\n\t\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\t\t\t\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\t\t\t\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\t\t\t\t\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tif(!to.style[lookup[prop]]){\n\t\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nExport.moduleName = \"export\";\n\nvar defaultFilters = {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else {\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};\n\nclass Filter extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\t\tthis.registerTableOption(\"placeholderHeaderFilter\", false); //placeholder when header filter is empty\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.subscribe(\"placeholder\", this.generatePlaceholder.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\tgeneratePlaceholder(text){\n\t\tif(this.table.options.placeholderHeaderFilter && Object.keys(this.headerFilters).length){\n\t\t\treturn this.table.options.placeholderHeaderFilter;\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField();\n\n\t\t//handle successfully value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type};\n\t\t\t\t}else {\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params, onRenderedCallback;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tfunction onRendered(callback){\n\t\t\tonRenderedCallback = callback;\n\t\t}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:() => {\n\t\t\t\t\t\treturn \"header\";\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, onRendered, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : (column.definition.headerFilterPlaceholder || self.langText(\"headerFilters|default\")));\n\t\t\t\t});\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.contentsElement.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft;\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propagating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\n\t\t\t\tif(onRenderedCallback){\n\t\t\t\t\tonRenderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programmatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else {\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {});// pass params to custom filter function\n\t\t\t};\n\t\t}else {\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else {\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value};\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else {\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}\n\nFilter.moduleName = \"filter\";\n\n//load defaults\nFilter.filters = defaultFilters;\n\nfunction plaintext(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}\n\nfunction html$1(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n}\n\nfunction textarea$1(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}\n\nfunction money(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx, value;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\tvalue = integer + decimal;\n\t\n\tif(sign === true){\n\t\tvalue = \"(\" + value  + \")\";\n\t\treturn after ? value + symbol : symbol + value;\n\t}else {\n\t\treturn after ? sign + value + symbol : sign + symbol + value;\n\t}\n}\n\nfunction link(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\t\tlabel = formatterParams.label;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\t\t\tvalue = data[formatterParams.urlField];\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else {\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else {\n\t\treturn \"&nbsp;\";\n\t}\n}\n\nfunction image(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.height = formatterParams.height;\n\t\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.width = formatterParams.width;\n\t\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n}\n\nfunction tickCross$1(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else {\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else {\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n}\n\nfunction datetime$1(cell, formatterParams, onRendered){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else {\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else {\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n}\n\nfunction datetimediff (cell, formatterParams, onRendered) {\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else {\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else {\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n}\n\nfunction lookup (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n}\n\nfunction star$1(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n}\n\nfunction traffic(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\t\tcolor = colors;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = colors(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(colors)){\n\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = colors[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n}\n\nfunction progress$1(cell, formatterParams = {}, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\t\tcolor = formatterParams.color;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = formatterParams.color(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.color)){\n\t\t\t\tlet unit = 100 / formatterParams.color.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\t\tlegend = formatterParams.legend;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegend = formatterParams.legend(value);\n\t\t\tbreak;\n\t\tcase \"boolean\":\n\t\t\tlegend = value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\t\tlet unit = 100 / formatterParams.legendColor.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n}\n\nfunction color(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n}\n\nfunction buttonTick(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n}\n\nfunction buttonCross(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n}\n\nfunction rownum(cell, formatterParams, onRendered){\n\tvar content = document.createElement(\"span\");\n\tvar row = cell.getRow();\n\n\trow.watchPosition((position) => {\n\t\tcontent.innerText = position;\n\t});\n\t\n\treturn content;\n}\n\nfunction handle(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n}\n\nfunction responsiveCollapse(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\n\tel.innerHTML = `<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n\t\tif(collapseEl){\n\n\t\t\tif(config.open){\n\t\t\t\tel.classList.add(\"open\");\n\t\t\t\tcollapseEl.style.display = '';\n\t\t\t}else {\n\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n\t\tcell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n}\n\nfunction rowSelection(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else {\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n}\n\nvar defaultFormatters = {\n\tplaintext:plaintext,\n\thtml:html$1,\n\ttextarea:textarea$1,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross$1,\n\tdatetime:datetime$1,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star$1,\n\ttraffic:traffic,\n\tprogress:progress$1,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\trownum:rownum,\n\thandle:handle,\n\tresponsiveCollapse:responsiveCollapse,\n\trowSelection:rowSelection,\n};\n\nclass Format extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\t\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupFormatter(column, \"\");\n\t\t\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\t\n\tlookupFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\t\t\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tconfig.formatter = Format.formatters[formatter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.formatter = formatter;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn config;\n\t}\n\t\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\t\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\t\t\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.getFormatter(column.definition.titleFormatter);\n\t\t\t\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\t\t\t\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tgetType:function(){\n\t\t\t\t\treturn \"header\";\n\t\t\t\t},\n\t\t\t\tgetColumn:function(){\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetTable:() => {\n\t\t\t\t\treturn this.table;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\t\t\t\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\t\t\t\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else {\n\t\t\treturn title;\n\t\t}\n\t}\n\t\n\t\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\t\t\t\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\t\t\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\t\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\t\t\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(cell.getComponent()) : formatter.params;\n\t\t\t\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t\t\t\n\t\t}else {\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\t\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\t\t\t\n\t\t\treturn String(value).replace(/[&<>\"'`=/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else {\n\t\t\treturn value;\n\t\t}\n\t}\n\t\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\t\n\t//get formatter for cell\n\tgetFormatter(formatter){\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tformatter = Format.formatters[formatter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t//Custom formatter Function, do nothing\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn formatter;\n\t}\n}\n\nFormat.moduleName = \"format\";\n\n//load defaults\nFormat.formatters = defaultFormatters;\n\nclass FrozenColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.active = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column);\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\n\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\t\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else {\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else {\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else {\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups());\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else {\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.modules.frozen.edge){\n\t\t\t\t\tparentEl.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else {\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else {\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows(true);\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\t\t\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\tvar position;\n\t\t\n\t\tif(column.modules.frozen && element){\n\t\t\telement.style.position = \"sticky\";\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tposition = column.modules.frozen.position === \"left\" ? \"right\" : \"left\";\n\t\t\t}else {\n\t\t\t\tposition = column.modules.frozen.position;\n\t\t\t}\n\t\t\n\t\t\telement.style[position] = column.modules.frozen.margin;\n\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\tif(column.modules.frozen.edge){\n\t\t\t\telement.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t}\n\t\t}\n\t}\n\n\tadjustForScrollbar(width){\n\t\tif(this.rightColumns.length){\n\t\t\tthis.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + width + \"px)\";\n\t\t}\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}\n\nFrozenColumns.moduleName = \"frozenColumns\";\n\nclass FrozenRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"frozenRowsField\", \"id\"); //field to choose frozen rows by\n\t\tthis.registerTableOption(\"frozenRows\", false); //holder for frozen row identifiers\n\t}\n\n\tinitialize(){\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\n\t\tif(this.table.options.frozenRows){\n\t\t\tthis.subscribe(\"data-processed\", this.initializeRows.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t}\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\tinitializeRows(){\n\t\tthis.table.rowManager.getRows().forEach((row) => {\n\t\t\tthis.initializeRow(row);\n\t\t});\n\t}\n\n\tinitializeRow(row){\n\t\tvar frozenRows = this.table.options.frozenRows,\n\t\trowType = typeof frozenRows;\n\n\t\tif(rowType === \"number\"){\n\t\t\tif(row.getPosition() && (row.getPosition() + this.rows.length) <= frozenRows){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(rowType === \"function\"){\n\t\t\tif(frozenRows.call(this.table, row.getComponent())){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(Array.isArray(frozenRows)){\n\t\t\tif(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar output = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.styleRows();\n\n\t\t}else {\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else {\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}\n\nFrozenRows.moduleName = \"frozenRows\";\n\n//public group object\nclass GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"group\", target._group, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._group.groupManager.table.rowManager.scrollToRow(this._group, position, ifVisible);\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}\n\n//Group functions\nclass Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(elementsOnly){\n\t\tif(!elementsOnly){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\tgroup.wipe();\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tif(row.modules){\n\t\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\t\t\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\tif(this.groupManager.table.options.groupToggleElement === \"arrow\"){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\n\t\t\t\t//allow click event to propagate before toggling visibility\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.toggleVisibility();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else {\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else {\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else {\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\t// this.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping constraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else {\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else {\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\t\t\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else {\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupManager.blockRedraw){\n\t\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else {\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\t\n\t\tif(this.calcs.top){\n\t\t\tthis.calcs.top.detachElement();\n\t\t\tthis.calcs.top.deleteCells();\n\t\t}\n\t\t\n\t\tif(this.calcs.bottom){\n\t\t\tthis.calcs.bottom.detachElement();\n\t\t\tthis.calcs.bottom.deleteCells();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else {\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else {\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else {\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else {\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(component, includeChildren){\n\t\tvar output = [];\n\t\t\n\t\tif(includeChildren && this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getRows(component, includeChildren));\n\t\t\t});\n\t\t}else {\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\toutput.push(component ? row.getComponent() : row);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tvar rows = this.getRows(false, true);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else {\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else {\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\n\trendered(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nclass GroupRows extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\t\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\tthis.blockRedraw = false;\n\t\t\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\t\t\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\t\n\t//initialize group configuration\n\tinitialize(){\n\t\tthis.subscribe(\"table-destroy\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this));\n\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t_blockRedrawing(){\n\t\tthis.blockRedraw = true;\n\t}\n\n\t_restore_redrawing(){\n\t\tthis.blockRedraw = false;\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\t\t\t\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\t\t\t\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\t\t\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupIDLookups = [];\n\t\t\t\n\t\t\tif(groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\t\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\t\t\t\t\t\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\t\t\t\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\t\t\t\t\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else {\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else {\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\t\t\t\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}else {\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\trowSample(rows, prevValue){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar group = this.getGroups(false)[0];\n\t\t\t\n\t\t\tprevValue.push(group.getRows(false)[0]);\n\t\t}\n\t\t\n\t\treturn prevValue;\n\t}\n\t\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\trows = rows.filter((row) => {\n\t\t\t\treturn row.type !== \"group\";\n\t\t\t});\n\t\t\t\n\t\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\t\t}else {\n\t\t\treturn rows;\n\t\t}\n\t}\n\t\n\trowAddingIndex(row, index, top){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.assignRowToGroup(row);\n\t\t\t\n\t\t\tvar groupRows = row.modules.group.rows;\n\t\t\t\n\t\t\tif(groupRows.length > 1){\n\t\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn index;\n\t\t}\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\t\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}\n\t\t\n\t\tthis.configureGroupSetup();\n\n\t\tif(!groups && this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs === true){\n\t\t\tthis.table.modules.columnCalcs.reinitializeCalcs();\n\t\t}\n\t\t\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\t\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ? this.getGroupedData() : this.getData();\n\t}\n\t\n\t\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\t\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\trowMoving(from, to, after){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(!after && to instanceof Group){\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t\t}\n\t\t\t\n\t\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\t\t\t\n\t\t\tif(toGroup === fromGroup){\n\t\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t\t}else {\n\t\t\t\tif(fromGroup){\n\t\t\t\t\tfromGroup.removeRow(from);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttoGroup.insertRow(from, to, after);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(this.table.options.groupBy && row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.updateGroupRows(true);\n\t\t}\t\n\t}\n\t\n\tcellUpdated(cell){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.reassignRowToGroup(cell.row);\n\t\t}\n\t}\n\t\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\t\t\t\n\t\t\tthis.generateGroups(rows);\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\t\t\t\n\t\t\treturn this.updateGroupRows();\n\t\t\t\n\t\t}else {\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\t\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\t\t\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\t\t\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\t\t\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else {\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\twipe(){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\t\t\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\t\t\t\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\t\t\t\t\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\t\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupListData;\n\t}\n\t\n\tgetGroupedData(){\n\t\t\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\t\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\t\t\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\t\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\t\t\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\t\t\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else {\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t\t\n\t\tObject.values(oldGroups).forEach((group) => {\n\t\t\tgroup.wipe(true);\n\t\t});\t\n\t}\n\t\n\t\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\t\t\n\t\toldGroups = oldGroups || [];\n\t\t\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\t\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\t\t\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\t\t\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\t\t\n\t\treturn !newGroupNeeded;\n\t}\n\t\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath;\n\t\t\t\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tsamePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\t\t\t\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\t\t\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\t\t\n\t\treturn groupPath;\n\t}\n\t\n\tupdateGroupRows(force){\n\t\tvar output = [];\n\n\t\tif(!this.blockRedraw){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tscrollHeaders(left){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t\t}\n\t\t\t\n\t\t\tleft = left + \"px\";\n\t\t\t\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tgroup.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcheckBasicModeGroupHeaderWidth(){\n\t\tvar element = this.table.rowManager.tableElement,\n\t\tonlyGroupHeaders = true;\n\t\t\n\t\tthis.table.rowManager.getDisplayRows().forEach((row, index) =>{\n\t\t\tthis.table.rowManager.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t\t\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else {\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n}\n\nGroupRows.moduleName = \"groupRows\";\n\nvar defaultUndoers = {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowMove: function(action){\n\t\tvar after = (action.data.posFrom  - action.data.posTo) > 0;\n\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posFrom), after);\n\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};\n\nvar defaultRedoers = {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posTo), action.data.after);\n\t\t\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};\n\nclass History extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:from.getPosition(), posTo:to.getPosition(), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup()._getSelf().rows;\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else {\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(\"History Undo Error - No more history to undo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(\"History Redo Error - No more history to redo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nHistory.moduleName = \"history\";\n\n//load defaults\nHistory.undoers = defaultUndoers;\nHistory.redoers = defaultRedoers;\n\nclass HtmlTableImport extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [];\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else {\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the don't exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else {\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}\n\nHtmlTableImport.moduleName = \"htmlTableImport\";\n\nfunction csvImporter(input){\n\tvar data = [],\n\trow = 0, \n\tcol = 0,\n\tinQuote = false;\n    \n\t//Iterate over each character\n\tfor (let index = 0; index < input.length; index++) {\n\t\tlet char = input[index], \n\t\tnextChar = input[index+1];      \n        \n\t\t//Initialize empty row\n\t\tif(!data[row]){\n\t\t\tdata[row] = [];\n\t\t}\n\n\t\t//Initialize empty column\n\t\tif(!data[row][col]){\n\t\t\tdata[row][col] = \"\";\n\t\t}\n        \n\t\t//Handle quotation mark inside string\n\t\tif (char == '\"' && inQuote && nextChar == '\"') { \n\t\t\tdata[row][col] += char; \n\t\t\tindex++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//Begin / End Quote\n\t\tif (char == '\"') { \n\t\t\tinQuote = !inQuote;\n\t\t\tcontinue;\n\t\t}\n        \n\t\t//Next column (if not in quote)\n\t\tif (char == ',' && !inQuote) { \n\t\t\tcol++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CRLF) \n\t\tif (char == '\\r' && nextChar == '\\n' && !inQuote) { \n\t\t\tcol = 0; \n\t\t\trow++; \n\t\t\tindex++; \n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CR or LF) \n\t\tif ((char == '\\r' || char == '\\n') && !inQuote) { \n\t\t\tcol = 0;\n\t\t\trow++;\n\t\t\tcontinue; \n\t\t}\n\n\t\t//Normal Character, append to column\n\t\tdata[row][col] += char;\n\t}\n\n\treturn data;\n}\n\nfunction json$1(input){\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch(e) {\n\t\tconsole.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n\t\treturn Promise.reject();\n\t}\n}\n\nfunction arrayImporter(input){\n\treturn input;\n}\n\nvar defaultImporters = {\n\tcsv:csvImporter,\n\tjson:json$1,\n\tarray:arrayImporter,\n};\n\nclass Import extends Module{\n    \n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.registerTableOption(\"importFormat\");\n\t\tthis.registerTableOption(\"importReader\", \"text\");\n\t}\n    \n\tinitialize(){\n\t\tthis.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\n\t\tif(this.table.options.importFormat){\n\t\t\tthis.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n\t\t\tthis.subscribe(\"data-load\", this.loadData.bind(this), 10);\n\t\t}\n\t}\n\n\tloadDataCheck(data){\n\t\treturn this.table.options.importFormat && (typeof data === \"string\" || (Array.isArray(data) && data.length && Array.isArray(data)));\n\t}\n\n\tloadData(data, params, config, silent, previousData){\n\t\treturn this.importData(this.lookupImporter(), data)\n\t\t\t.then(this.structureData.bind(this))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import data\");\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t}\n\n\tlookupImporter(importFormat){\n\t\tvar importer;\n        \n\t\tif(!importFormat){\n\t\t\timportFormat = this.table.options.importFormat;\n\t\t}\n        \n\t\tif(typeof importFormat === \"string\"){\n\t\t\timporter = Import.importers[importFormat];\n\t\t}else {\n\t\t\timporter = importFormat;\n\t\t}\n\n\t\tif(!importer){\n\t\t\tconsole.error(\"Import Error - Importer not found:\", importFormat);\n\t\t}\n        \n\t\treturn importer;\n\t}\n    \n\timportFromFile(importFormat, extension){\n\t\tvar importer = this.lookupImporter(importFormat);\n        \n\t\tif(importer){\n\t\t\treturn this.pickFile(extension)\n\t\t\t\t.then(this.importData.bind(this, importer))\n\t\t\t\t.then(this.structureData.bind(this))\n\t\t\t\t.then(this.setData.bind(this))\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import file\");\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\t}\n    \n\tpickFile(extensions){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.type = \"file\";\n\t\t\tinput.accept = extensions;\n            \n\t\t\tinput.addEventListener(\"change\", (e) => {\n\t\t\t\tvar file = input.files[0],\n\t\t\t\treader = new FileReader();\n                \n\t\t\t\tswitch(this.table.options.importReader){\n\t\t\t\t\tcase \"buffer\":\n\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"binary\":\n\t\t\t\t\t\treader.readAsBinaryString(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t}\n                  \n\t\t\t\treader.onload = (e) => {\n\t\t\t\t\tresolve(reader.result);\n\t\t\t\t};\n                \n\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\t\treject();\n\t\t\t\t};\n\t\t\t});\n            \n\t\t\tinput.click();\n\t\t});\n\t}\n    \n\timportData(importer, fileContents){\n\t\tvar data = importer.call(this.table, fileContents);\n        \n\t\tif(data instanceof Promise){\n\t\t\treturn data;\n\t\t}else {\n\t\t\treturn data ? Promise.resolve(data) : Promise.reject();\n\t\t}\n\t}\n\n\tstructureData(parsedData){\n\t\tvar data = [];\n        \n\t\tif(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n\t\t\tif(this.table.options.autoColumns){\n\t\t\t\tdata = this.structureArrayToObject(parsedData);\n\t\t\t}else {\n\t\t\t\tdata = this.structureArrayToColumns(parsedData);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}else {\n\t\t\treturn parsedData;\n\t\t}\n\t}\n\n\tstructureArrayToObject(parsedData){\n\t\tvar columns = parsedData.shift();\n\n\t\tvar data = parsedData.map((values) => {\n\t\t\tvar row = {};\n\n\t\t\tcolumns.forEach((key, i) => {\n\t\t\t\trow[key] = values[i];\n\t\t\t});\n\n\t\t\treturn row;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tstructureArrayToColumns(parsedData){\n\t\tvar data = [],\n\t\tcolumns = this.table.getColumns();\n\n\t\t//remove first row if it is the column names\n\t\tif(columns[0] && parsedData[0][0]){\n\t\t\tif(columns[0].getDefinition().title === parsedData[0][0]){\n\t\t\t\tparsedData.shift();\n\t\t\t}\n\t\t}\n        \n\t\t//convert row arrays to objects\n\t\tparsedData.forEach((rowData) => {\n\t\t\tvar row = {};\n\n\t\t\trowData.forEach((value, index) => {\n\t\t\t\tvar column = columns[index];\n\n\t\t\t\tif(column){\n\t\t\t\t\trow[column.getField()] = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdata.push(row);\n\t\t});\n\n\t\treturn data;\n\t}\n    \n\tsetData(data){\n\t\treturn this.table.setData(data);\n\t}\n}\n\nImport.moduleName = \"import\";\n\n//load defaults\nImport.importers = defaultImporters;\n\nclass Interaction extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowMouseDown:\"row-mousedown\",\n\t\t\trowMouseUp:\"row-mouseup\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellMouseDown:\"cell-mousedown\",\n\t\t\tcellMouseUp:\"cell-mouseup\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderMouseDown:\"column-mousedown\",\n\t\t\theaderMouseUp:\"column-mouseup\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupMouseDown:\"group-mousedown\",\n\t\t\tgroupMouseUp:\"group-mouseup\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t};\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t};\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerMouseDown\");\n\t\tthis.registerColumnOption(\"headerMouseUp\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellMouseDown\");\n\t\tthis.registerColumnOption(\"cellMouseUp\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.clearTouchWatchers.bind(this));\n\t\tthis.subscribe(\"scroll-vertical\", this.clearTouchWatchers.bind(this));\n\t}\n\n\tclearTouchWatchers(){\n\t\tvar types = Object.values(this.touchWatchers);\n\n\t\ttypes.forEach((type) => {\n\t\t\tfor(let key in type){\n\t\t\t\ttype[key] = null;\n\t\t\t}\n\t\t});\n\t}\n\t\t\n\tcellContentsSelectionFixer(e, cell){\n\t\tvar range;\n\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === cell){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key));\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else {\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar noTouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnoTouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(noTouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\t\twatchers.tap = true;\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t\t}, 1000);\n\t\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\t\tif(watchers.tap){\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t\t}\n\n\t\t\t\tif(watchers.tapDbl){\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t\t}else {\n\t\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}\n\nInteraction.moduleName = \"interaction\";\n\nvar defaultBindings = {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 67\"],\n};\n\nvar defaultActions = {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n\n\tundo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.undo();\n\t\t\t}\n\t\t}\n\t},\n\n\tredo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.redo();\n\t\t\t}\n\t\t}\n\t},\n\n\tcopyToClipboard:function(e){\n\t\tif(!this.table.modules.edit.currentCell){\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\n\t\t\t}\n\t\t}\n\t},\n};\n\nclass Keybindings extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings);\n\t\t\tObject.assign(mergedBindings, bindings);\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\t\tbinding.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\t\tbinding.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\t\tbinding.meta = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nKeybindings.moduleName = \"keybindings\";\n\n//load defaults\nKeybindings.bindings = defaultBindings;\nKeybindings.actions = defaultActions;\n\nclass Menu extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"menuContainer\", undefined); //deprecated\n\t\t\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"rowDblClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\tthis.registerTableOption(\"groupDblClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerDblClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\tthis.registerColumnOption(\"dblClickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tif(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n\t\t\tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t}\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowDblClickMenu){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupDblClickMenu){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu){\n\t\t\tthis.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t\t\n\t\tif(def.dblClickMenu && !this.columnSubscribers.dblClickMenu){\n\t\t\tthis.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\");\n\t\t\tthis.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\t\t\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else {\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else {\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else {\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else {\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else {\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.currentComponent = component;\n\t\t\t\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nMenu.moduleName = \"menu\";\n\nclass MoveColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the destination column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\t\t\n\t\tif(!column.modules.frozen && !column.isGroup){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.contentsElement.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tnextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getContentsElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\theaderElement.appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\t\t\t\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getContentsElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nMoveColumns.moduleName = \"moveColumn\";\n\nclass MoveRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the destination row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {};\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, group);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl;\n\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tnextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter;\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else {\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else {\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else {\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else {\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else {\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop;\n\t\t\n\t\tthis.hoverElement.style.top = Math.min(yPos - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else {\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incoming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving ? this.moving.getComponent() : undefined, row ? row.getComponent() : undefined, table);\n\t\t\t}else {\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else {\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\t\treturn this.connect(table, data.row);\n\n\t\t\tcase \"disconnect\":\n\t\t\t\treturn this.disconnect(table);\n\n\t\t\tcase \"dropcomplete\":\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t}\n\t}\n}\n\nMoveRows.prototype.receivers = {\n\tinsert:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\treturn true;\n\t},\n\n\tadd:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData());\n\t\treturn true;\n\t},\n\n\tupdate:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\ttoRow.update(fromRow.getData());\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\treplace:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\t\ttoRow.delete();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n};\n\nMoveRows.prototype.senders = {\n\tdelete:function(fromRow, toRow, toTable){\n\t\tfromRow.delete();\n\t}\n};\n\nMoveRows.moduleName = \"moveRow\";\n\nvar defaultMutators = {};\n\nclass Mutator extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of mutation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Mutator.mutators[value]){\n\t\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tmutator = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif((type == \"data\" && !updatedData)|| typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}\n\nMutator.moduleName = \"mutator\";\n\n//load defaults\nMutator.mutators = defaultMutators;\n\nfunction rows(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else {\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n}\n\nfunction pages(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n}\n\nvar defaultPageCounters = {\n\trows:rows,\n\tpages:pages,\n};\n\nclass Page extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad);\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdisplayRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[0];\n\t\t\t}else {\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[displayRows.length - 1];\n\t\t\t\ttop = displayRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top};\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else {\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else {\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else {\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1);\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max);\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else {\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.trackChanges();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\t\treturn this.setPage(1);\n\t\n\t\t\tcase \"prev\":\n\t\t\t\treturn this.previousPage();\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\t\treturn this.nextPage();\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\t\treturn this.setPage(this.max);\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.displayRows(-1);\n\t\tvar index = rows.indexOf(row);\n\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page);\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\t\tif(content != null){\n\t\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else {\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else {\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page);\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else {\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else {\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else {\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\t\tthis.refreshData();\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\t\treturn Promise.resolve();\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\t\tthis.dataChanging = true;\n\t\t\t\treturn this.reloadData(null)\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.dataChanging = false;\n\t\t\t\t\t});\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\treturn this.reloadData(null, true);\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar margin;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else {\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else {\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}\n\nPage.moduleName = \"page\";\n\n//load defaults\nPage.pageCounters = defaultPageCounters;\n\n// read persistance information from storage\nvar defaultReaders = {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n\n//write persistence information to storage\nvar defaultWriters = {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};\n\nclass Persistence extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretrievedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else {\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else {\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\theaderFilter:this.table.options.persistence === true || this.table.options.persistence.headerFilter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretrievedData = this.retrieveData(\"page\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retrievedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retrievedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retrievedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretrievedData = this.retrieveData(\"group\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retrievedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retrievedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retrievedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"headerFilter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar sorters, filters, headerFilters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t\tif(this.config.headerFilter){\n\t\t\theaderFilters = this.load(\"headerFilter\");\n\n\t\t\tif(!headerFilters === false){\n\t\t\t\tthis.table.options.initialHeaderFilter = headerFilters;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout));\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: (newValue) => {\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:() => {\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retrieveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retrieve data from memory\n\tretrieveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else {\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else {\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\n\t\t\t\tcase \"field\":\n\t\t\t\t\treturn col.field === subject.field;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn col === subject;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"headerFilter\":\n\t\t\t\tdata = this.table.modules.filter.getHeaderFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tdata = this.getGroupConfig();\n\t\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\t\tdata = this.getPageConfig();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else {\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else {\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}\n\nPersistence.moduleName = \"persistence\";\n\nPersistence.moduleInitOrder = -10;\n\n//load defaults\nPersistence.readers = defaultReaders;\nPersistence.writers = defaultWriters;\n\nclass Popup$1 extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"rowDblClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\tthis.registerTableOption(\"groupDblClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerDblClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\tthis.registerColumnOption(\"dblClickPopup\");\n\n\t\tthis.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\t_componentPopupCall(component, contents, position){\n\t\tthis.loadPopupEvent(contents, null, component, position);\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\n\t\tif(this.table.options.rowDblClickPopup){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\n\t\tif(this.table.options.groupDblClickPopup){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t\n\t\t\n\t\t}if(def.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup){\n\t\t\tthis.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\n\t\tif(def.dblClickPopup && !this.columnSubscribers.dblClickPopup){\n\t\t\tthis.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else {\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else {\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component, position){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback, position);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback, position){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else {\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\n\t\tif(e){\n\t\t\tpopup.show(e);\n\t\t}else {\n\t\t\tpopup.show(component.getElement(), position || \"center\");\n\t\t}\n\n\t\t\n\t\tpopup.hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent());\n\t}\n}\n\nPopup$1.moduleName = \"popup\";\n\nclass Print extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\t\tthis.beforeprintEventHandler = null;\n\t\tthis.afterprintEventHandler = null;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\tthis.beforeprintEventHandler = this.replaceTable.bind(this);\n\t\t\tthis.afterprintEventHandler = this.cleanup.bind(this);\n\n\t\t\twindow.addEventListener(\"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.addEventListener(\"afterprint\", this.afterprintEventHandler);\n\t\t\tthis.subscribe(\"table-destroy\", this.destroy.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\tdestroy(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.removeEventListener( \"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.removeEventListener( \"afterprint\", this.afterprintEventHandler );\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.generateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else {\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else {\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}\n\nPrint.moduleName = \"print\";\n\nclass ReactiveData extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\t\t\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\t\n\twatchData(data){\n\t\tvar self = this,\n\t\tversion;\n\t\t\n\t\tthis.currentVersion ++;\n\t\t\n\t\tversion = this.currentVersion;\n\t\t\n\t\tthis.unwatchData();\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\t\t\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\t\n\t\t\t\t\tself.block(\"data-push\");\n\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.push.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-push\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\t\t\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-unshift\");\n\t\t\t\t\t\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.unshift.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-unshift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\t\t\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-shift\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.shift.call(data);\n\n\t\t\t\t\tself.unblock(\"data-shift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\t\t\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-pop\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.pop.call(data);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-pop\");\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\t\t\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-splice\");\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\t\t\t\t\t\t\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.splice.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-splice\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result ;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\twatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\t\t\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\t}\n\t\n\twatchTreeChildren (row){\n\t\tvar self = this,\n\t\tchildField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\t\t\n\t\tif(childField){\n\t\t\t\n\t\t\torigFuncs.push = childField.push;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-push\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-push\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.unshift = childField.unshift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-unshift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-unshift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.shift = childField.shift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-shift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-shift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.pop = childField.pop;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-pop\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-pop\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.splice = childField.splice;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-splice\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-splice\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trebuildTree(row){\n\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\t\n\twatchKey(row, data, key){\n\t\tvar self = this,\n\t\tprops = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\t\t\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"key\");\n\t\t\t\t\t\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"key\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\t\t\t\t\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\t\n\tblock(key){\n\t\tif(!this.blocked){\n\t\t\tthis.blocked = key;\n\t\t}\n\t}\n\t\n\tunblock(key){\n\t\tif(this.blocked === key){\n\t\t\tthis.blocked = false;\n\t\t}\n\t}\n}\n\nReactiveData.moduleName = \"reactiveData\";\n\nclass ResizeColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfrozenColumnOffset(column){\n\t\tvar offset = false;\n\n\t\tif(column.modules.frozen){\n\t\t\toffset = column.modules.frozen.marginValue; \n\n\t\t\tif(column.modules.frozen.position === \"left\"){\n\t\t\t\toffset += column.getWidth() - 3;\n\t\t\t}else {\n\t\t\t\tif(offset){\n\t\t\t\t\toffset -= 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offset !== false ? offset + \"px\" : false;\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = this.frozenColumnOffset(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t\t\tcell.modules.resize.handleEl.style[\"z-index\"] = 11;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"sticky\";\n\t\t\t\thandle.style[column.modules.frozen.position] = this.frozenColumnOffset(column);\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode && column.visible){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this;\n\t\t\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tfunction mouseMove(e){\n\t\t\tvar x = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX,\n\t\t\tstartDiff = x - self.startX,\n\t\t\tmoveDiff = x - self.latestX,\n\t\t\tblockedBefore, blockedAfter;\n\t\t\t\n\t\t\tself.latestX = x;\n\t\t\t\n\t\t\tif(self.table.rtl){\n\t\t\t\tstartDiff = -startDiff;\n\t\t\t\tmoveDiff = -moveDiff;\n\t\t\t}\n\t\t\t\n\t\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tcolumn.setWidth(self.startWidth + startDiff);\n\t\t\t\n\t\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tif(moveDiff < 0){\n\t\t\t\tself.nextColumn = self.initialNextColumn;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.options.resizableColumnFit && self.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\t\tlet colWidth = self.nextColumn.getWidth();\n\t\t\t\t\n\t\t\t\tif(moveDiff > 0){\n\t\t\t\t\tif(colWidth <= self.nextColumn.minWidth){\n\t\t\t\t\t\tself.nextColumn = self.nextColumn.nextColumn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(self.nextColumn){\n\t\t\t\t\tself.nextColumn.setWidth(self.nextColumn.getWidth() - moveDiff);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.table.columnManager.rerenderColumns(true);\n\t\t\t\n\t\t\tif(!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.table.columnManager.verticalAlignHeaders();\n\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeColumns.moduleName = \"resizeColumns\";\n\nclass ResizeRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this;\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\n\t\t}\n\n\t\tfunction mouseUp(e){\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeRows.moduleName = \"resizeRows\";\n\nclass ResizeTable extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.binding = false;\n\t\tthis.visibilityObserver = false;\n\t\tthis.resizeObserver = false;\n\t\tthis.containerObserver = false;\n\t\t\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\t\t\n\t\tthis.autoResize = false;\n\t\t\n\t\tthis.visible = false;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.initialRedraw = false;\n\t\t\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\t\t\t\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof IntersectionObserver !== \"undefined\" && typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\t\t\t\t\n\t\t\t\tthis.initializeVisibilityObserver();\n\t\t\t\t\n\t\t\t\tthis.autoResize = true;\n\t\t\t\t\n\t\t\t\tthis.resizeObserver = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.resizeObserver.observe(table.element);\n\t\t\t\t\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\t\t\t\t\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && !table.modules.edit.currentCell)){\n\t\t\t\t\t\ttable.columnManager.rerenderColumns(true);\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeVisibilityObserver(){\n\t\tthis.visibilityObserver = new IntersectionObserver((entries) => {\n\t\t\tthis.visible = entries[0].isIntersecting;\n\t\t\t\n\t\t\tif(!this.initialized){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.initialRedraw = !this.visible;\n\t\t\t}else {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.redrawTable(this.initialRedraw);\n\t\t\t\t\tthis.initialRedraw = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.visibilityObserver.observe(this.table.element);\n\t}\n\t\n\tredrawTable(force){\n\t\tif(this.initialized && this.visible){\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\tthis.table.redraw(force);\n\t\t}\n\t}\n\t\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\t\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\t\t\n\t\tif(this.resizeObserver){\n\t\t\tthis.resizeObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.visibilityObserver){\n\t\t\tthis.visibilityObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}\n\nResizeTable.moduleName = \"resizeTable\";\n\nclass ResponsiveLayout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && this.mode === \"collapse\"){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else {\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n\t\t\tel = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(!this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar working = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = this.table.modules.layout.getMode() == \"fitColumns\" ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth();\n\n\t\t\tlet diff = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = this.columns[this.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.hideColumn(column);\n\t\t\t\t\tthis.index ++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else {\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = this.columns[this.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tthis.showColumn(column);\n\t\t\t\t\t\t\tthis.index --;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this.table.rowManager.activeRowsCount){\n\t\t\t\tthis.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar rows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach((row) => {\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar data = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach((column) => {\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(this.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach(function(item){\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\tthis.langBind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else {\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t}, this);\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}\n\nResponsiveLayout.moduleName = \"responsiveLayout\";\n\nclass SelectRow extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectable\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectablePersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableCheck\", function(data, row){return true;}); //check whether row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.selectable !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectable && !this.table.options.selectablePersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tvar prevSelected = this.selectedRows.length;\n\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(prevSelected && silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\t\t\n\t\t//set row selection class\n\t\tif(self.checkRowSelectability(row)){\n\t\t\telement.classList.add(\"tabulator-selectable\");\n\t\t\telement.classList.remove(\"tabulator-unselectable\");\n\t\t\t\n\t\t\tif(self.table.options.selectable && self.table.options.selectable != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else {\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\telement.classList.add(\"tabulator-unselectable\");\n\t\t\telement.classList.remove(\"tabulator-selectable\");\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectable !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectable){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else {\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectable !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectable){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else {\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\n\tcheckRowSelectability(row){\n\t\tif(row && row.type === \"row\"){\n\t\t\treturn this.table.options.selectableCheck.call(this.table, row.getComponent());\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.checkRowSelectability(row)){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else {\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._selectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(false, changes);\n\t\t\t}\n\t\t}else {\n\t\t\tif(rowMatch){\n\t\t\t\tthis._selectRow(rowMatch, false, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectable) && this.table.options.selectable !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectable){\n\t\t\t\tif(this.table.options.selectableRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = Object.assign([], this.selectedRows);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._deselectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(silent, [], changes);\n\t\t\t}\n\t\t}else {\n\t\t\tif(rowMatch){\n\t\t\t\tthis._deselectRow(rowMatch, silent, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex, element;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\n\t\t\t\telement = row.getElement();\n\t\t\t\t\n\t\t\t\tif(element){\n\t\t\t\t\telement.classList.remove(\"tabulator-selected\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent, undefined, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent, selected = [], deselected = []){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tif(!Array.isArray(selected)){\n\t\t\t\tselected = [selected];\n\t\t\t}\n\n\t\t\tselected = selected.map(row => row.getComponent());\n\n\t\t\tif(!Array.isArray(deselected)){\n\t\t\t\tdeselected = [deselected];\n\t\t\t}\n\n\t\t\tdeselected = deselected.map(row => row.getComponent());\n\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows(), selected, deselected);\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else {\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nSelectRow.moduleName = \"selectRow\";\n\n//sort numbers\nfunction number$1(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else {\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort strings\nfunction string(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else {\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\t\tif(params.locale){\n\t\t\t\t\tlocale = this.langLocale();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tlocale = params.locale;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort datetime\nfunction datetime$2(a, b, aRow, bRow, column, dir, params){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(!DT.isDateTime(a)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\ta = DT.fromISO(String(a));\n\t\t\t}else {\n\t\t\t\ta = DT.fromFormat(String(a), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!DT.isDateTime(b)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\tb = DT.fromISO(String(b));\n\t\t\t}else {\n\t\t\t\tb = DT.fromFormat(String(b), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else {\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else {\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n}\n\n//sort date\nfunction date$1(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime$2.call(this, a, b, aRow, bRow, column, dir, params);\n}\n\n//sort times\nfunction time$1(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime$2.call(this, a, b, aRow, bRow, column, dir, params);\n}\n\n//sort booleans\nfunction boolean(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n}\n\n//sort if element contains any data\nfunction array(a, b, aRow, bRow, column, dir, params){\n\tvar type = params.type || \"length\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tfunction calc(value){\n\t\tvar result;\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\t\tresult = value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\t\tresult = Math.max.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\t\tresult = Math.min.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t}) / value.length;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\temptyAlign = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\temptyAlign = 1;\n\t}else {\n\t\treturn calc(b) - calc(a);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort if element contains any data\nfunction exists(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n}\n\n//sort alpha numeric strings\nfunction alphanum(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else {\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\nvar defaultSorters = {\n\tnumber:number$1,\n\tstring:string,\n\tdate:date$1,\n\ttime:time$1,\n\tdatetime:datetime$2,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};\n\nclass Sort extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.sortList = []; //holder current sort\n\t\tthis.changed = false; //has the sort changed since last render\n\n\t\tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\n\t\tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t\tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t\tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t\tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\t\tthis.registerTableOption(\"headerSortClickElement\", \"header\"); //element which triggers sort when clicked\n\n\t\tthis.registerColumnOption(\"sorter\");\n\t\tthis.registerColumnOption(\"sorterParams\");\n\n\t\tthis.registerColumnOption(\"headerSort\", true);\n\t\tthis.registerColumnOption(\"headerSortStartingDir\");\n\t\tthis.registerColumnOption(\"headerSortTristate\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.registerDataHandler(this.sort.bind(this), 20);\n\n\t\tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t\tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t\tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialSort){\n\t\t\tthis.setSort(this.table.options.initialSort);\n\t\t}\n\t}\n\n\tremoteSortParams(data, config, silent, params){\n\t\tvar sorters = this.getSort();\n\n\t\tsorters.forEach((item) => {\n\t\t\tdelete item.column;\n\t\t});\n\n\t\tparams.sort = sorters;\n\n\t\treturn params;\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tsorter = column.definition.sorter;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\n\t\tif(column.definition.headerSort !== false){\n\n\t\t\tcolEl = column.getElement();\n\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\n\t\t\tswitch(this.table.options.headerSortClickElement){\n\t\t\t\tcase \"icon\":\n\t\t\t\t\tarrowEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"header\":\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tswitch(this.table.options.headerSortElement){\n\t\t\t\tcase \"function\":\n\t\t\t\t\t//do nothing\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\n\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\n\t\t\t//sort on click\n\t\t\t(this.table.options.headerSortClickElement === \"icon\" ? arrowEl : colEl).addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else {\n\t\t\tthis.refreshData(true);\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\n\t\treturn sorters;\n\t}\n\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\n\t\t});\n\n\t\tself.sortList = newSortList;\n\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\n\t\t\tif(field){\n\n\t\t\t\tvalue = column.getFieldValue(row);\n\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Sort.sorters[sorter];\n\t}\n\n\t//work through sort list sorting data\n\tsort(data){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\n\t\tself.clearColumnHeaders();\n\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj;\n\n\t\t\t\tif(item.column){\n\t\t\t\t\tsortObj = item.column.modules.sort;\n\n\t\t\t\t\tif(sortObj){\n\n\t\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\n\t\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\n\t\t}else {\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach((column) => {\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir === \"asc\" ? \"ascending\" : \"descending\");\n\t\tthis.setColumnHeaderSortIcon(column, dir);\n\t}\n\n\tsetColumnHeaderSortIcon(column, dir){\n\t\tvar sortEl = column.modules.sort.element,\n\t\tarrowEl;\n\n\t\tif(column.definition.headerSort && typeof this.table.options.headerSortElement === \"function\"){\n\t\t\twhile(sortEl.firstChild) sortEl.removeChild(sortEl.firstChild);\n\n\t\t\tarrowEl = this.table.options.headerSortElement.call(this.table, column.getComponent(), dir);\n\t\t\t\n\t\t\tif(typeof arrowEl === \"object\"){\n\t\t\t\tsortEl.appendChild(arrowEl);\n\t\t\t}else {\n\t\t\t\tsortEl.innerHTML = arrowEl;\n\t\t\t}\n\t\t}\n\t}\n\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp;\n\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}\n\nSort.moduleName = \"sort\";\n\n//load defaults\nSort.sorters = defaultSorters;\n\nclass Tooltip extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\tthis.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else {\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else {\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault());\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nTooltip.moduleName = \"tooltip\";\n\nvar defaultValidators = {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};\n\nclass Validate extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\t\tif(pos > -1){\n\t\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\t\tparams = value.substring(pos+1);\n\t\t\t\t}else {\n\t\t\t\t\ttype = value;\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn this._buildValidator(type, params);\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\treturn this._buildValidator(value);\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else {\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nValidate.moduleName = \"validate\";\n\n//load defaults\nValidate.validators = defaultValidators;\n\nvar modules = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tAccessorModule: Accessor,\n\tAjaxModule: Ajax,\n\tClipboardModule: Clipboard,\n\tColumnCalcsModule: ColumnCalcs,\n\tDataTreeModule: DataTree,\n\tDownloadModule: Download,\n\tEditModule: Edit$1,\n\tExportModule: Export,\n\tFilterModule: Filter,\n\tFormatModule: Format,\n\tFrozenColumnsModule: FrozenColumns,\n\tFrozenRowsModule: FrozenRows,\n\tGroupRowsModule: GroupRows,\n\tHistoryModule: History,\n\tHtmlTableImportModule: HtmlTableImport,\n\tImportModule: Import,\n\tInteractionModule: Interaction,\n\tKeybindingsModule: Keybindings,\n\tMenuModule: Menu,\n\tMoveColumnsModule: MoveColumns,\n\tMoveRowsModule: MoveRows,\n\tMutatorModule: Mutator,\n\tPageModule: Page,\n\tPersistenceModule: Persistence,\n\tPopupModule: Popup$1,\n\tPrintModule: Print,\n\tReactiveDataModule: ReactiveData,\n\tResizeColumnsModule: ResizeColumns,\n\tResizeRowsModule: ResizeRows,\n\tResizeTableModule: ResizeTable,\n\tResponsiveLayoutModule: ResponsiveLayout,\n\tSelectRowModule: SelectRow,\n\tSortModule: Sort,\n\tTooltipModule: Tooltip,\n\tValidateModule: Validate\n});\n\nvar defaultOptions = {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInvalidComponentFuncs:true, //allow toggling of invalid component warnings\n\tdebugInitialization:true, //allow toggling of pre initialization function call warnings\n\tdebugDeprecation:true, //allow toggling of deprecation warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\n\tdataSendParams:{},\n\n\tdataReceiveParams:{},\n};\n\nclass OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults);\n\t}\n\t\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\t\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults),\n\t\twarn = this.table.options.debugInvalidOptions || userOptions.debugInvalidOptions === true;\n\t\t\n\t\tObject.assign(output, defaultOptions);\n\t\t\n\t\tfor (let key in userOptions){\n\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\tif(warn){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key);\n\t\t\t\t}\n\n\t\t\t\toutput[key] = userOptions.key;\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfor (let key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else {\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n}\n\nclass Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scrolling\n\t}\n\n\tresize(){\n\t\t//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else {\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\";\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass BasicHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\trenderRowCells(row, inFragment) {\n\t\tconst rowFrag = document.createDocumentFragment();\n\t\trow.cells.forEach((cell) => {\n\t\t\trowFrag.appendChild(cell.getElement());\n\t\t});\n\t\trow.element.appendChild(rowFrag);\n\t\t\n\t\tif(!inFragment){\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}\n\nclass VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t}\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\t\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\t\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\t\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {},\n\t\t\twidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tif(!column.modules.frozen){\t\t\t\n\t\t\t\t\twidth = column.getWidth();\n\n\t\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\t\n\t\t\t\t\tconfig.width = width;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFitData) {\n\t\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t\t//column is visible\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t\t}else {\n\t\t\t\t\t\t// column is hidden\n\t\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.columns.push(column);\n\t\t\t\t\t\n\t\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\t\n\t\t\t\t\tcolPos += width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else {\n\t\t\tconst rowFrag = document.createDocumentFragment();\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trowFrag.appendChild(cell.getElement());\n\t\t\t});\n\t\t\trow.element.appendChild(rowFrag);\n\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\trow, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\n\t\t\t\trow = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t})[0];\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\n\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\n\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tfor(let colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.getVisibleRows(),\n\t\totherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\tvisibleRows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\t\t\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\t\t\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else {\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else {\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.rightCol]).getElement().nextSibling);\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.leftCol]).getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tthis.appendCell(row, this.columns[i]);\n\t\t\t}\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tappendCell(row, column){\n\t\tif(column && column.visible){\n\t\t\tlet cell = row.getCell(column);\n\t\t\t\n\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\t\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ColumnManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.contentsElement = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockUpdate = null; //store latest redraw update only status\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t////////////// Setup Functions /////////////////\n\t\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\t\t\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.contentsElement = this.createHeaderContentsElement();\n\t\tthis.element = this.createHeaderElement();\n\t\t\n\t\tthis.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild);\n\t\tthis.element.insertBefore(this.contentsElement, this.element.firstChild);\n\n\t\tthis.initializeScrollWheelWatcher();\n\t\t\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n\t}\n\n\tpadVerticalScrollbar(width){\n\t\tif(this.table.rtl){\n\t\t\tthis.headersElement.style.marginLeft = width + \"px\";\n\t\t}else {\n\t\t\tthis.headersElement.style.marginRight = width + \"px\";\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": VirtualDomHorizontal,\n\t\t\t\"basic\": BasicHorizontal,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else {\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else {\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n\t\t}\n\t}\n\t\n\t\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\treturn el;\n\t}\n\n\tcreateHeaderContentsElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header-contents\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return containing contents element\n\tgetContentsElement(){\n\t\treturn this.contentsElement;\n\t}\n\t\n\t\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\t\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tthis.contentsElement.scrollLeft = left;\n\n\t\tthis.scrollLeft = left;\n\t\t\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\n\tinitializeScrollWheelWatcher(){\n\t\tthis.contentsElement.addEventListener(\"wheel\", (e) => {\n\t\t\tvar left;\n\n\t\t\tif(e.deltaX){\n\t\t\t\tleft = this.contentsElement.scrollLeft + e.deltaX;\n\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions,\n\t\trow, sorter;\n\t\t\n\t\tif(data && data.length){\n\t\t\t\n\t\t\trow = data[0];\n\t\t\t\n\t\t\tfor(var key in row){\n\t\t\t\tlet col = {\n\t\t\t\t\tfield:key,\n\t\t\t\t\ttitle:key,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet value = row[key];\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\t\t\tsorter = \"array\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcol.sorter = sorter;\n\t\t\t\t\n\t\t\t\tcols.push(col);\n\t\t\t}\n\t\t\t\n\t\t\tif(definitions){\n\t\t\t\t\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\t\t\t\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\t\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\t\t\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\t\t\n\t\tthis.dispatch(\"columns-loading\");\n\t\t\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\t\t\n\t\tthis._reIndexColumns();\n\t\t\n\t\tthis.dispatch(\"columns-loaded\");\n\t\t\n\t\tthis.rerenderColumns(false, true);\n\t\t\n\t\tthis.redraw(true);\n\t}\n\t\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\t\t\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn();\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\t\t\t\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else {\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else {\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else {\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\t\t\n\t\tcolumn.columnRendered();\n\t\t\n\t\treturn column;\n\t}\n\t\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\t\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\t\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\t\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\t\t\n\t\tif(!this.redrawBlock){\n\n\t\t\tthis.headersElement.style.height=\"\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.clearVerticalAlign();\n\t\t\t});\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tvar height = column.getHeight();\n\t\t\t\t\n\t\t\t\tif(height > minHeight){\n\t\t\t\t\tminHeight = height;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.headersElement.style.height = minHeight + \"px\";\n\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t\t});\n\t\t\t\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tvar columns;\n\n\t\tif(typeof subject == \"object\"){\n\t\t\t\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\n\t\t\t\tcolumns = [];\n\n\t\t\t\tthis.columns.forEach((column) => {\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t\t});\n\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\t\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\t\t\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = field.split(\".\")[0];\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn matches;\n\t}\n\t\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\t\n\tgetFirstVisibleColumn(){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\t\t\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\t\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\t\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\t\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\t\n\t//traverse across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\t\n\t//get definitions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\t\t\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn width;\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\t\t\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\t\t\n\t\tthis.moveColumnActual(from, to, after);\n\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\t\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else {\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\t\t\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\t\t\n\t\tthis.rerenderColumns(true);\n\t\t\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\t\t\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\t\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\t\t\n\t\tif (fromIndex > -1) {\n\t\t\t\n\t\t\tcolumns.splice(fromIndex, 1);\n\t\t\t\n\t\t\ttoIndex = columns.indexOf(to);\n\t\t\t\n\t\t\tif (toIndex > -1) {\n\t\t\t\t\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\t\t\t\n\t\t\tcolumns.splice(toIndex, 0, from);\n\t\t\t\n\t\t\tif(updateRows){\n\t\t\t\t\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\t\t\t\t\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\t\t\t\t\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = column.getLeftOffset(),\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\t\t\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = offset + adjust;\n\t\t\t\t\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\t\t\t\t\n\t\t\t\tresolve();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\t\t\n\t\treturn cells;\n\t}\n\t\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\t\t\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\twidth = column.definition.width || 0;\n\t\t\t\t\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\t\t\t\t\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn fixedWidth;\n\t}\n\t\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\t\t\t\n\t\t\tthis._reIndexColumns();\n\t\t\t\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\t\t\t\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.redraw(true);\n\t\t\t\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t\t\n\t\t\tthis.rerenderColumns();\n\t\t\t\n\t\t\tresolve(column);\n\t\t});\n\t}\n\t\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\t\t\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\t\t\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\t\t\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.redraw();\n\t}\n\t\n\trerenderColumns(update, silent){\n\t\tif(!this.redrawBlock){\n\t\t\tthis.renderer.rerenderColumns(update, silent);\n\t\t}else {\n\t\t\tif(update === false || (update === true && this.redrawBlockUpdate === null)){\n\t\t\t\tthis.redrawBlockUpdate = update;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockUpdate = null;\n\t}\n\t\n\trestoreRedraw(){\n\t\tthis.redrawBlock = false;\n\t\tthis.verticalAlignHeaders();\n\t\tthis.renderer.rerenderColumns(this.redrawBlockUpdate);\n\t\t\n\t}\n\t\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\t\t\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\t\t\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh(force);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-redraw\", force);\n\t\t\n\t\tthis.table.footerManager.redraw();\n\t}\n}\n\nclass BasicVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.verticalFillMode = \"fill\";\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\t\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\t\t\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\t\t\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\t\n\trenderRows() {\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true,\n\t\ttableFrag = document.createDocumentFragment(),\n\t\trows = this.rows();\n\t\t\n\t\trows.forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\trow.initialize(false, true);\n\t\t\t\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t\t\n\t\t\ttableFrag.appendChild(row.getElement());\n\t\t});\n\t\t\n\t\telement.appendChild(tableFrag);\n\t\t\n\t\trows.forEach((row) => {\n\t\t\trow.rendered();\n\t\t\t\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.calcHeight(true);\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.setCellHeight();\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else {\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n\t\n\trerenderRows(callback){\t\n\t\tthis.clearRows();\n\t\t\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t\t\n\t\tthis.renderRows();\n\t}\n\t\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\t\t\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\t\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\t\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\t\n}\n\nclass VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold position for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tif(this.rows().length){\n\t\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\t\t}else {\n\t\t\tthis.clear();\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else {\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else {\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset) {\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\trowHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tindex = 0,\n\t\trow,\n\t\trowFragment,\n\t\trenderedRows = [],\n\t\ttotalRowsRendered = 0,\n\t\trowsToRender = 0,\n\t\tfixedHeight = this.table.rowManager.fixedHeight,\n\t\tcontainerHeight = this.elementVertical.clientHeight, \n\t\tavgRowHeight = this.table.options.rowHeight, \n\t\tresized = true;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else {\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\tif(fixedHeight || this.table.options.maxHeight) {\n\t\t\t\tif(avgRowHeight) {\n\t\t\t\t\trowsToRender = (containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight);\n\t\t\t\t}\n\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil(rowsToRender));\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowsToRender = rowsCount;\n\t\t\t}\n\n\t\t\twhile(((rowsToRender == rowsCount || rowsHeight <= containerHeight + this.vDomWindowBuffer) || totalRowsRendered < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1) {\n\t\t\t\trenderedRows = [];\n\t\t\t\trowFragment = document.createDocumentFragment();\n\n\t\t\t\ti = 0;\n\n\t\t\t\twhile ((i < rowsToRender) && this.vDomBottom < rowsCount -1) {\t\n\t\t\t\t\tindex = this.vDomBottom + 1,\n\t\t\t\t\trow = rows[index];\n\n\t\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\t\trow.initialize(false, true);\n\t\t\t\t\tif(!row.heightInitialized && !this.table.options.rowHeight){\n\t\t\t\t\t\trow.clearCellHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\trowFragment.appendChild(row.getElement());\n\t\t\t\t\trenderedRows.push(row);\n\t\t\t\t\tthis.vDomBottom ++;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\tif(!renderedRows.length){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\telement.appendChild(rowFragment);\n\t\t\t\t\n\t\t\t\t// NOTE: The next 3 loops are separate on purpose\n\t\t\t\t// This is to batch up the dom writes and reads which drastically improves performance \n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trow.rendered();\n\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.calcHeight(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.setCellHeight();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trowHeight = row.getHeight();\n\t\t\t\t\t\n\t\t\t\t\tif(totalRowsRendered < topPad){\n\t\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t\t}else {\n\t\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t}\n\t\t\t\t\ttotalRowsRendered++;\n\t\t\t\t});\n\n\t\t\t\tresized = this.table.rowManager.adjustTableSize();\n\t\t\t\tcontainerHeight = this.elementVertical.clientHeight;\n\t\t\t\tif(resized && (fixedHeight || this.table.options.maxHeight))\n\t\t\t\t{\n\t\t\t\t\tavgRowHeight = rowsHeight / totalRowsRendered;\n\t\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil((containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust row height to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / totalRowsRendered);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else {\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\t\t\t\n\t\t\telement.style.paddingTop = this.vDomTopPad+\"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad+\"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.clientWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}\n\nclass RowManager extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\t\t\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\t\t\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\t\t\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\t\t\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\t\t\n\t\tthis.scrollbarWidth = 0;\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t//////////////// Setup Functions /////////////////\n\t\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\t// el.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitializePlaceholder(){\n\t\tvar placeholder = this.table.options.placeholder;\n\t\t\n\t\tif(typeof placeholder === \"function\"){\n\t\t\tplaceholder = placeholder.call(this.table);\n\t\t}\n\t\t\n\t\tplaceholder = this.chain(\"placeholder\", [placeholder], placeholder, placeholder) || placeholder;\n\t\t\n\t\t//configure placeholder element\n\t\tif(placeholder){\t\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\t\t\t\n\t\t\tif(typeof placeholder == \"string\"){\n\t\t\t\tlet contents = document.createElement(\"div\");\n\t\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\t\tcontents.innerHTML = placeholder;\n\t\t\t\t\n\t\t\t\tel.appendChild(contents);\n\t\t\t\t\n\t\t\t\tthis.placeholderContents = contents;\n\t\t\t\t\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && placeholder instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tel.appendChild(placeholder);\n\t\t\t\tthis.placeholderContents = placeholder;\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Invalid placeholder provided, must be string or HTML Element\", placeholder);\n\t\t\t\t\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\t\t\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializePlaceholder();\n\t\tthis.initializeRenderer();\n\t\t\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\t\t\n\t\tthis.firstRender = true;\n\t\t\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\t\t\t\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\t\t\t\t\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\t\t\t\t\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}else if(subject === null){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\treturn false;\n\t\t}else {\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t\t\n\t\t\treturn match || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\t\t\n\t\treturn match || false;\n\t}\n\t\n\tgetRowFromPosition(position){\n\t\treturn this.getDisplayRows().find((row) => {\n\t\t\treturn row.getPosition() === position && row.isDisplayed();\n\t\t});\n\t}\n\t\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else {\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\t\t\t\t\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\t\t\n\t\tthis._wipeElements();\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\t\t\t\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\t\t\t\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else {\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\t\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\t\t\n\t\tthis.destroy();\n\t\t\n\t\tthis.adjustTableSize();\n\t\t\n\t\tthis.dispatch(\"rows-wiped\");\n\t}\n\t\n\tdestroy(){\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\t\t\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\t}\n\t\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\t\t\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\t\t\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\t\t\t\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis.tableEmpty();\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\t\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\t\n\t//add multiple rows\n\taddRows(data, pos, index, refreshDisplayOnly){\n\t\tvar rows = [];\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\t\t\t\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\t\t\t\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, item, pos, index);\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(refreshDisplayOnly ? \"displayPipeline\" : false, false, true);\n\t\t\t\n\t\t\tthis.regenerateRowPositions();\n\t\t\t\n\t\t\tif(rows.length){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\t\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\t\t\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\t\t\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\t\t\n\t\treturn pos;\n\t}\n\t\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\t\t\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\t\t\t\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\t\t\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\t\t\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\t\t\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\t\t\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\t\t\t\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\t\t\t\t\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\t\t\t\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\t\t\t\n\t\t}else {\n\t\t\t\n\t\t\tif(top){\n\t\t\t\t\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else {\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\treturn row;\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\t\t\n\t\tthis.moveRowActual(from, to, after);\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\t\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\t\t\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\t\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\t\t\n\t\tif(from !== to){\n\t\t\t\n\t\t\tfromIndex = rows.indexOf(from);\n\t\t\t\n\t\t\tif (fromIndex > -1) {\n\t\t\t\t\n\t\t\t\trows.splice(fromIndex, 1);\n\t\t\t\t\n\t\t\t\ttoIndex = rows.indexOf(to);\n\t\t\t\t\n\t\t\t\tif (toIndex > -1) {\n\t\t\t\t\t\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else {\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\t\t\t\t\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\t\t\t\t\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\t\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\t\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\t\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\t\t\n\t\t\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\t\t\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn nextRow;\n\t}\n\t\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\t\t\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\t\t\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn prevRow;\n\t}\n\t\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\t\t\n\t\trow = this.findRow(row);\n\t\t\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\t\t\t\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\t\t\n\t\treturn rows.length;\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\t\t\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\t\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority});\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority});\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n\t\t\n\t\tif(!this.table.destroyed){\n\t\t\tif(typeof handler === \"function\"){\n\t\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"dataPipeline\";\n\t\t\t\t\t\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(index > -1){\n\t\t\t\t\t\tstage = \"displayPipeline\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tstage = handler || \"all\";\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.redrawBlock){\n\t\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\t\thandler: handler,\n\t\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\t\tstage:stage,\n\t\t\t\t\t\tindex:index,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}else {\n\t\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\t\tif(renderInPosition){\n\t\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!handler){\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.renderTable();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\t\t\n\t\tif(!handler){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\t\t\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where all data needs refreshing\n\t\t\t\n\t\t\tcase \"dataPipeline\":\n\t\t\t\n\t\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\t\t\t\t\n\t\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\tindex = 0;\n\t\t\t\tthis.resetDisplayRows();\n\t\t\t\n\t\t\tcase \"displayPipeline\":\n\t\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\t\t\t\t\n\t\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"end\":\n\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t\t\tthis.regenerateRowPositions();\n\t\t}\n\t\t\n\t\tif(this.getDisplayRows().length){\n\t\t\tthis._clearPlaceholder();\n\t\t}\n\t}\n\t\n\t//regenerate row positions\n\tregenerateRowPositions(){\n\t\tvar rows = this.getDisplayRows();\n\t\tvar index = 1;\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\"){\n\t\t\t\trow.setPosition(index);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = this.activeRows = Object.assign([], activeRows);\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\t\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\t\t\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\t\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\t\tthis.displayRows[index] = displayRows;\n\t\t\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\t}\n\t\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else {\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\t\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\t\t\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t//repeat action across display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\t\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows = [];\n\t\t\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\t\trows = this.activeRows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else {\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\t\n\t\t\tthis.renderer.rerenderRows(callback);\n\t\t\t\n\t\t\tif(!this.fixedHeight){\n\t\t\t\tthis.adjustTableSize();\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\t\n\tscrollBarCheck(){\n\t\tvar scrollbarWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(this.element.scrollHeight > this.element.clientHeight){\n\t\t\tscrollbarWidth = this.element.offsetWidth - this.element.clientWidth;\n\t\t}\n\t\t\n\t\tif(scrollbarWidth !== this.scrollbarWidth){\n\t\t\tthis.scrollbarWidth = scrollbarWidth;\n\t\t\tthis.dispatch(\"scrollbar-vertical\", scrollbarWidth);\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": VirtualDomVertical,\n\t\t\t\"basic\": BasicVertical,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else {\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderMode = this.table.options.renderVertical;\n\t\t\t\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t\t\n\t\t\tif((this.table.element.clientHeight || this.table.options.height) && !(this.table.options.minHeight && this.table.options.maxHeight)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else {\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n\t\t}\n\t}\n\t\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\t\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tthis._clearTable();\n\t\t\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\t\t\t\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\t\t\t\t\n\t\t\t\tif(!this.fixedHeight){\n\t\t\t\t\tthis.adjustTableSize();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.layoutRefresh(true);\n\t\t\t}\n\t\t}else {\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t\t\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-layout\");\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\t\t\n\t\tthis.scrollBarCheck();\n\t\t\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\t\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else {\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\t\n\t_clearTable(){\t\n\t\tthis._clearPlaceholder();\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.renderer.clearRows();\n\t}\n\t\n\ttableEmpty(){\n\t\tthis.renderEmptyScroll();\n\t\tthis._showPlaceholder();\n\t}\n\t\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t\t}\n\t\t\t\n\t\t\tthis.initializePlaceholder();\n\t\t\t\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\t\t\t\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t}\n\t\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\t\t\n\t\t// clear empty table placeholder min\n\t\tthis.tableElement.style.minWidth = \"\";\n\t\tthis.tableElement.style.display = \"\";\n\t}\n\t\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\t\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else {\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\t\n\t//normalize height of active rows\n\tnormalizeHeight(){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight();\n\t\t});\n\t}\n\t\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tlet initialHeight = this.element.clientHeight, minHeight;\n\t\tlet resized = false;\n\t\t\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\t\t\t\n\t\t\tif(this.fixedHeight){\n\t\t\t\tminHeight = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n\t\t\t\t\n\t\t\t\tconst height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.minHeight = minHeight || \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = height;\n\t\t\t\tthis.element.style.maxHeight = height;\n\t\t\t} else {\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height =\n\t\t\t\tthis.table.element.clientHeight - otherHeight + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\t\t\t\n\t\t\tthis.renderer.resize();\n\t\t\t\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tresized = true;\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else {\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t}\n\t\t\n\t\tthis._positionPlaceholder();\n\t\treturn resized;\n\t}\n\t\n\t//reinitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\t\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\t\t\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\t\t\t\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else {\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\t\n\t//redraw table\n\tredraw (force){\n\t\tconst resized = this.adjustTableSize();\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\t\t\n\t\tif(!force){\n\t\t\tif(resized) {\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t\tthis.scrollHorizontal(this.scrollLeft);\n\t\t}else {\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\t\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else {\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n\nclass FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.external = true;\n\t\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\");\n\t}\n}\n\nclass InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"mouseup\",\n\t\t\t\"mousedown\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t};\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t};\n\t\t});\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler);\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\tif(!targets[this.componentMap[target]]){\n\t\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\t\t\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\tmatches = {},\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component,\n\t\t\ttarget = targets[key],\n\t\t\tpreviousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else {\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\t\tif(matches[\"row\"] instanceof Row){\n\t\t\t\t\t\t\t\tcomponent = matches[\"row\"].findCell(target);\n\t\t\t\t\t\t\t}else {\t\n\t\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\tmatches[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn matches;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler);\n\t\t}else {\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else {\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\tif(this.table.options.debugInvalidComponentFuncs){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\t\n\tinitialize(){}\n\t\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tif(this.table.destroyed){\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\t\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\t\t\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\t\t\t\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\t\t\t\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\t\t\t\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!this.table.destroyed){\n\t\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar rowData = this.chain(\"data-loaded\", response, null, response);\n\t\t\t\t\t\n\t\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\t\tthis.clearAlert();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - Table has been destroyed\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\t\t\t\t\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\t\t\t\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\t\n\tmapParams(params, map){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tobjectInvert(obj){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\t\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\t\t\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\t\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\t\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}\n\nclass ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n}\n\nclass InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else {\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tsubscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}\n\nclass DeprecationAdvisor extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\t_warnUser(){\n\t\tif(this.options(\"debugDeprecation\")){\n\t\t\tconsole.warn(...arguments);\n\t\t}\n\t}\n\t\n\tcheck(oldOption, newOption){\n\t\tvar msg = \"\";\n\t\t\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tmsg = \"Deprecated Setup Option - Use of the %c\" + oldOption + \"%c option is now deprecated\";\n\t\t\t\n\t\t\tif(newOption){\n\t\t\t\tmsg = msg + \", Please use the %c\" + newOption + \"%c option instead\";\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}else {\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tcheckMsg(oldOption, msg){\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tthis._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + oldOption + \" %c option is now deprecated, \" + msg, 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tmsg(msg){\n\t\tthis._warnUser(msg);\n\t}\n}\n\nclass TableRegistry {\n\n\tstatic register(table){\n\t\tTableRegistry.tables.push(table);\n\t}\n\n\tstatic deregister(table){\n\t\tvar index = TableRegistry.tables.indexOf(table);\n\n\t\tif(index > -1){\n\t\t\tTableRegistry.tables.splice(index, 1);\n\t\t}\n\t}\n\n\tstatic lookupTable(query, silent){\n\t\tvar results = [],\n\t\tmatches, match;\n\n\t\tif(typeof query === \"string\"){\n\t\t\tmatches = document.querySelectorAll(query);\n\n\t\t\tif(matches.length){\n\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\tmatch = TableRegistry.matchElement(matches[i]);\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof Tabulator){\n\t\t\tmatch = TableRegistry.matchElement(query);\n\n\t\t\tif(match){\n\t\t\t\tresults.push(match);\n\t\t\t}\n\t\t}else if(Array.isArray(query)){\n\t\t\tquery.forEach(function(item){\n\t\t\t\tresults = results.concat(TableRegistry.lookupTable(item));\n\t\t\t});\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\tstatic matchElement(element){\n\t\treturn TableRegistry.tables.find(function(table){\n\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\n\t\t});\n\t}\n}\n\nTableRegistry.tables = [];\n\n//resize columns to fit data they contain\nfunction fitData(columns, forced){\n\tif(forced){\n\t\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\t}\n\t\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}\n\n//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nfunction fitDataGeneral(columns, forced){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}\n\n//resize columns to fit data the contain and stretch last column to fill table\nfunction fitDataStretch(columns, forced){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else {\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else {\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n}\n\n//resize columns to fit\nfunction fitColumns(columns, forced){\n\tvar totalWidth = this.table.rowManager.element.getBoundingClientRect().width; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks across all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks across all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else {\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else {\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)));\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else {\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else {\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t//generate column widths\n\tgapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += gapFill;\n\t}\n\n\t//calculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(gapFill && fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n}\n\nvar defaultModes = {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};\n\nclass Layout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else {\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.widthGrow){\n\t\t\tcolumn.definition.widthGrow = Number(column.definition.widthGrow);\n\t\t}\n\t\tif(column.definition.widthShrink){\n\t\t\tcolumn.definition.widthShrink = Number(column.definition.widthShrink);\n\t\t}\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(dataChanged){\n\t\tthis.dispatch(\"layout-refreshing\");\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, dataChanged);\n\t\tthis.dispatch(\"layout-refreshed\");\n\t}\n}\n\nLayout.moduleName = \"layout\";\n\n//load defaults\nLayout.modes = defaultModes;\n\nvar defaultLangs = {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};\n\nclass Localize extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placeholder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else {\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t\t}else {\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching language values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else {\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determining correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar fillPath = value ? path + \"|\" + value : path,\n\t\tpathArray = fillPath.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else {\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//iterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}\n\nLocalize.moduleName = \"localize\";\n\n//load defaults\nLocalize.langs = defaultLangs;\n\nclass Comms extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = TableRegistry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else {\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}\n\nComms.moduleName = \"comms\";\n\nvar coreModules = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tLayoutModule: Layout,\n\tLocalizeModule: Localize,\n\tCommsModule: Comms\n});\n\nclass ModuleBinder {\n\t\n\tconstructor(tabulator, modules){\n\t\tthis.bindStaticFunctionality(tabulator);\n\t\tthis.bindModules(tabulator, coreModules, true);\n\t\t\n\t\tif(modules){\n\t\t\tthis.bindModules(tabulator, modules);\n\t\t}\n\t}\n\t\n\tbindStaticFunctionality(tabulator){\n\t\ttabulator.moduleBindings = {};\n\t\t\n\t\ttabulator.extendModule = function(name, property, values){\n\t\t\tif(tabulator.moduleBindings[name]){\n\t\t\t\tvar source = tabulator.moduleBindings[name][property];\n\t\t\t\t\n\t\t\t\tif(source){\n\t\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t\t}\n\t\t};\n\t\t\n\t\ttabulator.registerModule = function(modules){\n\t\t\tif(!Array.isArray(modules)){\n\t\t\t\tmodules = [modules];\n\t\t\t}\n\t\t\t\n\t\t\tmodules.forEach((mod) => {\n\t\t\t\ttabulator.registerModuleBinding(mod);\n\t\t\t});\n\t\t};\n\t\t\n\t\ttabulator.registerModuleBinding = function(mod){\n\t\t\ttabulator.moduleBindings[mod.moduleName] = mod;\n\t\t};\n\t\t\n\t\ttabulator.findTable = function(query){\n\t\t\tvar results = TableRegistry.lookupTable(query, true);\n\t\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t\t};\n\t\t\n\t\t//ensure that module are bound to instantiated function\n\t\ttabulator.prototype.bindModules = function(){\n\t\t\tvar orderedStartMods = [],\n\t\t\torderedEndMods = [],\n\t\t\tunOrderedMods = [];\n\t\t\t\n\t\t\tthis.modules = {};\n\t\t\t\n\t\t\tfor(var name in tabulator.moduleBindings){\n\t\t\t\tlet mod = tabulator.moduleBindings[name];\n\t\t\t\tlet module = new mod(this);\n\t\t\t\t\n\t\t\t\tthis.modules[name] = module;\n\t\t\t\t\n\t\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\t\tthis.modulesCore.push(module);\n\t\t\t\t}else {\n\t\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else {\n\t\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\t\n\t\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t\t};\n\t}\n\t\n\tbindModules(tabulator, modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\ttabulator.registerModule(mods);\n\t}\n}\n\nclass Alert extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.element = this._createAlertElement();\n\t\tthis.msgElement = this._createMsgElement();\n\t\tthis.type = null;\n        \n\t\tthis.element.appendChild(this.msgElement);\n\t}\n    \n\t_createAlertElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert\");\n\t\treturn el;\n\t}\n    \n\t_createMsgElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert-msg\");\n\t\tel.setAttribute(\"role\", \"alert\");\n\t\treturn el;\n\t}\n    \n\t_typeClass(){\n\t\treturn \"tabulator-alert-state-\" + this.type;\n\t}\n    \n\talert(content, type = \"msg\"){\n\t\tif(content){\n\t\t\tthis.clear();\n            \n\t\t\tthis.type = type;\n            \n\t\t\twhile(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n\t\t\tthis.msgElement.classList.add(this._typeClass());\n            \n\t\t\tif(typeof content === \"function\"){\n\t\t\t\tcontent = content();\n\t\t\t}\n            \n\t\t\tif(content instanceof HTMLElement){\n\t\t\t\tthis.msgElement.appendChild(content);\n\t\t\t}else {\n\t\t\t\tthis.msgElement.innerHTML = content;\n\t\t\t}\n            \n\t\t\tthis.table.element.appendChild(this.element);\n\t\t}\n\t}\n    \n\tclear(){\n\t\tif(this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n        \n\t\tthis.msgElement.classList.remove(this._typeClass());\n\t}\n}\n\nclass Tabulator {\n\t\n\tconstructor(element, options){\n\t\t\n\t\tthis.options = {};\n\t\t\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\t\t\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\t\t\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\t\t\n\t\tthis.deprecationAdvisor = new DeprecationAdvisor(this);\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.destroyed = false;\n\t\t\n\t\tif(this.initializeElement(element)){\n\t\t\t\n\t\t\tthis.initializeCoreSystems(options);\n\t\t\t\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t});\n\t\t}\n\t\t\n\t\tTableRegistry.register(this); //register table for inter-device communication\n\t}\n\t\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\t\t\t\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\t\t\n\t\tthis.bindModules();\n\t\t\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options);\n\t\t\n\t\tthis._clearObjectPointers();\n\t\t\n\t\tthis._mapDeprecatedFunctionality();\n\t\t\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\t\t\n\t\tthis.interactionMonitor = new InteractionManager(this);\n\t\t\n\t\tthis.dataLoader.initialize();\n\t\t// this.columnManager.initialize();\n\t\t// this.rowManager.initialize();\n\t\tthis.footerManager.initialize();\n\t}\n\t\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 5.0 release\n\t}\n\t\n\t_clearSelection(){\n\t\t\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\t\t\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\t\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\t\t\n\t\tthis._rtlCheck();\n\t\t\n\t\tthis._buildElement();\n\t\t\n\t\tthis._initializeTable();\n\t\t\n\t\tthis._loadInitialData();\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t}\n\t\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\t\t\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"rtl\":\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\t\tthis.rtl = true;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"ltr\":\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\t\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\t\t\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\t\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\t\t\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\t\t\t\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\t\t\t\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\t\t\t\n\t\t\tthis.element = element = newElement;\n\t\t}\n\t\t\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\t\t\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\t\t\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\t\t\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\t\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\t\t\n\t\tthis.interactionMonitor.initialize();\n\t\t\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\t\t\n\t\tthis._detectBrowser();\n\t\t\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\t\t\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\t\t\n\t\tif(options.autoColumns && options.data){\n\t\t\t\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\t\t\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\tthis.columnManager.setColumns(options.columns);\n\t\t\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\t\n\t_loadInitialData(){\n\t\tthis.dataLoader.load(this.options.data);\n\t}\n\t\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\t\t\n\t\tthis.destroyed = true;\n\t\t\n\t\tTableRegistry.deregister(this); //deregister table from inter-device communication\n\t\t\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\t\t\n\t\t//clear row data\n\t\tthis.rowManager.destroy();\n\t\t\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\n\t\tthis.externalEvents.dispatch(\"tableDestroyed\");\n\t}\n\t\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\t\t\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else if(ua.indexOf(\"Mac OS\") > -1){\n\t\t\tthis.browser = \"safari\";\n\t\t\tthis.browserSlow = false;\n\t\t}else {\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\t\t\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));\n\t}\n\t\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\t\t\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\t\t\t\t\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else {\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\t\t\n\t\treturn this.initialized;\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocking\");\n\t\t\n\t\tthis.rowManager.blockRedraw();\n\t\tthis.columnManager.blockRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocked\");\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-restoring\");\n\n\t\tthis.rowManager.restoreRedraw();\n\t\tthis.columnManager.restoreRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-restored\");\n\t}\n\t\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\t\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\t\t\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\t\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\t\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\t\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\t\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\treject(\"Update Error - Unable to update row\", item, e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\treject(\"Update Error - Unable to find row\", item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\n\t\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\tresolve(output);\n\t\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tresponses++;\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(row.getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//get row object\n\tgetRowFromPosition(position){\n\t\tvar row = this.rowManager.getRowFromPosition(position);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\t\t\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\t\t\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete();\n\t\t});\n\t\t\n\t\tthis.rowManager.reRenderInPosition();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\treturn this.rowManager.addRows(data, pos, index, true)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t});\n\t}\n\t\n\t//update a row if it exists otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn row.getComponent();\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t\t.then((rows)=>{\n\t\t\t\t\treturn rows[0].getComponent();\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\t\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible);\n\t\t}else {\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\t\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\t\n\t}\n\t\n\t//get position of row in table\n\tgetRowPosition(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getPosition();\n\t\t}else {\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\t\t\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\t\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\t\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\t\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field); \n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else {\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t\t.then((column) => {\n\t\t\t\treturn column.getComponent();\n\t\t\t});\n\t}\n\t\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\t\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\t\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw();\n\t}\n\t\n\t//////////////////// Event Bus ///////////////////\n\t\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\t\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\t\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments);\n\t\targs.shift();\n\t\t\n\t\tthis.externalEvents.dispatch(...arguments);\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\t\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else {\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\t\t\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\t\t\n\t\treturn mod;\n\t}\n}\n\n//default setup options\nTabulator.defaultOptions = defaultOptions;\n\n//bind modules and static functionality\nnew ModuleBinder(Tabulator);\n\n//tabulator with all modules installed\n\nclass TabulatorFull extends Tabulator {}\n\n//bind modules and static functionality\nnew ModuleBinder(TabulatorFull, modules);\n\nclass PseudoRow {\n\n\tconstructor (type){\n\t\tthis.type = type;\n\t\tthis.element = this._createElement();\n\t}\n\n\t_createElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-row\");\n\t\treturn el;\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tgetComponent(){\n\t\treturn false;\n\t}\n\n\tgetData(){\n\t\treturn {};\n\t}\n\n\tgetHeight(){\n\t\treturn this.element.outerHeight;\n\t}\n\n\tinitialize(){}\n\n\treinitialize(){}\n\n\tnormalizeHeight(){}\n\n\tgenerateCells(){}\n\n\treinitializeHeight(){}\n\n\tcalcHeight(){}\n\n\tsetCellHeight(){}\n\n\tclearCellHeight(){}\n}\n\nexport { Accessor as AccessorModule, Ajax as AjaxModule, CalcComponent, CellComponent, Clipboard as ClipboardModule, ColumnCalcs as ColumnCalcsModule, ColumnComponent, DataTree as DataTreeModule, Download as DownloadModule, Edit$1 as EditModule, Export as ExportModule, Filter as FilterModule, Format as FormatModule, FrozenColumns as FrozenColumnsModule, FrozenRows as FrozenRowsModule, GroupComponent, GroupRows as GroupRowsModule, History as HistoryModule, HtmlTableImport as HtmlTableImportModule, Import as ImportModule, Interaction as InteractionModule, Keybindings as KeybindingsModule, Menu as MenuModule, Module, MoveColumns as MoveColumnsModule, MoveRows as MoveRowsModule, Mutator as MutatorModule, Page as PageModule, Persistence as PersistenceModule, Popup$1 as PopupModule, Print as PrintModule, PseudoRow, ReactiveData as ReactiveDataModule, Renderer, ResizeColumns as ResizeColumnsModule, ResizeRows as ResizeRowsModule, ResizeTable as ResizeTableModule, ResponsiveLayout as ResponsiveLayoutModule, RowComponent, SelectRow as SelectRowModule, Sort as SortModule, Tabulator, TabulatorFull, Tooltip as TooltipModule, Validate as ValidateModule };\n//# sourceMappingURL=tabulator_esm.js.map\n","// npm install --save-dev @types/jquery\n// npm install tabulator-tables --save\n// npm i --save-dev @types/tabulator-tables\n// https://github.com/atomiks/tippyjs\n// https://atomiks.github.io/tippyjs/\n// https://www.npmjs.com/package/tippy.js/v/6.2.5\n// npm i tippy.js\nimport tippy from 'tippy.js';\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/themes/light-border.css';\nconst _global = (window /* browser */ || global /* node */);\n_global.$tippy = tippy;\nimport { TabulatorFull as Tabulator } from 'tabulator-tables';\nexport class App {\n    recipesUrl = '';\n    itemsJsonUrl = 'assets/21-items.json';\n    imagesPath = '21';\n    recipes = [];\n    items = [];\n    recipes_ingredients = new Map();\n    recipes_buffs = new Map();\n    recipes_buffs_filtered = new Map();\n    ingredients = [];\n    tabledata = [];\n    ingredientCols = [];\n    table;\n    source;\n    init() {\n        const queryString = window.location.search;\n        const urlParams = new URLSearchParams(queryString);\n        const sourceParam = urlParams.get('source');\n        this.source = sourceParam || \"\";\n        this.recipesUrl = `assets/${this.source}21-recipes.json`;\n        this.itemsJsonUrl = `assets/${this.source}21-items.json`;\n        this.imagesPath = `assets/${this.source}21`;\n        Promise.all([fetch(this.recipesUrl), fetch(this.itemsJsonUrl)])\n            .then((recipesAnditemsPromisesArray) => {\n            Promise.all([recipesAnditemsPromisesArray[0].json(), recipesAnditemsPromisesArray[1].json()])\n                .then((values) => {\n                this.recipes = values[0];\n                this.items = values[1];\n                this.app();\n            });\n        });\n    }\n    isDarkMode() {\n        // body[data-bs-theme=\"dark\"]\n        return document.body.dataset.bsTheme === \"dark\";\n    }\n    createPopOver(id, content) {\n        tippy('#' + id, {\n            content: `${content}`,\n            allowHTML: true,\n            theme: this.isDarkMode() ? 'dark-border' : 'light-border',\n            arrow: true,\n            trigger: 'click',\n            interactive: true,\n            animation: 'scale',\n        });\n    }\n    itemByName(name) {\n        const arr = this.items.filter((item) => item.name === name);\n        return arr && arr.length > 0 ? arr[0] : null;\n    }\n    /*itemPropertyByName(item: Item, name: string): Property | undefined {\n        return item.property ? this.propertyByName(item.property, name) : undefined;\n    }*/\n    merge(parent, child) {\n        const mergedItem = { name: child.name, property: undefined, effect_group: undefined };\n        mergedItem.property = this.mergeProperties(parent?.property, child.property);\n        mergedItem.effect_group = this.mergeEffectGroup(this.pickEffectGroup(parent?.effect_group), this.pickEffectGroup(child.effect_group));\n        return mergedItem;\n    }\n    mergeEffectGroup(parentEffectGroup, childEffectGroup) {\n        const mergedEffectGroup = { display_value: undefined, triggered_effect: undefined };\n        mergedEffectGroup.display_value = this.mergeProperties(parentEffectGroup?.display_value, childEffectGroup?.display_value);\n        mergedEffectGroup.triggered_effect = this.mergeTriggeredEffect(parentEffectGroup?.triggered_effect, childEffectGroup?.triggered_effect);\n        return mergedEffectGroup;\n    }\n    mergeTriggeredEffect(parentTriggeredEffect, childTriggeredEffect) {\n        const mergedTriggeredEffect = this.clone(this.triggeredEffectsToArray(parentTriggeredEffect));\n        const childTriggeredEffectArray = this.triggeredEffectsToArray(childTriggeredEffect);\n        childTriggeredEffectArray.forEach((triggeredEffect) => {\n            if (triggeredEffect.cvar) {\n                const existingTriggeredEffect = this.triggeredEffectByCvar(mergedTriggeredEffect, triggeredEffect.cvar);\n                if (existingTriggeredEffect) {\n                    existingTriggeredEffect.value = triggeredEffect.value;\n                }\n                else {\n                    mergedTriggeredEffect.push(triggeredEffect);\n                }\n            }\n            else if (triggeredEffect.buff) {\n                const existingTriggeredEffect = this.triggeredEffectByBuff(mergedTriggeredEffect, triggeredEffect.buff);\n                if (existingTriggeredEffect) {\n                    existingTriggeredEffect.value = triggeredEffect.value;\n                }\n                else {\n                    mergedTriggeredEffect.push(triggeredEffect);\n                }\n            }\n            else if (triggeredEffect.operation) {\n                if (triggeredEffect.operation === 'add') {\n                    const existingTriggeredEffect = this.triggeredEffectByBuff(mergedTriggeredEffect, triggeredEffect.stat);\n                    if (existingTriggeredEffect) {\n                        existingTriggeredEffect.value = triggeredEffect.value;\n                    }\n                    else {\n                        mergedTriggeredEffect.push(triggeredEffect);\n                    }\n                }\n                else {\n                    console.error(\"triggeredEffect operation/stat incorrect\", triggeredEffect);\n                }\n            }\n            else {\n                if (triggeredEffect.action !== \"CallGameEvent\" && triggeredEffect.action !== \"PlaySound\") {\n                    console.error(\"triggeredEffect must have cvar, buff or operation\", triggeredEffect);\n                }\n            }\n        });\n        return mergedTriggeredEffect;\n    }\n    triggeredEffectByCvar(triggeredEffectArray, cvar) {\n        return triggeredEffectArray.filter((triggeredEffect) => triggeredEffect.cvar === cvar)[0];\n    }\n    triggeredEffectByBuff(triggeredEffectArray, buff) {\n        return triggeredEffectArray.filter((triggeredEffect) => triggeredEffect.buff === buff)[0];\n    }\n    effectGroupsToArray(effectGroup) {\n        if (!effectGroup) {\n            return [];\n        }\n        else if (Array.isArray(effectGroup)) {\n            return effectGroup;\n        }\n        else {\n            return [effectGroup];\n        }\n    }\n    triggeredEffectsToArray(triggeredEffect) {\n        if (!triggeredEffect) {\n            return [];\n        }\n        else if (Array.isArray(triggeredEffect)) {\n            return triggeredEffect;\n        }\n        else {\n            return [triggeredEffect];\n        }\n    }\n    ingredientsToArray(ingredient) {\n        if (!ingredient) {\n            return [];\n        }\n        else if (Array.isArray(ingredient)) {\n            return ingredient;\n        }\n        else {\n            return [ingredient];\n        }\n    }\n    propertiesToArray(properties) {\n        if (!properties) {\n            return [];\n        }\n        else if (Array.isArray(properties)) {\n            return properties;\n        }\n        else {\n            return [properties];\n        }\n    }\n    clone(item) {\n        return JSON.parse(JSON.stringify(item));\n    }\n    mergeProperties(parentProperties, childProperties) {\n        return this.mergePropertiesArrays(this.propertiesToArray(parentProperties), this.propertiesToArray(childProperties));\n    }\n    mergePropertiesArrays(parentProperties, childProperties) {\n        const mergedProperties = this.clone(parentProperties);\n        childProperties.forEach((property) => {\n            const existingProperty = this.propertyByName(mergedProperties, property.name);\n            if (existingProperty) {\n                existingProperty.value = property.value;\n            }\n            else {\n                mergedProperties.push(property);\n            }\n        });\n        return mergedProperties;\n    }\n    pickEffectGroup(effectGroup) {\n        if (!effectGroup)\n            return undefined;\n        if (Array.isArray(effectGroup)) {\n            const combinedEffectGroup = { display_value: undefined, triggered_effect: undefined };\n            effectGroup.forEach((effectGroup) => {\n                combinedEffectGroup.display_value = this.mergeProperties(combinedEffectGroup.display_value, effectGroup.display_value);\n                combinedEffectGroup.triggered_effect = this.mergeTriggeredEffect(combinedEffectGroup.triggered_effect, effectGroup.triggered_effect);\n            });\n            return effectGroup[0];\n        }\n        return effectGroup;\n    }\n    app() {\n        this.recipes.forEach((recipe) => {\n            let item = this.itemByName(recipe.name);\n            if (item) {\n                const ingredientsArray = [];\n                this.recipes_ingredients.set(recipe, ingredientsArray);\n                const buffsArray = [];\n                this.recipes_buffs.set(recipe, buffsArray);\n                const buffsFilteredArray = [];\n                this.recipes_buffs_filtered.set(recipe, buffsFilteredArray);\n                this.ingredientsToArray(recipe.ingredient).forEach((ingredient) => ingredientsArray.push(ingredient));\n                let parentProperty = this.propertyValueByName(item.property, \"Extends\");\n                if (parentProperty) {\n                    const itemName = item.name;\n                    const parent = this.itemByName(parentProperty);\n                    item = this.merge(parent, item);\n                    item.name = itemName;\n                    parentProperty = this.propertyValueByName(item.property, \"Extends\");\n                }\n                else {\n                    item = this.merge(item, item);\n                }\n                const itemEffectGroup = this.pickEffectGroup(item.effect_group);\n                if (itemEffectGroup?.display_value) {\n                    if (Array.isArray(itemEffectGroup.display_value)) {\n                        itemEffectGroup.display_value.forEach((displayValue) => {\n                            buffsArray.push({ name: displayValue.name, value: displayValue.value });\n                        });\n                    }\n                    else {\n                        buffsArray.push({\n                            name: itemEffectGroup.display_value.name,\n                            value: itemEffectGroup.display_value.value\n                        });\n                    }\n                }\n                if (itemEffectGroup?.triggered_effect) {\n                    this.triggeredEffectsToArray(itemEffectGroup.triggered_effect).forEach((triggeredEffect) => {\n                        if (triggeredEffect.cvar && triggeredEffect.value) {\n                            buffsArray.push({ name: triggeredEffect.cvar, value: triggeredEffect.value });\n                        }\n                    });\n                }\n                buffsArray.forEach((buff) => {\n                    const r = buff.name\n                        .replace(\".foodStaminaBonusAdd\", \"STA\")\n                        .replace(\"foodHealthAmount\", \"HP\")\n                        .replace(\"$foodAmountAdd\", \"FOOD\")\n                        .replace(\"$waterAmountAdd\", \"H2O\")\n                        .replace(\"dWellness\", \"WELL\")\n                        .replace(\"dWaterAmountAdd\", \"H2O\")\n                        .replace(\"dFoodAmount\", \"FOOD\")\n                        .replace(\"dFoodStaminaBonus\", \"STA\")\n                        .replace(\"dFoodHealthAmount\", \"HP\")\n                        .replace(\"dStressReduction\", \"CALM\")\n                        .replace(\"FoodPoisoningRisk\", \"POISON\");\n                    if (r !== buff.name) {\n                        buff.name = r;\n                        if (buffsFilteredArray.filter((buffFiltered) => buffFiltered.name === buff.name).length == 0) {\n                            buffsFilteredArray.push(buff);\n                        }\n                    }\n                });\n            }\n        });\n        const keysArray = Array.from(this.recipes_buffs_filtered.keys());\n        this.recipes = this.recipes.filter((recipe) => keysArray.indexOf(recipe) !== -1);\n        this.recipes_ingredients.forEach((ingredients, itemName) => {\n            if (keysArray.indexOf(itemName) === -1) {\n                this.recipes_ingredients.delete(itemName);\n            }\n        });\n        this.recipes_ingredients.forEach((ingredients, itemName) => {\n            ingredients.forEach((ingredient) => {\n                if (this.ingredients.indexOf(ingredient.name) === -1) {\n                    this.ingredients.push(ingredient.name);\n                }\n            });\n        });\n        // sort ingredients\n        this.ingredients.sort((a, b) => {\n            if (a < b) {\n                return -1;\n            }\n            else if (a === b) {\n                return 0;\n            }\n            else {\n                return 1;\n            }\n        });\n        // sort recipes by name\n        this.recipes.sort((a, b) => {\n            if (a.name < b.name) {\n                return -1;\n            }\n            else if (a.name === b.name) {\n                return 0;\n            }\n            else {\n                return 1;\n            }\n        });\n        this.buildIngredientStyles();\n        this.buildIngredientCols();\n        this.buildTableData();\n        this.buildFilters();\n        this.buildTable();\n    }\n    iconForItem(name) {\n        const item = this.itemByName(name);\n        let icon = name;\n        if (item) {\n            const parent = this.propertyValueByName(item.property, \"Extends\");\n            let iconProperty = this.propertyValueByName(item.property, \"CustomIcon\");\n            if (iconProperty)\n                icon = iconProperty;\n            if (parent) {\n                const parentItem = this.itemByName(parent);\n                if (parentItem) {\n                    icon = parentItem.name;\n                    iconProperty = this.propertyValueByName(parentItem.property, \"CustomIcon\");\n                    if (iconProperty)\n                        icon = iconProperty;\n                }\n            }\n        }\n        return icon;\n    }\n    buildIngredientStyles() {\n        let style = '';\n        let ingredientList = '';\n        for (const ingredient of this.ingredients) {\n            const icon = this.iconForItem(ingredient);\n            style += `.tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-sorter-element.${ingredient} .tabulator-col-title::before { background-image: url('${this.imagesPath}/${icon}.png'); }\\n\\n`;\n            ingredientList += icon + '\\n';\n        }\n        console.log(style);\n        console.log(ingredientList);\n        const styleElement = document.createElement('style');\n        styleElement.innerHTML = style;\n        document.head.appendChild(styleElement);\n    }\n    buildIngredientCols() {\n        for (const ingredient of this.ingredients) {\n            this.ingredientCols.push({\n                \"title\": ingredient\n                    .replace('food', '').replace('Food', '')\n                    .replace('drink', '').replace('Drink', '')\n                    .replace('resource', '').replace('Resource', '')\n                    .replace('crop', '').replace('Crop', ''),\n                \"field\": `ingredient_${ingredient}`,\n                \"sorter\": \"number\",\n                \"headerVertical\": true,\n                \"hozAlign\": \"center\",\n                \"cssClass\": ingredient\n            });\n        }\n    }\n    propertyValueByName(properties, name) {\n        return this.propertyByName(properties, name)?.value;\n    }\n    propertyByName(properties, name) {\n        if (!properties) {\n            return undefined;\n        }\n        else if (Array.isArray(properties)) {\n            return properties.filter((property) => property.name === name)[0];\n        }\n        else {\n            return properties.name === name ? properties : undefined;\n        }\n    }\n    buildTableData() {\n        let foodId = 0;\n        for (const recipe of this.recipes) {\n            const buffs = this.recipes_buffs_filtered.get(recipe);\n            const ingredients = this.recipes_ingredients.get(recipe);\n            const item = this.itemByName(recipe.name);\n            const icon = this.iconForItem(recipe.name);\n            /*const item = this.itemByName(recipe.name);\n            const parent = this.propertyValueByName(item.property, \"Extends\");\n            let icon = recipe.name;\n            let iconProperty = this.propertyValueByName(item.property, \"CustomIcon\");\n            if (iconProperty) icon = iconProperty;\n            if (parent) {\n                const parentItem = this.itemByName(parent);\n                if (parentItem) {\n                    icon = parentItem.name;\n                    iconProperty = this.propertyValueByName(parentItem.property, \"CustomIcon\");\n                    if (iconProperty) icon = iconProperty;\n                }\n            }*/\n            const row = {\n                id: foodId,\n                name: recipe.name\n                    .replace('food', '').replace('Food', '')\n                    .replace('drink', '').replace('Drink', '')\n                    .replace('resource', '').replace('Resource', '')\n                    .replace('crop', '').replace('Crop', ''),\n                craftArea: recipe.craft_area ? recipe.craft_area.toLowerCase() : '',\n                craftTool: recipe.craft_tool ? recipe.craft_tool.replace('tool', '').toLowerCase() : '',\n                count: Number(recipe.count),\n                food: this.toNumber(this.propertyValueByName(buffs, \"FOOD\")),\n                water: this.toNumber(this.propertyValueByName(buffs, \"H2O\")),\n                hp: this.toNumber(this.propertyValueByName(buffs, \"HP\")),\n                stamina: this.toNumber(this.propertyValueByName(buffs, \"STA\")),\n                wellness: this.toNumber(this.propertyValueByName(buffs, \"WELL\")),\n                calmness: this.toNumber(this.propertyValueByName(buffs, \"CALM\")),\n                poison: this.toNumber(this.propertyValueByName(buffs, \"POISON\")),\n                recipe: recipe,\n                ingredients: ingredients || [],\n                buffs: buffs || [],\n                icon: icon\n            };\n            for (const ingredient of this.ingredients) {\n                const count = ingredients?.filter((recipeIngredient) => recipeIngredient.name === ingredient)[0]?.count;\n                if (count)\n                    row[`ingredient_${ingredient}`] = /*count ?*/ String(count) /*: ''*/;\n            }\n            this.tabledata.push(row);\n            foodId++;\n            if (recipe.name.toLowerCase().includes(\"hobostew\")) {\n                console.log(\"recipe\", recipe.name, recipe, item, \"craft area\", recipe.craft_area);\n            }\n            if (recipe.craft_area) {\n                const craftArea = recipe.craft_area.toLowerCase().trim();\n                if (this.craftAreas.indexOf(craftArea) === -1) {\n                    this.craftAreas.push(craftArea);\n                }\n            }\n        }\n    }\n    buildTable() {\n        const columDefs = [];\n        const sorter = function (a, b, aRow, bRow, column, dir, sorterParams) {\n            //a, b - the two values being compared\n            //aRow, bRow - the row components for the values being compared (useful if you need to access additional fields in the row data for the sort)\n            //column - the column component for the column being sorted\n            //dir - the direction of the sort (\"asc\" or \"desc\")\n            //sorterParams - sorterParams object from column definition array\n            if (!a)\n                a = 0;\n            if (!b)\n                b = 0;\n            return a - b; //you must return the difference between the two values\n        };\n        columDefs.push({\n            title: \"Name\",\n            field: \"name\",\n            frozen: true,\n            formatter: (cell, formatterParams) => {\n                const row = cell.getData();\n                const cellValue = cell.getValue();\n                const a = row.ingredients.map((ingredient) => `${ingredient.count} ${ingredient.name}`).join(\"\\n\");\n                const b = row.buffs.map((buff) => `${buff.value} ${buff.name}`).join(\"\\n\");\n                return `<img width=32 height=32 src=\"${this.imagesPath}/${row.icon}.png\">&nbsp;<span title='${a}\\n\\n${b}'>${cellValue}</span>`;\n            }\n        });\n        const infoGroupColumDef = {\n            title: \"Info\",\n            frozen: true,\n            columns: []\n        };\n        infoGroupColumDef.columns?.push({\n            title: \"Craft Area\",\n            field: \"craftArea\",\n            sorter: \"string\",\n            headerVertical: false,\n            hozAlign: \"center\"\n        });\n        infoGroupColumDef.columns?.push({\n            title: \"Craft Tool\",\n            field: \"craftTool\",\n            sorter: \"string\",\n            headerVertical: false,\n            hozAlign: \"center\"\n        });\n        infoGroupColumDef.columns?.push({\n            title: \"Count\",\n            field: \"count\",\n            sorter: \"number\",\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        columDefs.push(infoGroupColumDef);\n        const buffGroupColumDef = {\n            title: \"Buffs\",\n            frozen: true,\n            columns: []\n        };\n        buffGroupColumDef.columns?.push({\n            title: \"FOOD\",\n            field: \"food\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        buffGroupColumDef.columns?.push({\n            title: \"H2O\",\n            field: \"water\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        buffGroupColumDef.columns?.push({\n            title: \"HP\",\n            field: \"hp\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        buffGroupColumDef.columns?.push({\n            title: \"STA\",\n            field: \"stamina\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        buffGroupColumDef.columns?.push({\n            title: \"WELL\",\n            field: \"wellness\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        buffGroupColumDef.columns?.push({\n            title: \"CALM\",\n            field: \"calmness\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\"\n        });\n        buffGroupColumDef.columns?.push({\n            title: \"POISON (%)\",\n            field: \"poison\",\n            sorter: sorter,\n            headerVertical: true,\n            hozAlign: \"center\",\n            formatter: (cell, formatterParams) => {\n                const row = cell.getData();\n                return '<span>' + (row.poison ? row.poison * 100 : '') + '</span>';\n            }\n        });\n        columDefs.push(buffGroupColumDef);\n        columDefs.push({\n            title: \"Ingredients\",\n            columns: this.ingredientCols\n        });\n        const options = {\n            placeholder: \"Awaiting Data\",\n            height: '100%',\n            data: this.tabledata,\n            //layout: \"fitColumns\", //fit columns to width of table (optional)\n            //layout: \"fitDataTable\",\n            layoutColumnsOnNewData: true,\n            // responsiveLayout:\"hide\", // hide rows that no longer fit\n            // responsiveLayout:\"collapse\", // collapse columns that no longer fit on the table into a list under the row\n            resizableRows: false,\n            selectable: false,\n            columns: columDefs,\n            rowHeight: 40,\n        };\n        this.table = new Tabulator(\"#table-7d2d-food\", options);\n    }\n    toNumber(s) {\n        try {\n            return s ? Number(s) : null;\n        }\n        catch (error) {\n            console.error(s, error);\n            return null;\n        }\n    }\n    craftAreas = [];\n    filterCraftArea;\n    nameFilter;\n    hideDebuffs;\n    buildFilters() {\n        this.filterCraftArea = $('#filterCraftArea');\n        this.nameFilter = $('#nameFilter');\n        this.hideDebuffs = $('#hideDebuffs');\n        const clearFiltering = () => {\n            this.table.clearFilter(true);\n        };\n        const updateFilter = () => {\n            clearFiltering();\n            //\n            const filters = [];\n            //\n            const filterCraftAreaVal = this.filterCraftArea.val();\n            if (filterCraftAreaVal && filterCraftAreaVal.length > 0) {\n                filters.push([{\n                        field: \"craftArea\", type: \"in\", value: filterCraftAreaVal\n                    }]);\n            }\n            //\n            const nameFilterVal = this.nameFilter.val();\n            if (nameFilterVal && nameFilterVal.length > 0) {\n                const colFilters = nameFilterVal.split(',').map((x) => x.trim())\n                    .map((x) => {\n                    return { \"field\": \"name\", \"type\": \"like\", \"value\": x };\n                });\n                colFilters.forEach(colFilter => filters.push([colFilter]));\n            }\n            //\n            const hideDebuffsVal = this.hideDebuffs.prop('checked');\n            if (hideDebuffsVal) {\n                [\"poison\"].forEach((it) => {\n                    filters.push([\n                        { field: it, type: \"<\", value: 0 },\n                        { field: it, type: \"=\", value: 0 },\n                        { field: it, type: \"=\", value: null }\n                    ]);\n                });\n                [\"calmness\", \"wellness\", \"stamina\", \"hp\", \"water\", \"food\"].forEach((it) => {\n                    filters.push([\n                        { field: it, type: \">\", value: 0 },\n                        { field: it, type: \"=\", value: 0 },\n                        { field: it, type: \"=\", value: null }\n                    ]);\n                });\n            }\n            //\n            if (filters.length > 0) {\n                console.log(\"filters\", filters);\n                this.table.setFilter(filters);\n            }\n        };\n        this.buildFilterCraftArea();\n        document.getElementById('filter').addEventListener('click', (event) => {\n            updateFilter();\n        });\n        document.getElementById('filterClear').addEventListener('click', (event) => {\n            this.filterCraftArea.selectpicker('val', this.craftAreas);\n            clearFiltering();\n        });\n    }\n    buildFilterCraftArea() {\n        for (const craftArea of this.craftAreas) {\n            const option = new Option(craftArea, craftArea);\n            option.selected = true;\n            this.filterCraftArea.append(option);\n        }\n        this.filterCraftArea.selectpicker();\n    }\n}\n","import './7d2d-helpers.scss';\nimport { App } from './components/app';\nconst app = new App();\napp.init();\n"],"names":["__webpack_require__","getWindow","node","window","toString","ownerDocument","defaultView","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","g","globalThis","this","Function","e","Math","max","min","round","getUAString","uaData","navigator","userAgentData","brands","Array","isArray","map","item","brand","version","join","userAgent","isLayoutViewport","test","getBoundingClientRect","element","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","offsetWidth","width","offsetHeight","height","visualViewport","addVisualOffsets","x","left","offsetLeft","y","top","offsetTop","right","bottom","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","getNodeName","nodeName","toLowerCase","getDocumentElement","document","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","rect","isElementScaled","scroll","offsets","clientLeft","clientTop","getLayoutRect","abs","getParentNode","assignedSlot","parentNode","host","getScrollParent","indexOf","body","listScrollParents","list","_element$ownerDocumen","scrollParent","isBody","target","concat","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","isFirefox","currentNode","css","transform","perspective","contain","willChange","filter","getContainingBlock","auto","basePlacements","start","end","viewport","popper","variationPlacements","reduce","acc","placement","modifierPhases","order","modifiers","Map","visited","Set","result","sort","modifier","add","name","requires","requiresIfExists","forEach","dep","has","depModifier","get","push","set","DEFAULT_OPTIONS","strategy","areValidElements","_len","arguments","length","args","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","options","fn","pending","state","orderedModifiers","Object","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","merged","phase","orderModifiers","current","existing","data","keys","key","m","enabled","_ref","_ref$options","effect","cleanupFn","update","forceUpdate","_state$elements","rects","reset","index","_state$orderedModifie","_state$orderedModifie2","_options","Promise","resolve","then","undefined","destroy","onFirstUpdate","passive","getBasePlacement","split","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","len","unsetSides","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","_ref3","hasX","hasOwnProperty","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","style","value","removeAttribute","setAttribute","initialStyles","margin","arrow","property","attribute","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","contains","parent","child","rootNode","getRootNode","next","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","html","clientWidth","clientHeight","layoutViewport","getViewportRect","getInnerBoundingClientRect","winScroll","scrollWidth","scrollHeight","direction","getDocumentRect","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$strategy","_options$boundary","boundary","_options$rootBoundary","rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","clippingClientRect","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","getClippingRect","referenceClientRect","popperOffsets","popperClientRect","elementClientRect","overflowOffsets","offsetData","offset","multiply","axis","within","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","_options$offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","placements","_options$allowedAutoP","allowedPlacements","overflows","a","b","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","i","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","find","slice","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","v","withinMaxClamp","_state$modifiersData$","toPaddingObject","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","querySelector","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","defaultValue","isType","type","str","call","invokeWithArgsOrReturn","apply","ms","arg","clearTimeout","timeout","setTimeout","normalizeToArray","pushIfUnique","arr","arrayFrom","removeUndefinedProps","obj","div","createElement","setTransitionDuration","els","el","transitionDuration","setVisibilityState","updateTransitionEndListener","box","action","listener","method","event","actualContains","_target$getRootNode","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","now","onWindowBlur","activeElement","_tippy","blur","isVisible","isIE11","msCrypto","defaultProps","appendTo","aria","content","expanded","delay","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveBorder","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","render","showOnCreate","touch","trigger","triggerTarget","animateFill","followCursor","inlinePositioning","sticky","allowHTML","animation","inertia","maxWidth","role","theme","zIndex","defaultKeys","getExtendedPassedProps","passedProps","pluginProps","plugin","_name","evaluateProps","props","out","valueAsString","getAttribute","trim","JSON","parse","getDataAttributeProps","innerHTML","dangerouslySetInnerHTML","createArrowElement","className","appendChild","setContent","textContent","getChildren","firstElementChild","boxChildren","children","classList","backdrop","onUpdate","prevProps","nextProps","_getChildren","removeChild","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentTransitionEndListener","currentTarget","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","listeners","debouncedOnMouseMove","onMouseMove","id","popperInstance","isEnabled","isMounted","isShown","clearDelayTimeouts","cancelAnimationFrame","setProps","partialProps","invokeHook","removeListeners","addListeners","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","handleStyles","createPopperInstance","getNestedPopperTree","nestedPopper","requestAnimationFrame","show","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","getCurrentTarget","hasAttribute","getIsDefaultRenderFn","visibility","addDocumentPress","transition","_getDefaultTemplateCh2","getDefaultTemplateChildren","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","handleAriaContentAttribute","callback","onTransitionEnd","onTransitionedIn","hide","isAlreadyHidden","removeDocumentPress","_getDefaultTemplateCh4","onTransitionedOut","unmount","hideWithInteractivity","getDocument","enable","disable","destroyPopperInstance","_props$render","pluginsHooks","hasAriaExpanded","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","_instance$props$rende","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","currentValue","nextValue","onDocumentPress","actualTarget","composedPath","onTouchMove","onTouchStart","doc","on","eventType","handler","onMouseLeave","Boolean","onBlurOrFocusOut","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","popperTreeData","_instance$popperInsta","popperState","clientX","clientY","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","relatedTarget","_instance$props2","computedReference","querySelectorAll","_getNormalizedTouchSe","touchValue","touchDelay","tippy","targets","optionalProps","instances","isNodeList","setDefaultProps","CoreFeature","constructor","table","reloadData","silent","columnsChanged","dataLoader","load","langText","modules","localize","getText","langBind","bind","langLocale","getLocale","commsConnections","comms","getConnections","commsSend","send","layoutMode","layout","getMode","layoutRefresh","force","subscribe","eventBus","unsubscribe","subscribed","subscriptionChange","dispatch","chain","confirm","dispatchExternal","externalEvents","subscribedExternal","subscriptionChangeExternal","setOption","deprecationCheck","oldOption","newOption","deprecationAdvisor","deprecationCheckMsg","msg","checkMsg","deprecationMsg","module","Helpers","elVisible","elOffset","deepClone","clone","objectProto","__proto__","arrayProto","match","copy","subject","findIndex","unshift","Popup","super","container","_lookupContainer","reversedX","childPopup","blurable","blurCallback","blurEventsBound","renderedCallback","visible","hideable","blurEvent","escEvent","_escapeCheck","destroyBinding","tableDestroyed","destroyed","popupContainer","console","warn","_checkContainerIsParent","renderCallback","containerEventCoords","MouseEvent","touches","pageX","pageY","parentOffset","elementPositionCoords","containerOffset","origin","parentEl","coords","_fitToScreen","stopPropagation","parseInt","hideOnBlur","rowManager","keyCode","blockHide","restoreHide","Module","_handler","initialize","registerTableOption","optionsList","register","registerColumnOption","columnManager","registerTableFunction","func","initGuard","registerComponentFunction","component","componentFunctionBinder","registerDataHandler","priority","registerDataPipelineHandler","registerDisplayHandler","registerDisplayPipelineHandler","displayRows","adjust","lookupIndex","displayPipeline","getDisplayRows","activeRows","refreshData","renderInPosition","refreshActiveData","footerAppend","footerManager","append","footerPrepend","prepend","footerRemove","remove","popup","menuEl","menuContainer","alert","alertManager","clearAlert","clear","Accessor","allowedTypes","initializeColumn","transformRow","column","config","accessor","charAt","toUpperCase","definition","lookupAccessor","params","accessors","row","rowComponent","getComponent","traverse","colComponent","getFieldValue","setFieldValue","generateParamsList","prefix","output","serializeParams","encoded","encodeURIComponent","urlBuilder","url","includes","generateParamsList$1","moduleName","defaultContentTypeFormatters","headers","stringify","form","FormData","Ajax","urlGenerator","loaderPromise","contentTypeFormatters","ajaxRequestFunc","defaultLoaderPromise","ajaxURLGenerator","defaultURLGenerator","ajaxURL","setUrl","setDefaultConfig","ajaxConfig","getUrl","requestDataCheck","requestParams","requestData","ajaxParams","previousData","generateConfig","sendRequest","defaultConfig","ajaxRequesting","ajaxResponse","reject","contentType","ajaxContentType","Accept","mode","location","credentials","fetch","response","ok","json","catch","error","status","statusText","Clipboard","pasteParser","pasteAction","customSelection","rowRange","blocked","clipboard","clipboardCopyRowRange","plain","preventDefault","clipboardCopyFormatter","export","generateExportList","clipboardCopyConfig","clipboardCopyStyled","generateHTMLTable","generatePlainContent","clipboardData","setData","originalEvent","paste","setPasteParser","clipboardPasteParser","setPasteAction","clipboardPasteAction","rowData","columns","col","getKey","range","internal","sel","textRange","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","selection","createTextRange","moveToElementText","select","execCommand","pasteActions","parser","pasteParsers","rows","checkPaseOrigin","getPasteData","modExists","mutateData","mutator","valid","tagName","edit","currentCell","getData","updateOrAddData","insert","addData","headerFindSuccess","columnMap","title","field","columnsByIndex","shift","CalcComponent","_row","Proxy","receiver","handle","getElement","getTable","getCells","cells","cell","getCell","_getSelf","CellComponent","_cell","getValue","getOldValue","getInitialValue","initialValue","getRow","getType","getField","getColumn","setValue","mutate","restoreOldValue","setValueActual","restoreInitialValue","checkHeight","Cell","oldValue","minWidth","loaded","build","generateElement","setWidth","_configureCell","textAlign","hozAlign","vertAlign","display","alignItems","middle","justifyContent","cssClass","_generateContents","val","Node","firstChild","cellRendered","containerOnly","layoutElement","setValueProcessData","cellEdited","changed","widthStyled","clearWidth","getWidth","setMinWidth","minWidthStyled","setMaxWidth","maxWidthStyled","reinitializeHeight","clearHeight","setHeight","heightStyled","getHeight","redrawBlock","deleteCell","calcs","getIndex","getCellIndex","ColumnComponent","_column","getDefinition","getTitleDownload","isGroup","toggle","delete","getSubColumns","getParentColumn","Column","scrollTo","ifVisible","scrollToColumn","move","to","after","toColumn","findColumn","moveColumn","getNextColumn","nextCol","nextColumn","getPrevColumn","prevCol","prevColumn","updateDefinition","updates","reinitializeWidth","rerenderColumns","defaultColumnOptions","def","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","fieldStructure","titleDownload","titleFormatterRendered","mapDefinitions","setField","maxInitialWidth","widthFixed","newCol","attachColumn","checkColumnVisibility","registerColumnField","_initialize","columnHeaderVertAlign","defaults","columnDefaults","generate","defaultOptionList","checkDefinition","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","registerColumnPosition","reRegisterPosition","headerVertical","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","headerHozAlign","_buildColumnHeaderTitle","headerWordWrap","editableTitle","focus","text","_formatColumnHeaderTitle","contents","dataObj","structure","columnRendered","verticalAlign","alignment","parentHeight","getGroupElement","getHeadersElement","minHeight","clearVerticalAlign","paddingTop","getFirstColumn","getLastColumn","getColumns","getTopColumn","updateBranches","colDefs","responsiveToggle","verticalAlignHeaders","matchChildWidths","childWidth","splice","setWidthActual","isNaN","floor","checkCellHeights","heightInitialized","clearCellHeight","calcHeight","setCellHeight","getLeftOffset","ceil","cellCount","deregisterColumn","generateCell","findColumnIndex","_nextVisibleColumn","getColumnByIndex","_prevVisibleColumn","fitToData","setTo","addColumn","RowComponent","getPosition","watchPosition","scrollToRow","moveToRow","updateData","normalizeHeight","reformat","reinitialize","getNextRow","nextRow","getPrevRow","prevRow","Row","manualHeight","outerHeight","initialized","positionWatchers","created","create","detachElement","generateCells","inFragment","deleteCells","renderer","renderRowCells","rowFormatter","rerenderRowCells","rendered","deinitialize","deinitializeHeight","maxHeight","rowHeight","resizableRows","updatedData","newRowData","tempData","attrname","getColumnsByFieldRoot","findCell","nextDisplayRow","prevDisplayRow","before","toRow","findRow","moveRowActual","deleteActual","blockRedraw","detachModules","deleteRow","wipe","isDisplayed","setPosition","getGroup","group","defaultCalculations","values","calcParams","precision","sum","Number","toFixed","parseFloat","String","ColumnCalcs","topCalcs","botCalcs","genColumn","topElement","botElement","topRow","botRow","topInitialized","botInitialized","recalcAfterBlock","cellValueChanged","initializeColumnCheck","rowsUpdated","scrollHorizontal","recalcActiveRows","recalcActiveRowsRefresh","tableRedraw","visibleRows","adjustForScrollbar","restoreRedraw","resizeHolderWidth","getResults","userRecalc","headersElement","recalc","redraw","blockCheck","viewable","groupBy","recalcRowGroup","dataTreeStartExpanded","dataTree","recalcAll","topCalc","bottomCalc","columnCalcs","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","removeCalcs","adjustTableSize","reinitializeCalcs","getContentsElement","insertBefore","nextSibling","rowsToData","generateRow","frozenColumns","recalcGroup","groupRows","getRowGroup","getChildGroups","generateRowData","generateTopRow","generateBottomRow","dataTreeChildColumnCalcs","open","getFilteredTreeChildren","pos","format","formatter","getFormatter","paramKey","hasTopCalcs","hasBottomCalcs","results","getGroups","getGroupResults","groupObj","subGroups","getSubGroups","subGroupResults","subgroup","groups","rtl","paddingLeft","paddingRight","DataTree","indent","collapseEl","expandEl","branchEl","elementField","startOpen","collapseRow","expandRow","toggleRow","getTreeParent","getRowChildren","addTreeChildRow","isRowExpanded","dummyEl","dataTreeChildField","dataTreeChildIndent","dataTreeBranchElement","dataTreeCollapseElement","tabIndex","dataTreeExpandElement","initializeRow","layoutRow","rowDelete","rowDataChanged","columnMoving","initializeElementField","tableRedrawing","getRows","reinitializeRowChildren","firstCol","getFirstVisibleColumn","dataTreeElementColumn","getTreeChildren","redrawNeeded","childArray","controlEl","generateControlElement","cloneNode","marginRight","marginLeft","getPropertyValue","oldControl","replaceChild","allChildren","generateChildren","dataTreeFilter","dataTreeSort","sub","childData","childRow","getTreeParentRoot","childIndex","findChildIndex","recurse","getChildField","defaultDownloaders","csv","setFileContents","delimiter","fileContents","depth","bom","jsonLines","pdf","header","autoTableParams","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDFParams","jsPDF","parseRow","colSpan","rowSpan","orientation","unit","jspdf","autoTable","didDrawPage","head","documentProcessing","xlsx","sheetName","workbook","XLSX","utils","book_new","tableFeatures","compression","compress","writeOptions","bookType","bookSST","generateSheet","merges","worksheet","s","c","r","j","Date","sheet_add_aoa","encode_range","SheetNames","Sheets","sheetOnly","sheets","sheet","active","intercept","buf","ArrayBuffer","view","Uint8Array","charCodeAt","s2ab","write","Download","mimeType","Blob","deprecatedOptionsCheck","download","downloadToTab","filename","interceptCallback","downloadFunc","downloaders","mime","triggerDownload","downloadConfig","downloadRowRange","groupHeader","groupHeaderDownload","_group","getRowCount","newTab","blob","downloadEncoder","URL","createObjectURL","msSaveOrOpenBlob","click","commsReceived","maskInput","mask","maskLetter","maskLetterChar","maskNumber","maskNumberChar","maskWildcard","maskWildcardChar","fillSymbols","symbol","char","ctrlKey","metaKey","maskAutoFill","placeholder","Edit","editor","onRendered","success","cancel","editorParams","_initializeParams","displayItems","currentItems","focusedItem","input","_createInputElement","listEl","_createListElement","initialValues","isFilter","filterTimeout","filtered","typing","listIteration","lastAction","filterTerm","actions","_deprecatedOptionsCheck","_initializeValue","_onRendered","listItemFormatter","sortValuesList","searchFunc","searchingPlaceholder","multiselect","headerFilterInitialListGen","cellEl","clickStop","preventScroll","_preventPopupBlur","_preventBlur","_inputKeyDown","_setListWidth","attribs","elementAttributes","clearable","boxSizing","autocomplete","cursor","caretColor","_bindInputEvents","valueCheck","valueKeys","verticalNavigation","placeholderLoading","placeholderEmpty","filterDelay","emptyValue","freetext","filterFunc","filterRemote","allowEmpty","listOnEmpty","valuesLookup","valuesURL","_inputFocus","_inputClick","_inputBlur","_inputSearch","_inputKeyUp","rebuildOptionsList","_filter","_filterList","_resolveValue","_clearChoices","_keyUp","_keyDown","_keySide","_keyEnter","_keyEsc","_keyHomeEnd","_keyTab","_keySelectLetter","_keyAutoCompLetter","_chooseItem","stopImmediatePropagation","_focusItem","_cancel","_scrollToValue","character","fromCharCode","label","startsWith","scrollIntoView","behavior","block","inline","_generateOptions","_sortOptions","_buildList","_showList","isInteger","_filterOptions","iteration","_ajaxRequest","_uniqueColumnValues","valuesLookupField","_addPlaceholder","responseValues","_parseList","_clearList","term","getColumnByField","inputValues","entries","_parseListItem","option","level","_parseListGroup","itemParams","selected","original","sorter","_defaultSortFunction","_sortGroup","as","bs","a1","b1","L","rx","rd","emptyAlign","isFinite","_defaultFilterFunc","_filterItem","matches","_buildItem","itemFormatter","_groupClick","_itemClick","_styleItem","startVis","defaultEditors","cellValue","search","onChange","selectContents","textarea","vertNav","whiteSpace","heightNow","shiftKey","shiftEnterSubmit","selectionStart","number","step","blurFunc","date","inputFormat","DT","DateTime","luxon","convertDate","isDateTime","fromISO","fromFormat","toFormat","luxDate","toISO","rangeParent","explicitOriginalTarget","time","newDatetime","luxTime","datetime","luxDateTime","star","self","maxStars","getElementsByTagName","size","stars","starsHolder","createElementNS","starChange","browser","buildStar","starHolder","nextStar","changeValue","textOverflow","progress","mouseDrag","mouseDragWidth","percent","bar","updateValue","calcVal","backgroundColor","screenX","tickCross","tristate","indetermValue","indeterminateValue","indetermState","trueValueSet","falseValueSet","marginTop","checkedValue","checked","trueValue","falseValue","indeterminate","Edit$1","mouseClick","recursionBlock","invalidEdit","editedCells","editors","getEditedCells","clearCellEdited","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","cellIsEdited","clearEdited","editCell","cellCancelEdit","bindEditor","updateCellClass","columnDeleteCheck","rowDeleteCheck","rowEditableCheck","cancelEdit","keybindingNavigateNext","newRow","addRow","edited","allowEdit","nextCell","findPrevEditableCell","findNextEditableCell","prevCell","editable","getCurrentCell","clearEditor","variableHeight","cellEditCancelled","button","focusCellNoEvent","forceEdit","focusScrollAdjust","getRenderMode","topEdge","bottomEdge","rowEl","leftEdge","rightEdge","leftMargin","rightMargin","renderHorizontal","vDomPadLeft","cellEditor","cellClick","cellEditing","validationMode","editIndex","ExportRow","ExportColumn","Export","cloneTableStyle","colVisProp","getHtml","columnHeaders","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","generateTable","generateTableElement","getVisibleRows","selectRow","selectedRows","pagination","columnGroups","colData","processColumnGroup","maxDepth","groupData","subGroup","subGroupData","columnVisCheck","visProp","headerDepth","exportRows","parseColumnGroup","rowGroups","exportCols","headerEl","bodyEl","lookupTableStyles","setup","treeElementField","mapElementStyles","generateHeaderElement","generateGroupElement","generateCalcElement","generateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","firstCell","lastCell","classNames","generator","cellStyle","cellWrapper","formatCells","formatExportValue","align","holder","htmlOutputConfig","from","lookup","fromStyle","prop","defaultFilters","filterVal","rowVal","filterParams","RegExp","keywords","separator","keyword","matchAll","endsWith","Filter","filterList","headerFilters","headerFilterColumns","prevHeaderFilterChangeCheck","tableInitialized","searchRows","searchData","userSetFilter","userRefreshFilter","userAddFilter","getFilters","userSetHeaderFilterFocus","userGetHeaderFilterValue","userSetHeaderFilterValue","getHeaderFilters","userRemoveFilter","userClearFilter","userClearHeaderFilter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","initializeColumnHeaderFilter","hideHeaderFilterElements","showHeaderFilterElements","tableBuilt","generatePlaceholder","filterMode","remoteFilterParams","initialFilter","setFilter","initialHeaderFilter","placeholderHeaderFilter","refreshFilter","addFilter","removeFilter","all","clearFilter","clearHeaderFilter","headerFilter","filterType","tagType","attrType","filterChangeCheck","prevSuccess","emptyFunc","headerFilterFunc","filters","headerFilterFuncParams","fieldVal","colVal","trackChanges","generateHeaderFilterElement","filterElement","editorElement","typingTimer","searchTrigger","onRenderedCallback","headerElement","headerFilterEmptyCheck","headerFilterParams","headerFilterPlaceholder","contentsElement","headerFilterLiveFilterDelay","headerFilterLiveFilter","hasChanged","findFilter","findSubFilters","ajax","filtersToArray","searchType","filterRecurse","rowList","activeRowComponents","filterRow","subFilter","defaultFormatters","plaintext","formatterParams","emptyToSpace","sanitizeHTML","money","integer","decimal","rgx","floatVal","sign","decimalSym","thousandSym","thousand","negativeSign","symbolAfter","link","urlPrefix","labelField","labelTraverse","path","urlField","image","src","urlSuffix","empty","truthy","allowTruthy","tick","tickElement","cross","crossElement","outputFormat","invalid","invalidPlaceholder","isValid","timezone","setZone","datetimediff","suffix","humanize","diff","toHuman","traffic","percentValue","colors","color","legend","legendColor","legendAlign","barEl","barContainer","legendEl","holderEl","buttonTick","buttonCross","rownum","innerText","responsiveCollapse","responsiveLayout","toggleList","isOpen","rowSelection","checkbox","selectableRangeMode","toggleSelect","handleComplexRowClick","isSelected","registerRowSelectCheckbox","deselectRow","registerHeaderSelectCheckbox","Format","formatValue","formatHeader","lookupFormatter","formatterPrint","print","formatterClipboard","formatterHtmlOutput","htmlOutput","formatters","mockCell","titleFormatter","titleFormatterParams","entityMap","FrozenColumns","leftColumns","rightColumns","initializationMode","layoutCell","reinitializeColumns","blockLayout","unblockLayout","edge","frozenCheck","frozen","layoutCalcRows","layoutGroupCalcs","groupList","layoutColumnPosition","allCells","leftParents","marginValue","getColGroupParentElement","reinitializeRows","getTableElement","_calcSpace","FrozenRows","freezeRow","unfreezeRow","isRowFrozen","detachRow","frozenRows","initializeRows","rowType","isFrozen","styleRows","styleRow","GroupComponent","groupManager","getParentGroup","toggleVisibility","Group","oldGroup","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","old","elementContents","createElements","addBindings","createValueGroups","elementsOnly","movableRows","moveRow","initializeGroupHeader","allowedValues","_createGroup","groupToggleElement","groupID","groupKey","headerGenerator","insertRow","conformRowData","toIndex","updateGroupRows","scrollHeader","getRowIndex","removeRow","groupValues","generateGroupHeaderContents","removeGroup","getHeadersAndRows","_visSet","groupClosedShowCalcs","count","prev","includeChildren","getPath","childNodes","GroupRows","displayHandler","setGroupBy","setGroupValues","setGroupStartOpen","setGroupHeader","userGetGroups","userGetGroupedData","rowGetGroup","_blockRedrawing","_restore_redrawing","groupUpdateOnCellEdit","cellUpdated","reassignRowToGroup","configureGroupSetup","rowDeleting","scrollHeaders","rowMoving","rowAddingIndex","rowSample","virtualRenderFill","groupStartOpen","langValue","lang","items","getRealColumns","lookupFunc","prevValue","tableElement","assignRowToGroup","moveRowInArray","getGroupedData","toGroup","fromGroup","generateGroups","groupComponents","pullGroupListData","groupListData","rowCount","headerContent","countGroups","oldGroups","createGroup","assignRowToExistingGroup","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","getExpectedPath","groupPath","groupId","checkBasicModeGroupHeaderWidth","onlyGroupHeaders","History","history","clearComponentHistory","rowDeleted","rowAdded","rowMoved","undo","redo","getHistoryUndoSize","getHistoryRedoSize","posFrom","posTo","newValue","undoers","redoers","_rebindRow","oldRow","cellEdit","rowAdd","addRowActual","rowMove","getRowFromPosition","regenerateRowPositions","reRenderInPosition","HtmlTableImport","fieldIndex","hasIndex","tableElementCheck","originalElement","parseTable","_extractOptions","_extractHeaders","_generateBlankHeaders","optionsArr","attrib","_attribValue","_findCol","exists","replaceAll","registeredDefaults","defaultImporters","inQuote","nextChar","array","Import","importFromFile","importFormat","loadDataCheck","loadData","importData","lookupImporter","structureData","err","importer","importers","extension","pickFile","extensions","accept","file","files","reader","FileReader","importReader","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","onload","onerror","parsedData","autoColumns","structureArrayToObject","structureArrayToColumns","Interaction","eventMap","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowMouseDown","rowMouseUp","rowTap","rowDblTap","rowTapHold","cellDblClick","cellContext","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellMouseDown","cellMouseUp","cellTap","cellDblTap","cellTapHold","headerClick","headerDblClick","headerContext","headerMouseEnter","headerMouseLeave","headerMouseOver","headerMouseOut","headerMouseMove","headerMouseDown","headerMouseUp","headerTap","headerDblTap","headerTapHold","groupClick","groupDblClick","groupContext","groupMouseEnter","groupMouseLeave","groupMouseOver","groupMouseOut","groupMouseMove","groupMouseDown","groupMouseUp","groupTap","groupDblTap","groupTapHold","subscribers","touchSubscribers","columnSubscribers","touchWatchers","tap","tapDbl","tapHold","initializeExternalEvents","cellContentsSelectionFixer","clearTouchWatchers","selectNode","subscriptionChanged","added","subscribeTouchEvents","unsubscribeTouchEvents","handleTouch","noTouch","dispatchEvent","watchers","componentObj","Keybindings","watchKeys","pressedKeys","keyupBinding","keydownBinding","bindings","keybindings","mergedBindings","mapBindings","bindEvents","clearBindings","binding","mapBinding","symbolsList","ctrl","meta","code","checkBinding","navPrev","navNext","navUp","navDown","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","copyToClipboard","keyBlock","newPos","displayRowsCount","scrollMax","navLeft","navRight","Menu","nestedMenuBlock","currentComponent","rootPopup","initializeRowWatchers","initializeGroupWatchers","rowContextMenu","loadMenuEvent","rowClickMenu","rowDblClickMenu","groupContextMenu","groupClickMenu","groupDblClickMenu","headerContextMenu","loadMenuTableColumnEvent","headerClickMenu","headerDblClickMenu","headerMenu","initializeColumnHeaderMenu","contextMenu","loadMenuTableCellEvent","clickMenu","dblClickMenu","headerMenuEl","icon","headerMenuIcon","menu","loadMenu","parentPopup","itemEl","disabled","MoveColumns","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","movableColumns","colEl","mousemove","which","startMove","bindTouchEvents","nextColWidth","prevColWidth","nextColWidthLast","prevColWidthLast","startXMove","moveToCol","_bindMouseMove","_unbindMouseMove","movingCells","moveColumnActual","scrollPos","columnHolder","xPos","MoveRows","toRowAfter","hasHandle","startY","tableRowDropEvent","connection","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connections","connectedTable","connectedRow","movableRowsConnectedTables","movableRowsConnectedElements","initializeCell","mouseup","tableRowDrop","previousSibling","rowHandle","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","startYMove","setStartPosition","connectToTables","disconnectFromTables","moveHoverConnections","moveHoverTable","rowHolder","yPos","elementRowDrop","connectionTables","query","prototype","dropEvent","tabulatorElementDropEvent","connect","disconnect","dropComplete","sender","movableRowsSender","senders","movableRowsReceiver","receivers","fromRow","fromTable","toTable","Mutator","transformCell","mutateLink","lookupMutator","mutators","mutatorEdit","links","linkCell","defaultPageCounters","pageSize","currentRow","currentPage","totalRows","totalPages","showingEl","valueEl","ofEl","totalEl","rowsEl","pages","Page","progressiveLoad","pageCounterElement","pageCounter","page","remoteRowCountEstimate","initialLoad","dataChanging","pageSizes","setMaxPage","setPage","userSetPageToRow","userSetPageSize","getPageSize","previousPage","nextPage","getPage","getPageMax","setPageToRow","initialLoadComplete","calculatePageSizes","footerRedraw","paginationAddRow","rowAddingPosition","paginationMode","remotePageParams","_parseRemoteData","restOnRenderBefore","initializePageCounter","initializePaginator","initializeProgressive","scrollVertical","testElRow","testElCell","paginationSize","generatePageSizeSelectList","setPageSize","dir","loading","progressiveLoadScrollMargin","pagesElement","firstBut","prevBut","nextBut","lastBut","paginationSizeSelector","pageSizeSelect","counter","paginationCounter","pageCounters","hidden","pageSelectLabel","paginationCounterHolder","paginationElement","paginationCounterElement","paginationInitialPage","paginationButtonCount","setMaxRows","_setPageCounter","_setPageButtons","leftSize","rightSize","_generatePageButton","actualStartRow","actualRowPageSize","actualRows","finally","last_page","last_row","addRows","progressiveLoadDelay","footer","containerElement","defaultReaders","local","localStorage","getItem","cookie","cookiePos","defaultWriters","setItem","expireDate","setDate","getDate","toUTCString","Persistence","defWatcherBlock","readFunc","writeFunc","localStorageTest","testKey","removeItem","persistence","retrievedData","persistenceMode","persistenceID","persistenceReaderFunc","readers","persistenceWriterFunc","writers","retrieveData","save","eventSave","getColumnLayout","setColumnLayout","sorters","initialSort","parseColumns","setColumns","mergeDefinition","getOwnPropertyDescriptor","defineProperty","oldCols","newCols","_findColumn","validateSorters","getSort","getGroupConfig","getPageConfig","definitions","excludedKeys","defStore","colDef","moduleInitOrder","Popup$1","_componentPopupCall","loadPopupEvent","rowContextPopup","rowClickPopup","rowDblClickPopup","groupContextPopup","groupClickPopup","groupDblClickPopup","headerContextPopup","loadPopupTableColumnEvent","headerClickPopup","headerDblClickPopup","headerPopup","initializeColumnHeaderPopup","contextPopup","loadPopupTableCellEvent","clickPopup","dblClickPopup","headerPopupEl","headerPopupIcon","loadPopup","contentsEl","Print","manualBlock","beforeprintEventHandler","afterprintEventHandler","printAsHtml","replaceTable","cleanup","printFullscreen","printConfig","printStyled","printRowRange","footerContent","scrollX","scrollY","footerEl","tableEl","printHeader","printFooter","printFormatter","ReactiveData","origFuncs","currentVersion","reactiveData","unblock","watchRow","watchData","unwatchData","enumerable","configurable","getRowFromDataObject","pop","startRow","newRows","reverse","oldRows","writable","watchKey","watchTreeChildren","childField","rebuildTree","unwatchRow","ResizeColumns","startColumn","startWidth","latestX","initialNextColumn","layoutColumnHeader","initializeEventWatchers","layoutCellHandles","deInitializeComponent","resizeHandle","columnLayoutUpdated","deInitializeColumn","columnWidthUpdated","resizable","reinitializeColumn","frozenColumnOffset","frozenOffset","handleEl","nearestColumn","_checkResizability","handleDown","_mouseDown","oldWidth","parentElement","mouseMove","blockedBefore","blockedAfter","moveDiff","resizableColumnFit","colWidth","browserSlow","mouseUp","ResizeRows","startHeight","prevHandle","prevHandleDown","screenY","ResizeTable","visibilityObserver","resizeObserver","containerObserver","tableHeight","tableWidth","containerHeight","containerWidth","autoResize","initialRedraw","tableStyle","IntersectionObserver","ResizeObserver","initializeVisibilityObserver","entry","browserMobile","nodeHeight","contentRect","nodeWidth","redrawTable","observe","fixedHeight","tableResized","isIntersecting","unobserve","ResponsiveLayout","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","updateColumnVisibility","initializeResponsivity","generateCollapsedRowContent","responsiveLayoutCollapseFormatter","formatCollapsedData","responsiveLayoutCollapseStartOpen","responsive","generateCollapsedContent","hideColumn","colCount","showColumn","working","getFlexBaseWidth","headerVisible","activeRowsCount","renderEmptyScroll","generateCollapsedRowData","mockCellComponent","responsiveLayoutCollapseUseFormatters","node_content","titleData","valueData","titleHighlight","SelectRow","selecting","lastClickedRow","selectPrev","headerCheckboxElement","selectRows","deselectRows","getSelectedRows","getSelectedData","isRowSelected","selectable","clearSelectionData","rowRetrieve","selectablePersistence","_deselectRow","prevSelected","_rowSelectionChanged","endSelect","checkRowSelectability","_clearSelection","lastClickedRowIdx","getDisplayRowIndex","rowIdx","fromRowIdx","toRowIdx","toggledRows","toggledRow","selectableCheck","_selectRow","rowMatch","change","changes","rowInfo","selectableRollingSelection","checkboxEl","dataTreeSelectPropagate","childRowSelection","selectedRow","deselected","datetime$2","aRow","bRow","alignEmptyValues","defaultSorters","decimalSeparator","thousandSeparator","string","locale","localeCompare","boolean","calc","d","alphanum","Sort","sortList","userSetSort","clearSort","sortMode","remoteSortParams","setSort","refreshSort","arrowEl","sorterParams","startingDir","headerSortStartingDir","headerSortTristate","headerSort","headerSortClickElement","headerSortElement","setColumnHeaderSortIcon","columnHeaderSortMulti","newSortList","findSorter","sortOrderReverse","sortListActual","rowComponents","clearColumnHeaders","sortObj","setColumnHeader","_sortItems","sortEl","sorterCount","sortItem","_sortRow","el1Comp","el2Comp","el1","el2","Tooltip","tooltipSubscriber","headerSubscriber","popupInstance","headerTooltip","mousemoveCheck","mouseoutCheck","tooltip","clearPopup","loadTooltip","tooltipDelay","defaultValidators","parameters","float","numeric","starts","ends","minLength","maxLength","in","regex","unique","cellData","required","Validate","invalidCells","getInvalidCells","userClearCellValidation","userValidate","cellIsValid","clearValidation","cellValidate","columnValidate","rowValidate","editValidate","editorClear","editedClear","previousValue","validate","cancelled","validator","_extractValidator","substring","_buildValidator","validators","failedValidators","invalidIndex","freeze","AccessorModule","AjaxModule","ClipboardModule","ColumnCalcsModule","DataTreeModule","DownloadModule","EditModule","ExportModule","FilterModule","FormatModule","FrozenColumnsModule","FrozenRowsModule","GroupRowsModule","HistoryModule","HtmlTableImportModule","ImportModule","InteractionModule","KeybindingsModule","MenuModule","MoveColumnsModule","MoveRowsModule","MutatorModule","PageModule","PersistenceModule","PopupModule","PrintModule","ReactiveDataModule","ResizeColumnsModule","ResizeRowsModule","ResizeTableModule","ResponsiveLayoutModule","SelectRowModule","SortModule","TooltipModule","ValidateModule","OptionsList","msgType","userOptions","debugInvalidOptions","Renderer","elementVertical","elementHorizontal","verticalFillMode","clearRows","clearColumns","reinitializeColumnWidths","renderRows","renderColumns","rerenderRows","scrollColumns","scrollRows","scrollToRowNearestTop","includingBuffer","rerender","scrollToRowPosition","rowIndex","scrollToRowIfVisible","BasicHorizontal","rowFrag","createDocumentFragment","VirtualDomHorizontal","leftCol","rightCol","vDomScrollPosLeft","vDomScrollPosRight","vDomPadRight","fitDataColAvg","windowBuffer","isFitData","compatibilityCheck","layoutCheck","vertScrollListen","clearVisRowCache","dataChange","calcWindowBuffer","buffer","cols","colPos","leftPos","rightPos","fitDataCheck","vdomHoz","reinitChanged","reinitializeRow","colEnd","otherRows","addColRight","removeColLeft","addColLeft","removeColRight","colPositionAdjust","fitDataColActualWidthCheck","ex","message","newWidth","widthDiff","appendCell","ColumnManager","blockHozScrollEvent","columnsByField","redrawBlockUpdate","initializeRenderer","createHeadersElement","createHeaderContentsElement","createHeaderElement","initializeScrollWheelWatcher","padVerticalScrollbar","renderClass","renderers","deltaX","generateColumnsFromRowData","autoColumnsDefinitions","_addColumn","_reIndexColumns","nextToColumn","topColumn","parentIndex","nextEl","root","getDefinitions","getDefinitionTree","getComponents","structured","_moveColumnInArray","updateRows","fromIndex","scrollToColumnPosition","scrollToColumnIfVisible","totalWidth","fixedWidth","resetScroll","BasicVertical","tableFrag","rowTop","VirtualDomVertical","vDomRowHeight","vDomTop","vDomBottom","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","paddingBottom","_virtualRenderFill","topOffset","tableEmpty","topDiff","bottomDiff","_addTopRow","vDomScrollHeight","_removeBottomRow","_addBottomRow","_removeTopRow","renderVerticalBuffer","topFound","bottomRow","forceMove","rowFragment","topPad","rowsHeight","heightOccupied","topPadHeight","rowsCount","renderedRows","totalRowsRendered","rowsToRender","avgRowHeight","resized","fillableSpace","addedRows","paddingAdjust","_quickNormalizeRowHeight","removableRows","RowManager","createHolderElement","createTableElement","heightFixer","placeholderContents","firstRender","renderMode","activeRowsPipeline","redrawBlockRestoreConfig","redrawBlockRenderInPosition","dataPipeline","scrollbarWidth","initializePlaceholder","leftDir","topDir","_positionPlaceholder","_setDataActual","_wipeElements","allIndex","activeIndex","setActiveRows","displayRowIterator","displayIndex","refreshDisplayOnly","findAddRowPos","_clearPlaceholder","addRowPos","chainResult","clearData","findRowIndex","rowOnly","getDataCount","skipStage","stage","cascadeOrder","refreshPipelines","renderTable","layoutColumnsOnNewData","resetDisplayRows","setDisplayRows","scrollBarCheck","renderVertical","_clearTable","_showPlaceholder","initialHeight","otherHeight","external","createEvent","initEvent","Event","FooterManager","createContainerElement","initializeElement","footerElement","activate","deactivate","InteractionManager","abortClasses","previousTargets","componentMap","pseudoTrackers","subscriber","pseudoTracking","buildListenerMap","bindSubscriptionWatchers","listenerMap","components","bindPseudoEvents","pseudoMouseEnter","pseudoMouseLeave","leaveList","linkedKeys","comp","clearWatchers","updateEventListeners","track","findTargets","bindComponents","triggerEvents","elTargets","targetMatches","previousTarget","closest","ComponentFunctionBinder","funcName","debugInvalidComponentFuncs","DataLoader","requestOrder","requestNo","alertLoader","mapParams","dataSendParams","objectInvert","dataReceiveParams","alertError","dataLoaderErrorTimeout","blockActiveLoad","dataLoaderLoading","dataLoaderError","ExternalEventBus","debug","events","subscriptionNotifiers","_debugDispatch","_dispatch","_notifySubscriptionChange","notifiers","callResult","log","InternalEventBus","_debugChain","_chain","_debugConfirm","_confirm","fallback","confirmed","DeprecationAdvisor","_warnUser","TableRegistry","tables","deregister","lookupTable","matchElement","Tabulator","fitDataGeneral","forced","defaultModes","fitData","fitDataFill","fitDataTable","fitDataStretch","colsWidth","gap","lastCol","fitColumns","flexColWidth","overflowWidth","flexWidth","flexGrowUnits","flexColumns","fixedShrinkColumns","flexShrinkUnits","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","remainingFlexGrowUnits","changeUnits","undersizeCols","calcGrow","widthGrow","calcShrink","widthShrink","Layout","modes","dataChanged","Localize","langList","langs","setHeaderFilterPlaceholder","installLang","setLocale","getLang","default","_setLangProp","desiredLocale","language","traverseLang","trans","_executeBindings","pathArray","_getLangElement","rootPath","Comms","receive","selectors","con","tableComms","coreModules","LayoutModule","LocalizeModule","CommsModule","ModuleBinder","tabulator","bindStaticFunctionality","bindModules","moduleBindings","extendModule","source","registerModule","mod","registerModuleBinding","findTable","orderedStartMods","orderedEndMods","unOrderedMods","moduleCore","modulesCore","modulesRegular","core","mods","Alert","_createAlertElement","msgElement","_createMsgElement","_typeClass","interactionMonitor","initializeCoreSystems","_create","_clearObjectPointers","_mapDeprecatedFunctionality","debugEventsExternal","debugEventsInternal","_rtlCheck","_buildElement","_initializeTable","_loadInitialData","textDirection","newElement","_detectBrowser","ua","vendor","opera","stack","line","debugInitialization","Error","replaceData","responses","foundRows","updateOrAddRow","updateRow","getRowPosition","getColumnDefinitions","toggleColumn","deleteColumn","updateColumnDefinition","fromColumn","off","debugDeprecation","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","TabulatorFull","$tippy","recipesUrl","itemsJsonUrl","imagesPath","recipes","recipes_ingredients","recipes_buffs","recipes_buffs_filtered","ingredients","tabledata","ingredientCols","init","queryString","sourceParam","URLSearchParams","recipesAnditemsPromisesArray","app","isDarkMode","dataset","bsTheme","createPopOver","itemByName","merge","mergedItem","effect_group","mergeProperties","mergeEffectGroup","pickEffectGroup","parentEffectGroup","childEffectGroup","mergedEffectGroup","display_value","triggered_effect","mergeTriggeredEffect","parentTriggeredEffect","childTriggeredEffect","mergedTriggeredEffect","triggeredEffectsToArray","triggeredEffect","cvar","existingTriggeredEffect","triggeredEffectByCvar","buff","triggeredEffectByBuff","operation","stat","triggeredEffectArray","effectGroupsToArray","effectGroup","ingredientsToArray","ingredient","propertiesToArray","properties","parentProperties","childProperties","mergePropertiesArrays","mergedProperties","existingProperty","propertyByName","combinedEffectGroup","recipe","ingredientsArray","buffsArray","buffsFilteredArray","parentProperty","propertyValueByName","itemName","itemEffectGroup","displayValue","buffFiltered","keysArray","buildIngredientStyles","buildIngredientCols","buildTableData","buildFilters","buildTable","iconForItem","iconProperty","parentItem","ingredientList","styleElement","foodId","buffs","craftArea","craft_area","craftTool","craft_tool","food","toNumber","water","hp","stamina","wellness","calmness","poison","recipeIngredient","craftAreas","columDefs","infoGroupColumDef","buffGroupColumDef","filterCraftArea","nameFilter","hideDebuffs","$","clearFiltering","updateFilter","filterCraftAreaVal","nameFilterVal","colFilter","it","buildFilterCraftArea","getElementById","selectpicker","Option"],"sourceRoot":""}