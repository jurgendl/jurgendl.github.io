!function(){"use strict";(new class{emptyImage="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";defaultSelectedId="Phosphoenic Psalm + Technomartyr Psalm + Neuralis Psalm + Binharic Psalm";init(){fetch("assets/w40k-inquisitor-martyr-code.json").then((e=>e.json())).then((e=>this.app(e)))}data;app(e){this.data=e;for(let e=0;e<6;e++)$("#imgcontainer").append('<img id="p'+e+'" width="60" height="60" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=">&nbsp;'),$("#descriptioncontainer").append('<div id="description'+e+'">&nbsp;</div>');$("#selectDoctrineContainer").append($("<select/>").attr("id","selectDoctrine").attr("size","false").attr("name","selectDoctrine").attr("data-style","btn-light").append($("<option>",{}).text(""))),$.each(e.doctrines,((e,t)=>{let a="";$.each(t.psalms,((e,t)=>{a+='<span><span class="psalm_list '+t.replace(" ","_")+" "+this.psalmByname(t)?.level+'">'+t+"</span></span>"})),$("#selectDoctrine").append($("<option>",{value:t.id,"data-content":'<div style="font-weight: bold;">'+t.description+'</div><div class="psalm_list_parent" style="font-weight: bold; font-size: smaller;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+a+"</div>"}).text(t.description))})),document.querySelector("#selectDoctrine").value=this.defaultSelectedId,$("#selectDoctrine").selectpicker(),$.each(this.allPsalmsOfLevels(["Relic","Archeotech"]),((e,t)=>{$("#pills-settings").append('<div class="imgcheck input-group input-group-sm"><label class="checkbox-inline" for="check'+e+'"><input '+(this.isPsalmChecked(t.name)?' checked="checked"':"")+' data-psalm-name="'+t.name+'" value="'+t.name+'" style="display: none;" type="checkbox" id="check'+e+'" /><img id="is'+e+'" width="60" height="60" src="data:image/png;base64, '+t.image+'">&nbsp;<span class="'+t.name.replace(" ","_")+(this.isPsalmChecked(t.name)?"":" strikeme")+'" id="lbl'+e+'">'+t.name+"</span></label></div>"),$("#check"+e).change((e=>this.checkDoctrineChange(e)))})),$("#selectDoctrine").change(this.selectDoctrineChange),this.selectDoctrineChange(),setTimeout((()=>{$('[data-id="selectDoctrine"]').click(),setTimeout((()=>{$('[data-id="selectDoctrine"]').click(),$.each(this.allPsalmsOfLevels(["Relic","Archeotech"]),((e,t)=>{this.isPsalmChecked(t.name)||$("."+t.name.replace(" ","_")).addClass("strikeme")}))}),100)}),250)}levelForPsalm(e){return this.psalmByname(e)?.level}allPsalmsOfLevels(e){return this.data.psalms.filter((t=>e.includes(t.level)))}psalmByname(e){return this.data.psalms.find((t=>t.name==e))}doctrineById(e){return this.data.doctrines.find((t=>t.id==e))}isPsalmChecked(e){return"true"==window.localStorage.getItem(e)}checkDoctrineChange(e){const t=e.target.checked,a=$(e.target).attr("data-psalm-name"),s=$(e.target).attr("value");s&&window.localStorage.setItem(s,t),a&&(t?$("."+a.replace(" ","_")).removeClass("strikeme"):$("."+a.replace(" ","_")).addClass("strikeme"))}selectDoctrineChange(){const e=$("#selectDoctrine").find("option:selected").val();if(e&&"string"==typeof e){const t=this.doctrineById(e);if(t){$("#description").html(t.description);for(let e=0;e<6;e++)$("#p"+e).attr("src",this.emptyImage).attr("title",""),$("#description"+e).attr("class","").text(" ");$.each(t.psalms,((e,t)=>{const a=this.psalmByname(t);a&&($("#p"+e).attr("src","data:image/png;base64,"+a.image).attr("title",a.name),$("#description"+e).attr("class",a.level).html("<u><b>"+a.name+"</b></u>: "+a.description))}))}}}}).init()}();
//# sourceMappingURL=w40k-inquisitor-martyr.js.map